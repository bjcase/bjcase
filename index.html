<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>bj case ‚Äî home</title>

<!-- Favicons (always included, cache-busted) -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=1.20.7">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=1.20.7">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=1.20.7">
<link rel="manifest" href="/site.webmanifest?v=1.20.7">
<link rel="shortcut icon" href="/favicon.ico?v=1.20.7">
<meta name="theme-color" content="#ff9ef6">

<!-- Cache hints -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Atma:wght@400&display=swap" rel="stylesheet" />

<style>
/* ===========================================================
   üåà  BJ CASE 2003 WEBZONE ‚Äî SINGLE FILE INDEX (v1.20.7)
   - Hearts secret routes (lowercase) working
   - PONG: responsive canvas, arrow-keys no-scroll, all borders bounce
   - Music page intro text replaced; Status removed on Music
   =========================================================== */

/* ---------- PALETTE ---------- */
:root{
  --pink:#ff9ef6;
  --pink-dark:#d24fbf;
  --neon-blue:#49c9ff;
  --orange:#ffb35e;
  --red:#ff4d4d;
  --ink:#ffeaff;
  --link:#ffbffb;
}

/* ---------- BASE ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:Arial,Helvetica,sans-serif;
  background:#000 url('https://sadhost.neocities.org/images/tiles/pinkstars.gif') repeat fixed; /* DO NOT TOUCH */
  cursor:url('https://cur.cursors-4u.net/cursors/cur-2/cur116.cur'), auto;
}
.wrapper{max-width:860px;margin:0 auto;padding:16px}
a{color:var(--link)} a:hover{color:#fff; text-decoration:underline}

/* ---------- HEADER (tight vertical) ---------- */
.site-header{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#520061 0%,#36003e 60%,#240024 100%);
  box-shadow:0 0 0 2px #000 inset,0 12px 26px #000c;
  margin:16px 0 18px;
  padding:10px 18px 10px; /* tighter vertically */
  position:relative; overflow:hidden;
}

/* Logo + Hearts wrapper */
.logo-wrap{
  position:relative; display:flex; align-items:center; justify-content:center;
  gap:.9em; width:100%; margin:0 auto 6px; z-index:3;
}
.heart{
  display:inline-block; text-decoration:none; line-height:1;
  color:var(--pink);
  font-size:clamp(26px,4.6vw,44px);
  transform:scaleX(1.3);
  text-shadow:0 0 6px var(--pink), 0 0 10px var(--neon-blue), 0 0 14px rgba(255,255,255,.35);
  filter:drop-shadow(0 0 2px #fff6);
  transition: transform .12s ease, text-shadow .2s ease;
  z-index:4;
}
.heart:hover{ transform:scaleX(1.3) scale(1.08); text-shadow:0 0 8px var(--neon-blue), 0 0 14px var(--pink) }

.logo{
  position:relative; z-index:3;
  font-family:"Orbitron","Arial Black",sans-serif;
  font-size:clamp(32px,7vw,86px);
  text-transform:lowercase;
  text-align:center;
  background-image:
    linear-gradient(120deg, transparent 45%, rgba(255,255,255,.98) 50%, transparent 55%),
    linear-gradient(90deg, var(--neon-blue), var(--orange), var(--red), var(--pink), var(--neon-blue));
  background-size: 220% 100%, 400% 400%;
  background-position: -180% 0, 0 50%;
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent;
  animation: logoShine 3.05s linear infinite;
  text-shadow:0 0 6px var(--neon-blue),0 0 10px var(--pink);
  margin:0; width:max-content;
}
@keyframes logoShine{0%{background-position:-180% 0,0 50%}100%{background-position:180% 0,0 50%}}

/* Notes stay behind hearts/logo, away from center text */
.note{
  position:absolute; user-select:none; pointer-events:none; z-index:1;
  color:#ffd1fa; text-shadow:0 0 6px var(--pink), 0 0 10px #fff8;
  opacity:.96; animation: floatY var(--dur,4.6s) ease-in-out infinite;
}
@keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(var(--amp,7px))}}

/* ---------- NAV ---------- */
.nav{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:10px 0 8px}
.nav a{
  --glow: rgba(73,201,255,.65);
  text-decoration:none; color:#fff; font-weight:700; letter-spacing:.02em;
  padding:10px 16px; border-radius:6px; position:relative; overflow:hidden;
  border:2px solid var(--pink);
  background:
    linear-gradient(180deg, #4a005f 0%, #2a003d 55%, #1a0026 100%),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.25), transparent 60%);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.25),
    inset 0 -6px 12px rgba(0,0,0,.45),
    0 0 0 2px #000 inset;
  transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
.nav a::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(120deg, transparent 45%, rgba(255,255,255,.5) 50%, transparent 55%);
  transform:translateX(-130%); transition:transform .5s ease;
}
.nav a:hover{
  border-color:var(--neon-blue); color:var(--neon-blue);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    inset 0 -6px 14px rgba(0,0,0,.5),
    0 0 12px var(--glow);
  transform:translateY(-1px);
}
.nav a:hover::after{ transform:translateX(130%) }

/* ---------- TICKER ---------- */
.ticker{
  overflow:hidden; white-space:nowrap; border:2px solid var(--pink);
  background:linear-gradient(180deg,#330033,#240024);
  font:800 13px/2.1 Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; text-transform:uppercase; letter-spacing:.08em;
}
.ticker span{display:inline-block; padding-left:100%; animation:slide 18s linear infinite}
@keyframes slide{to{transform:translateX(-100%)}}

/* ---------- GRID ---------- */
.grid{display:grid; gap:14px; grid-template-columns:2fr 1fr; align-items:start;}
.grid.single{ grid-template-columns:1fr; }
#leftPane{ min-height: 640px; }
.grid.single #leftPane{ min-height: 780px; }

/* ---------- PANELS ---------- */
.panel{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#3d0055 0%,#21002a 60%,#1a001a 100%);
  box-shadow:0 0 0 2px #000 inset, 0 12px 22px #0007;
  padding:16px; border-radius:3px; position:relative; overflow:hidden;
}
.panel h2{
  margin:0 0 12px;
  font-family:"Atma", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight:400; font-size:20px; line-height:1.2;
  text-transform:uppercase; letter-spacing:.08em; color:var(--neon-blue);
}
.panel + .panel{ margin-top:14px }
hr{border:none; height:1px; background:linear-gradient(90deg,transparent,var(--neon-blue),transparent); margin:12px 0}

/* ---------- STATUS BOX ---------- */
.status-box{
  position:relative; padding:12px; border-radius:8px;
  background:linear-gradient(180deg,#2b0037 0%, #17001e 100%);
  border:2px solid var(--neon-blue);
  box-shadow:0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.18);
}
.status-box::before{
  content:""; position:absolute; inset:0; pointer-events:none; border-radius:8px;
  background: radial-gradient(10px 6px at 10% 10%, rgba(255,255,255,.55), transparent 60%),
              radial-gradient(12px 8px at 90% 25%, rgba(255,255,255,.35), transparent 60%),
              radial-gradient(10px 6px at 15% 85%, rgba(255,255,255,.45), transparent 60%);
  mix-blend-mode:screen; opacity:.45; filter:blur(.3px);
  animation: statusShine 5.5s linear infinite;
}
@keyframes statusShine{ to{ transform:translateX(8px) } }
.pink{color:var(--pink); font-weight:700}

/* ---------- WINAMP ---------- */
.winamp{
  border:1px solid #ff7ef6; background:#1b001d;
  box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset;
  padding:10px; border-radius:4px; color:#ffe5ff;
  font:12px "Tahoma",Verdana,Arial,sans-serif;
}
.winamp .display{
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  background:#120016; padding:6px 8px; margin-bottom:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.winamp .row{display:flex; align-items:center; gap:8px; margin-top:6px}
.btn{
  display:inline-block; width:22px; height:22px; border:1px solid #ff7ef6; background:#350036;
  box-shadow:0 0 0 2px #000 inset; text-align:center; line-height:20px; font-weight:800; user-select:none; position:relative; overflow:hidden; cursor:pointer;
}
.btn::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent); transform:translateX(-120%); opacity:0}
.btn:hover::after{ animation: shine .9s ease; opacity:1 }
@keyframes shine{ from{ left:-70px } to{ left:120% } }
.scrubber{
  flex:1; height:8px; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  background: linear-gradient(90deg,#ff9ef6 0%, #49c9ff 45%, #ffb35e 85%);
  margin-left:8px; border-radius:2px;
}

/* ---------- BADGES ---------- */
.badges{display:flex; flex-wrap:wrap; gap:6px}
.badges a{display:inline-block; padding:6px 10px; border:1px solid var(--pink); box-shadow:0 0 0 2px #000 inset; background:#300033; color:#ffbdfb; font:800 10px/1 Verdana; text-align:center; text-decoration:none}

/* ---------- POLL ---------- */
.pollbox{
  position:relative;
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#2a0034 0%,#1a0024 100%);
  box-shadow:0 0 0 2px #000 inset, 0 10px 18px #0007;
  padding:12px; border-radius:8px; overflow:hidden;
}
.pollbox::after{
  content:""; position:absolute; inset:-2px; border-radius:10px; pointer-events:none;
  background:
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 120px 2px no-repeat,
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 100% / 120px 2px no-repeat,
    linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 2px 120px no-repeat,
    linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 100% 0 / 2px 120px no-repeat;
  animation: borderSweep 4s linear infinite;
  mix-blend-mode:screen; opacity:.7;
}
@keyframes borderSweep{
  0%   { background-position: 0 0, 0 100%, 0 0, 100% 0; }
  100% { background-position: 100% 0, 100% 100%, 0 100%, 100% 100%; }
}
.pollbox p.desc{ margin:0 0 10px; font:12px Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; opacity:.95; }
.poll label{display:block; margin:6px 0; font:12px Verdana,Tahoma,Arial,sans-serif}
.voteBtn{
  margin-top:10px; padding:9px 14px; font-weight:800; letter-spacing:.02em;
  border:2px solid var(--pink); border-radius:6px; cursor:pointer; color:#fff;
  background:
     linear-gradient(180deg,#6c006c 0%, #420042 100%),
     radial-gradient(80% 60% at 50% 0%, rgba(255,255,255,.28), transparent 60%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 14px rgba(73,201,255,.35);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.voteBtn:hover{ transform:translateY(-1px); border-color:var(--neon-blue); box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.55) }
.poll-results{ margin-top:10px; font:12px Verdana,Tahoma,Arial,sans-serif }
.bar{height:12px;background:#ff79e9;border:1px solid var(--pink);box-shadow:0 0 0 2px #000 inset}

/* ---------- FAKE WEBCAM ---------- */
.webcam{
  border:2px solid #ff7ef6; background:#0d0010;
  box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset;
  padding:10px; border-radius:4px; position:relative; margin-top:12px;
}
.webcam .bar{
  display:flex; justify-content:space-between; align-items:center;
  font:10px Tahoma,Verdana,Arial,sans-serif; color:#ffdfff; opacity:.95; margin-bottom:8px;
}
.webcam .rec{ display:inline-flex; gap:6px; align-items:center; letter-spacing:.08em; text-transform:uppercase; color:var(--pink-dark) }
.webcam .dot{ width:8px; height:8px; background:#ff4d4d; border-radius:50%; box-shadow:0 0 6px #ff4d4d; animation:blink 1s steps(2,end) infinite; }
@keyframes blink{50%{opacity:.2}}
.webcam .ts{ opacity:.95; color:var(--pink-dark) }
.webcam .screen{
  width:100%; aspect-ratio:4/3; background:#120016;
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  overflow:hidden; position:relative;
}
.webcam .screen img{ width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.05) saturate(1.1) brightness(.95); }

/* ---------- SHOUTBOX ---------- */
.shoutbox{ margin-top:14px }
.chat{
  display:flex; flex-direction:column; gap:8px;
  max-height: 460px; min-height: 260px;
  overflow:auto;
  background:#1a001e; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; padding:10px; border-radius:4px;
}
.bubble{
  max-width:92%; padding:8px 10px; border-radius:10px; font:12px Verdana,Tahoma,Arial,sans-serif; line-height:1.3;
  background:linear-gradient(180deg,#420046,#2a0030); border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
}
.bubble.me{ align-self:flex-end; background:linear-gradient(180deg,#004a66,#002436); border-color:#49c9ff }
.meta{ font-size:10px; opacity:.7; margin-top:3px }
.inputRow{ display:flex; gap:6px; margin-top:10px }
.inputRow input,.inputRow textarea{
  flex:1; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:8px; font:12px Verdana,Tahoma,Arial,sans-serif;
  box-shadow:0 0 0 2px #000 inset;
}
.inputRow button{
  background:linear-gradient(180deg,#6c006c,#420042); color:#fff; border:2px solid var(--pink); border-radius:4px; padding:8px 12px; font-weight:700; cursor:pointer;
  box-shadow:0 0 0 3px #000 inset;
}
.emotes{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px }
.emotes button{
  font:12px Verdana,Tahoma,Arial,sans-serif; padding:4px 8px; border:1px solid var(--pink); background:#300033; color:#ffdfff; border-radius:3px; cursor:pointer;
}

/* ---------- FOOTER ---------- */
footer{margin:18px 0 32px; text-align:center; color:#ffdfff; font:12px Verdana,Tahoma,Arial,sans-serif}

/* ---------- CURSOR GLITTER ---------- */
.cursor-star{
  position:absolute; width:7px; height:7px; pointer-events:none;
  background:radial-gradient(circle,#fff 0%,transparent 70%);
  opacity:.95; filter:drop-shadow(0 0 4px currentColor);
  animation:starFade .5s linear forwards;
}
@keyframes starFade{from{transform:scale(1);opacity:.95}to{transform:scale(0);opacity:0}}

/* ---------- RESPONSIVE ---------- */
@media(max-width:520px){
  .nav a{font-size:14px; padding:8px 12px}
  .logo{font-size:clamp(28px,9vw,72px)}
}
</style>
</head>
<body>
<div class="wrapper">

  <!-- ========== HEADER ========== -->
  <header class="site-header" id="header">
    <!-- Left cluster -->
    <span class="note" style="left:10px; top:4px;  font-size:16px; --dur:4.8s; --amp:8px;">‚ô™</span>
    <span class="note" style="left:34px; top:22px; font-size:21px; --dur:4.2s; --amp:6px;">‚ô´</span>
    <span class="note" style="left:18px; top:46px; font-size:14px; --dur:5.1s; --amp:7px;">‚ô™</span>
    <span class="note" style="left:64px; top:70px; font-size:18px; --dur:4.5s; --amp:6px;">‚ô´</span>
    <span class="note" style="left:22px; top:94px; font-size:16px; --dur:4.9s; --amp:6px;">‚ô™</span>
    <span class="note" style="left:74px; top:114px;font-size:18px; --dur:4.4s; --amp:6px;">‚ô´</span>
    <!-- fill gap -->
    <span class="note" style="left:96px; top:10px;font-size:16px; --dur:4.7s; --amp:6px;">‚ô™</span>
    <span class="note" style="left:112px; top:36px;font-size:18px; --dur:4.6s; --amp:7px;">‚ô´</span>

    <!-- Right cluster -->
    <span class="note" style="right:12px; top:6px;  font-size:20px; --dur:4.6s; --amp:8px;">‚ô´</span>
    <span class="note" style="right:42px; top:24px;  font-size:14px; --dur:4.0s; --amp:6px;">‚ô™</span>
    <span class="note" style="right:20px; top:48px;  font-size:23px; --dur:5.0s; --amp:7px;">‚ô´</span>
    <span class="note" style="right:76px; top:72px;  font-size:16px; --dur:4.3s; --amp:6px;">‚ô™</span>
    <span class="note" style="right:26px; top:96px;  font-size:16px; --dur:4.9s; --amp:6px;">‚ô™</span>
    <span class="note" style="right:80px; top:116px; font-size:18px; --dur:4.4s; --amp:6px;">‚ô´</span>
    <!-- fill gap -->
    <span class="note" style="right:104px; top:14px;font-size:16px; --dur:4.7s; --amp:6px;">‚ô™</span>
    <span class="note" style="right:124px; top:40px;font-size:18px; --dur:4.6s; --amp:7px;">‚ô´</span>

    <!-- Logo + Hearts -->
    <div class="logo-wrap">
      <a class="heart left"  href="#heartl" title="secret left">‚ô•</a>
      <div class="logo" id="logo">bj case</div>
      <a class="heart right" href="#heartr" title="secret right">‚ô•</a>
    </div>

    <nav class="nav" aria-label="Main">
      <a href="#home">Home</a>
      <a href="#music">Music</a>
      <a href="#visuals">Visuals</a>
      <a href="#journal">Journal</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="ticker"><span>‚úß Welcome to the official BJ Case webzone ‚Ä¢ New music coming soon ‚Ä¢ Chasing dreams since 2003 ‚úß</span></div>
  </header>

  <!-- ========== MAIN GRID ========== -->
  <main class="grid" id="pageRoot">
    <!-- LEFT -->
    <section class="panel" id="leftPane">
      <h2 id="leftTitle">Welcome</h2>
      <div id="leftContent">
        <p>Hi! My name is BJ. I hope you enjoy my page. This is my own little slice (or perhaps, strand?) of the web. This is my digital diary. My respite from the chaos. Feel free to look around, get lost even. Oh, and btw‚Ä¶ I make music! That‚Äôs on here if you wanna check it out!! Safe travels :p</p>

        <hr />
        <h2>Status</h2>
        <div class="status-box">
          <p style="white-space:pre-line; margin:0">
<span class="pink">Currently:</span> rewatching Charmed and working on music : )
<span class="pink">Now listening to:</span> Britney ‚Äî ‚ÄúPhonography‚Äù (on repeat)
<span class="pink">Mood:</span> excited and nervous :D
          </p>
        </div>

        <hr />
        <h2>Now Playing</h2>
        <div class="winamp" role="group" aria-label="Now Playing">
          <div class="display" id="nowPlayingTrack">01. bj case ‚Äî Performance (demo)</div>
          <div class="row">
            <div class="btn" title="Prev" aria-label="Previous">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M7 5v14H5V5h2zm2 7 10 7V5L9 12z"/></svg>
            </div>
            <div class="btn" title="Play" aria-label="Play">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M8 5v14l11-7z"/></svg>
            </div>
            <div class="btn" title="Pause" aria-label="Pause">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
            </div>
            <div class="btn" title="Next" aria-label="Next">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M17 5v14h2V5h-2zM7 5l10 7-10 7V5z"/></svg>
            </div>
            <div class="scrubber" title="Scrub (decorative)"></div>
            <div id="nowPlayingTime">02:47</div>
          </div>
        </div>

        <hr />
        <h2>Featured Links</h2>
        <p>A little something I‚Äôve learned from my short time on Earth so far is the importance of placing an extreme emphasis on LOVE. ;)</p>

        <hr />
        <h2>Roadmap</h2>
        <ul>
          <li>Automation swells, stop-downs, and vocal throws</li>
          <li>Flip Phone ‚Äî saw/square stack groove polish</li>
          <li>Website ‚Äî secret sticker links &amp; gallery</li>
        </ul>

        <div style="margin-top:12px; font:11px Verdana">
          <span style="padding:2px 6px;border:1px solid var(--pink);background:#300033;box-shadow:0 0 0 2px #000 inset">‚òÖ NEW ‚òÖ</span>
          &nbsp;Online now: <span id="onlineCount">7</span> users
        </div>
      </div>
    </section>

    <!-- RIGHT -->
    <aside class="panel" id="rightPane">
      <h2>Release Timeline</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
 ‚Ä¢Spring 2026: ??
 ‚Ä¢Summer 2026: ???
 ‚Ä¢ Autumn 2026: ???? 
      </pre>

      <hr />
      <h2>Studio Log</h2>
      <ul id="rightBlock2" style="margin:0 0 10px 18px; padding:0;">
        <li><strong>Nov 3, 2025:</strong> Pong responsive + no-scroll; music intro updated</li>
        <li><strong>Nov 2, 2025:</strong> Webcam moved to bottom; Winamp fixed</li>
      </ul>

      <hr />
      <h2>Poll</h2>
      <div class="pollbox" id="pollArea">
        <p class="desc">Pick the song that most interests you‚Ä¶</p>
        <div class="poll">
          <label><input type="radio" name="poll" value="performance"> ‚ÄúPerformance‚Äù</label>
          <label><input type="radio" name="poll" value="flip"> ‚ÄúFlip Phone‚Äù</label>
          <label><input type="radio" name="poll" value="look"> ‚ÄúLook But Don‚Äôt Touch‚Äù</label>
          <button id="voteBtn" class="voteBtn">Cast Vote</button>
        </div>
        <div class="poll-results" id="pollResults" style="display:none;">
          <div>Performance: <span id="pPerf">0%</span></div>
          <div class="bar" id="bPerf" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Flip Phone: <span id="pFlip">0%</span></div>
          <div class="bar" id="bFlip" style="width:0%; background:#49c9ff"></div>
          <div style="height:6px"></div>
          <div>Look BDT: <span id="pLook">0%</span></div>
          <div class="bar" id="bLook" style="width:0%; background:#ffb35e"></div>
        </div>
      </div>

      <hr />
      <h2>Quick Links</h2>
      <div class="badges" aria-label="Buttons" id="rightQuick">
        <a href="#journal">Journal</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#music">Music</a>
      </div>

      <!-- Webcam -->
      <div class="webcam">
        <div class="bar">
          <div class="rec"><span class="dot"></span> REC</div>
          <div class="ts" id="ts">00:00:00</div>
        </div>
        <div class="screen">
          <img id="webcamFeed" src="/assets/webcam.gif?v=1.20.7" alt="webcam feed placeholder">
        </div>
      </div>
    </aside>
  </main>

  <!-- SHOUTBOX -->
  <section class="panel shoutbox" aria-label="Shoutbox">
    <h2>Shoutbox</h2>
    <div style="display:flex; align-items:center; gap:10px; margin-bottom:8px;">
      <label style="font:12px Verdana"><input type="checkbox" id="privateToggle"> Private view (show my local posts)</label>
      <button id="clearLocal" style="margin-left:auto; background:#2a0030; color:#ffdfff; border:1px solid var(--pink); padding:6px 10px; border-radius:4px; cursor:pointer;">Clear my local posts</button>
    </div>
    <div class="chat" id="chat">
      <div class="bubble"><strong>anon123:</strong> love the sparkle bg! ^_^ <div class="meta">today</div></div>
      <div class="bubble me"><strong>bjcase:</strong> thank you!! new music soon :3 <div class="meta">today</div></div>
    </div>
    <div class="emotes" id="emotes">
      <button type="button">^_^</button><button type="button">>_<</button><button type="button">;_;</button><button type="button">:3</button><button type="button">x_x</button>
      <button type="button">(>‚Äø<)</button><button type="button">(Ôæâ‚óï‚Äø‚óï)Ôæâ*</button><button type="button">(„Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å•</button><button type="button">(~_^)</button><button type="button">‡≤†_‡≤†</button>
    </div>
    <div class="inputRow">
      <input id="nameInput" placeholder="name (optional)" />
      <textarea id="msgInput" rows="2" placeholder="type a message... (saved locally only)"></textarea>
      <button id="sendBtn">Save</button>
    </div>
    <p style="font:11px Verdana; opacity:.75; margin-top:8px;">Posts you add are saved to <em>your device only</em> and are hidden by default. Toggle ‚ÄúPrivate view‚Äù to see them.</p>
  </section>

  <footer>¬© <span id="y">2025</span> bj case ‚Äî handmade glitter webzone</footer>
</div>

<script>
/* ===== VERSION & CACHE-BUST ===== */
const SITE_VERSION = '1.20.7';
(function ensureVersionParam(){
  try{
    const u = new URL(location.href);
    if(u.searchParams.get('v') !== SITE_VERSION){
      u.searchParams.set('v', SITE_VERSION);
      history.replaceState(null, '', u.toString());
    }
  }catch(e){}
})();

/* ===== YEAR ===== */
document.getElementById('y').textContent = new Date().getFullYear();

/* ===== Fake online counter ===== */
(function(){
  const el = document.getElementById('onlineCount');
  if(!el) return;
  let base = 7 + Math.floor(Math.random()*3);
  function bump(){
    base += (Math.random()>.6?1:-1);
    if(base<3) base=3;
    if(base>18) base=18;
    el.textContent = base;
  }
  setInterval(bump, 3500);
})();

/* ===== ROUTER ===== */
const pages = {
  home: {
    leftTitle: "Welcome",
    leftHTML: `
      <p>Hi! My name is BJ. I hope you enjoy my page. This is my own little slice (or perhaps, strand?) of the web. This is my digital diary. My respite from the chaos. Feel free to look around, get lost even. Oh, and btw‚Ä¶ I make music! That‚Äôs on here if you wanna check it out!! Safe travels :p</p>

      <hr />
      <h2>Status</h2>
      <div class="status-box">
        <p style="white-space:pre-line; margin:0">
<span class="pink">Currently:</span> rewatching Charmed and working on music : )
<span class="pink">Now listening to:</span> Britney ‚Äî ‚ÄúPhonography‚Äù (on repeat)
<span class="pink">Mood:</span> excited and nervous :D
        </p>
      </div>

      <hr />
      <h2>Now Playing</h2>
      <div class="winamp" role="group" aria-label="Now Playing">
        <div class="display">01. bj case ‚Äî Performance (demo)</div>
        <div class="row">
          <div class="btn" title="Prev" aria-label="Previous">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M7 5v14H5V5h2zm2 7 10 7V5L9 12z"/></svg>
          </div>
          <div class="btn" title="Play" aria-label="Play">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M8 5v14l11-7z"/></svg>
          </div>
          <div class="btn" title="Pause" aria-label="Pause">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
          </div>
          <div class="btn" title="Next" aria-label="Next">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M17 5v14h2V5h-2zM7 5l10 7-10 7V5z"/></svg>
          </div>
          <div class="scrubber"></div>
          <div>02:47</div>
        </div>
      </div>

      <hr />
      <h2>Featured Links</h2>
      <p>A little something I‚Äôve learned from my short time on Earth so far is the importance of placing an extreme emphasis on LOVE. ;)</p>

      <hr />
      <h2>Roadmap</h2>
      <ul>
        <li>Automation swells, stop-downs, and vocal throws</li>
        <li>Flip Phone ‚Äî saw/square stack groove polish</li>
        <li>Website ‚Äî secret sticker links &amp; gallery</li>
      </ul>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Release Timeline</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
 ‚Ä¢Spring 2026: ??
 ‚Ä¢Summer 2026: ???
 ‚Ä¢ Autumn 2026: ???? 
      </pre>
      <hr />
      <h2>Studio Log</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li><strong>Nov 3, 2025:</strong> Pong responsive + no-scroll; music intro updated</li>
        <li><strong>Nov 2, 2025:</strong> Webcam moved to bottom; Winamp fixed</li>
      </ul>
      <hr />
      <h2>Poll</h2>
      <div class="pollbox">
        <p class="desc">Pick the song that most interests you‚Ä¶</p>
        <div class="poll">
          <label><input type="radio" name="poll" value="performance"> ‚ÄúPerformance‚Äù</label>
          <label><input type="radio" name="poll" value="flip"> ‚ÄúFlip Phone‚Äù</label>
          <label><input type="radio" name="poll" value="look"> ‚ÄúLook But Don‚Äôt Touch‚Äù</label>
          <button id="voteBtnHome" class="voteBtn">Cast Vote</button>
        </div>
        <div class="poll-results" id="pollResultsHome" style="display:none;">
          <div>Performance: <span id="pPerfHome">0%</span></div>
          <div class="bar" id="bPerfHome" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Flip Phone: <span id="pFlipHome">0%</span></div>
          <div class="bar" id="bFlipHome" style="width:0%; background:#49c9ff"></div>
          <div style="height:6px"></div>
          <div>Look BDT: <span id="pLookHome">0%</span></div>
          <div class="bar" id="bLookHome" style="width:0%; background:#ffb35e"></div>
        </div>
      </div>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#journal">Journal</a><a href="#about">About</a><a href="#contact">Contact</a><a href="#music">Music</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts2">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=1.20.7" alt="webcam feed placeholder"></div>
      </div>
    `
  },

  /* ===== Secrets (lowercase keys) ===== */
  heartl: {
    leftTitle: "‚ô• secret ‚Äî pong",
    leftHTML: `
      <p>Welcome to the secret arcade. Use <strong>‚Üë/‚Üì</strong> to move. First to‚Ä¶ endless rallies, since walls bounce!</p>
      <div id="pongWrap" style="width:100%;">
        <canvas id="pong" style="display:block;width:100%;max-width:100%;border:2px solid var(--pink);background:linear-gradient(180deg,#140018,#0b0010)"></canvas>
      </div>
      <div style="margin-top:8px;font:12px Verdana">Press <strong>R</strong> to reset ‚Ä¢ Press <strong>P</strong> to pause</div>
    `,
    rightEnabled: false
  },
  heartr: {
    leftTitle: "‚ô• secret ‚Äî note",
    leftHTML: `
      <p>Hidden page reserved for future secrets. Check back later‚Ä¶</p>
      <article>
        <h3>Private Teaser</h3>
        <p>Maybe an early lyric, a cover mock, or a studio camera? Shh.</p>
      </article>
    `,
    rightEnabled: false
  },

  /* ===== Normal routes ===== */
  music: {
    leftTitle: "Music",
    leftHTML: `
      <p>Hey ‚Äî you‚Äôve found the music section. Let me provide an update on that front.</p>
      <p>Right now, I‚Äôm still in the early stages of learning production. However, my demo for my first song, ‚ÄúPerformance‚Äù is pretty well developed and is close to being ready for vocals which I‚Äôm excited for!! Also, I‚Äôve started to build my song ‚ÄúFlip Phone‚Äù too. I‚Äôm so excited!!!</p>

      <hr />
      <h2>Player</h2>
      <div class="winamp" role="group" aria-label="Player">
        <div class="display">02. bj case ‚Äî Flip Phone (WIP)</div>
        <div class="row">
          <div class="btn" title="Prev" aria-label="Previous">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M7 5v14H5V5h2zm2 7 10 7V5L9 12z"/></svg>
          </div>
          <div class="btn" title="Play" aria-label="Play">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M8 5v14l11-7z"/></svg>
          </div>
          <div class="btn" title="Pause" aria-label="Pause">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
          </div>
          <div class="btn" title="Next" aria-label="Next">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M17 5v14h2V5h-2zM7 5l10 7-10 7V5z"/></svg>
          </div>
          <div class="scrubber"></div><div>03:11</div>
        </div>
      </div>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Mix Notes</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li>Sidechain longer 4/4 bass vs syncopated stabs</li>
        <li>Delay throw on ‚Äú-ance‚Äù tail in ‚ÄúPerformance‚Äù</li>
        <li>Mono core; stereo for color only</li>
      </ul>
      <hr />
      <h2>Quick Actions</h2>
      <div class="badges">
        <a href="#journal">Studio Diary</a>
        <a href="#visuals">Cover Art</a>
        <a href="#contact">Bookings</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts3">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=1.20.7" alt="webcam feed placeholder"></div>
      </div>
    `
  },
  visuals: {
    leftTitle: "Visuals",
    leftHTML: `
      <p>Old-Hollywood theatre meets digital glitch. Lip-gloss chrome, velvet curtains, neon edges.</p>
      <ul>
        <li>‚ÄúPerformance‚Äù ‚Äî red-curtain cover</li>
        <li>‚ÄúFlip Phone‚Äù ‚Äî voicemail intro screens</li>
        <li>Sticker sheet ‚Äî glitter hearts & secrets</li>
      </ul>
      <hr /><p>Gallery coming soon ‚Äî header elements hide Easter-egg links.</p>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Moodboard</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li>Velvet theatre + chrome gloss</li>
        <li>Pink glitter + neon blue edge</li>
        <li>2007‚Äì2009 pop futurism</li>
      </ul>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#music">Music</a><a href="#journal">Journal</a><a href="#contact">Contact</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts4">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=1.20.7" alt="webcam feed placeholder"></div>
      </div>
    `
  },
  journal: {
    leftTitle: "Journal",
    leftHTML: `
      <p>Web diary: raw notes, studio days, sparkly chaos.</p>
      <article>
        <h3>Nov 3, 2025 ‚Äî Secrets!</h3>
        <p>Left heart now opens a Pong mini-game. Right heart reserved for future teasers.</p>
      </article>
    `,
    rightEnabled: false
  },
  about: {
    leftTitle: "About",
    leftHTML: `
      <p>I‚Äôm <strong>bj case</strong> ‚Äî a loud, glossy heart with a moody core. Music that feels like midnight chrome.</p>
      <p>Influences: Britney <em>Blackout/Circus</em>, Bloodshy & Avant, Danja, 2007‚Äì2009 futurism.</p>
    `,
    rightEnabled: false
  },
  contact: {
    leftTitle: "Contact",
    leftHTML: `
      <p>Say hi ‚Äî bookings, collabs, or glitter talk.</p>
      <p><strong>Email:</strong> <a href="mailto:hello@bjcase.com">hello@bjcase.com</a></p>
      <p><strong>Guestbook:</strong> hop into the Journal and drop a note.</p>
    `,
    rightEnabled: false
  }
};

const rootEl = document.getElementById("pageRoot");
const leftPane = document.getElementById("leftPane");
const rightPane = document.getElementById("rightPane");

function setLayout(single){
  if(single){ rootEl.classList.add("single"); }
  else{ rootEl.classList.remove("single"); }
}
function syncColumns(){
  const rightVisible = rightPane.style.display !== "none";
  if(!rightVisible){ leftPane.style.minHeight=""; return; }
  const L = leftPane.offsetHeight;
  const R = rightPane.offsetHeight;
  const H = Math.max(L,R);
  leftPane.style.minHeight = H + "px";
  rightPane.style.minHeight = H + "px";
}
let syncRAF;
function scheduleSync(){ cancelAnimationFrame(syncRAF); syncRAF = requestAnimationFrame(syncColumns); }

function mountRight(html){
  if(!html){ rightPane.style.display="none"; setLayout(true); scheduleSync(); return; }
  rightPane.style.display=""; setLayout(false);
  rightPane.innerHTML = html;

  const btn = rightPane.querySelector('#voteBtnHome');
  if(btn){
    wirePoll('#voteBtnHome','#pollResultsHome','#pPerfHome','#pFlipHome','#pLookHome',
             '#bPerfHome','#bFlipHome','#bLookHome','bj_poll_home');
  }

  rightPane.querySelectorAll('img').forEach(img=>{
    if(img.complete) scheduleSync();
    else img.addEventListener('load', scheduleSync, {once:true});
  });
  scheduleSync();
}

function render(route){
  const key = route && pages[route] ? route : "home";
  document.getElementById("leftTitle").textContent = pages[key].leftTitle;
  document.getElementById("leftContent").innerHTML = pages[key].leftHTML;
  mountRight(pages[key].rightEnabled ? pages[key].rightHTML : null);

  /* Boot the Pong game on the left-heart page */
  if(key === 'heartl'){ bootPong(); }
}
function onHash(){ render(location.hash.replace("#","").toLowerCase()); }
window.addEventListener("hashchange", onHash);
onHash();

window.addEventListener('resize', scheduleSync);

/* Clicking logo returns Home */
document.getElementById('logo').addEventListener('click', ()=> location.hash = '#home');

/* ===== POLL (localStorage) ===== */
function wirePoll(btnSel,resSel,pPerfSel,pFlipSel,pLookSel,bPerfSel,bFlipSel,bLookSel,KEY){
  const els = {
    btn: document.querySelector(btnSel),
    results: document.querySelector(resSel),
    pPerf: document.querySelector(pPerfSel),
    pFlip: document.querySelector(pFlipSel),
    pLook: document.querySelector(pLookSel),
    bPerf: document.querySelector(bPerfSel),
    bFlip: document.querySelector(bFlipSel),
    bLook: document.querySelector(bLookSel)
  };
  if(!els.btn) return;

  function read(){ try{ return JSON.parse(localStorage.getItem(KEY))||{performance:0,flip:0,look:0}; }catch(e){ return {performance:0,flip:0,look:0}; } }
  function save(d){ localStorage.setItem(KEY, JSON.stringify(d)); }
  function per(v,t){ return Math.round((v||0)/(t||1)*100); }
  function draw(d){
    const t=(d.performance||0)+(d.flip||0)+(d.look||0)||1;
    els.pPerf.textContent=per(d.performance,t)+"%";
    els.pFlip.textContent=per(d.flip,t)+"%";
    els.pLook.textContent=per(d.look,t)+"%";
    els.bPerf.style.width=per(d.performance,t)+"%";
    els.bFlip.style.width=per(d.flip,t)+"%";
    els.bLook.style.width=per(d.look,t)+"%";
    els.results.style.display='block';
  }

  els.btn.addEventListener('click',()=>{
    const chosen = document.querySelector('input[name="poll"]:checked'); if(!chosen) return;
    const voted = localStorage.getItem(KEY+"_voted"); const data=read();
    if(voted){ draw(data); return; }
    if(chosen.value==="performance") data.performance++;
    if(chosen.value==="flip") data.flip++;
    if(chosen.value==="look") data.look++;
    save(data); localStorage.setItem(KEY+"_voted","1"); draw(data);
  });

  if(localStorage.getItem(KEY+"_voted")) draw(read());
}
wirePoll('#voteBtn','#pollResults','#pPerf','#pFlip','#pLook','#bPerf','#bFlip','#bLook','bj_poll_right');

/* ===== Shoutbox (private posts) ===== */
(() => {
  const SB_KEY="bj_shout_private";
  const chat = document.getElementById('chat');
  const nameInput = document.getElementById('nameInput');
  const msgInput = document.getElementById('msgInput');
  const sendBtn  = document.getElementById('sendBtn');
  const privTgl  = document.getElementById('privateToggle');
  const clearBtn = document.getElementById('clearLocal');

  function load(){ try{ return JSON.parse(localStorage.getItem(SB_KEY))||[] }catch(e){ return [] } }
  function save(arr){ localStorage.setItem(SB_KEY, JSON.stringify(arr)) }

  function renderPrivate(){
    chat.querySelectorAll('.bubble.private').forEach(n=>n.remove());
    if(!privTgl.checked) return;
    const arr = load();
    arr.forEach(s=>{
      const div = document.createElement('div');
      div.className = 'bubble private me';
      div.innerHTML = `<strong>${s.name||'me'}:</strong> ${s.text}<div class="meta">${s.time}</div>`;
      chat.appendChild(div);
    });
    chat.scrollTop = chat.scrollHeight;
  }

  document.querySelectorAll('#emotes button').forEach(b=>{
    b.addEventListener('click',()=>{ msgInput.value += (msgInput.value ? ' ' : '') + b.textContent; msgInput.focus(); });
  });

  sendBtn.addEventListener('click', ()=>{
    const text = msgInput.value.trim(); if(!text) return;
    const name = (nameInput.value.trim() || 'me');
    const time = new Date().toLocaleString();
    const arr = load(); arr.push({name, text, time}); save(arr);
    msgInput.value='';
    renderPrivate();
  });

  privTgl.addEventListener('change', renderPrivate);
  clearBtn.addEventListener('click', ()=>{ localStorage.removeItem(SB_KEY); renderPrivate(); });

  renderPrivate();
})();

/* ===== Cursor glitter ===== */
(()=> {
  const colors = ["#ff9ef6","#49c9ff","#ffb35e","#ff4d4d","#ffffff"];
  let lastT = 0;
  document.addEventListener("mousemove", (e)=>{
    const now = performance.now();
    if (now - lastT < 12) return;
    lastT = now;
    const star = document.createElement("span");
    star.className = "cursor-star";
    star.style.left = (window.scrollX + e.clientX - 3) + "px";
    star.style.top  = (window.scrollY + e.clientY - 3) + "px";
    const c = colors[(Math.random()*colors.length)|0];
    star.style.color = c;
    star.style.background = `radial-gradient(circle, ${c} 0%, transparent 70%)`;
    document.body.appendChild(star);
    setTimeout(()=>{ star.remove(); }, 550);
  }, {passive:true});
})();

/* ===== REC timers ===== */
(function recTimers(){
  const update = (id)=> {
    const el = document.getElementById(id);
    if(!el) return;
    const t = new Date();
    const h = String(t.getHours()).padStart(2,'0');
    const m = String(t.getMinutes()).padStart(2,'0');
    const s = String(t.getSeconds()).padStart(2,'0');
    el.textContent = `${h}:${m}:${s}`;
  };
  setInterval(()=>{ ['ts','ts2','ts3','ts4'].forEach(update); }, 1000);
})();

/* ===== PONG (heartl): responsive, no-scroll arrows, all borders bounce ===== */
function bootPong(){
  const canvas = document.getElementById('pong');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');

  /* Fill the box responsively (14:9 aspect) */
  function sizeCanvas(){
    const parent = canvas.parentElement || canvas;
    const w = Math.min(parent.clientWidth || 560, 820);
    const h = Math.round(w * 9 / 14);
    canvas.width = w;
    canvas.height = h;
  }
  sizeCanvas();
  window.addEventListener('resize', sizeCanvas, {passive:true});

  let up=false, down=false, paused=false;
  let W = canvas.width, H = canvas.height;

  const state = {
    player: { x: 16, y: H/2-35, w: 10, h: 70, s: 5.0 },
    cpu:    { x: W-26, y: H/2-35, w: 10, h: 70, s: 4.2 },
    ball:   { x: W/2, y: H/2, r: 6, vx: rnd(3.6,4.2)*(Math.random()<.5?1:-1), vy: rnd(2.2,3.0)*(Math.random()<.5?1:-1) }
  };

  function rnd(a,b){ return a + Math.random()*(b-a); }
  function clamp(v,min,max){ return v<min?min:(v>max?max:v); }

  /* Prevent page scroll while playing with arrows */
  const keydown = (e)=>{
    if(e.key==='ArrowUp'){ up=true; e.preventDefault(); }
    if(e.key==='ArrowDown'){ down=true; e.preventDefault(); }
    if(e.key.toLowerCase()==='r'){ resetBall(); }
    if(e.key.toLowerCase()==='p'){ paused=!paused; }
  };
  const keyup = (e)=>{
    if(e.key==='ArrowUp'){ up=false; e.preventDefault(); }
    if(e.key==='ArrowDown'){ down=false; e.preventDefault(); }
  };
  window.addEventListener('keydown', keydown, {passive:false});
  window.addEventListener('keyup', keyup, {passive:false});

  function resetBall(){
    W = canvas.width; H = canvas.height;
    state.player.y = H/2 - state.player.h/2;
    state.cpu.y = H/2 - state.cpu.h/2;
    state.ball.x = W/2; state.ball.y = H/2;
    state.ball.vx = rnd(3.6,4.2)*(Math.random()<.5?1:-1);
    state.ball.vy = rnd(2.2,3.0)*(Math.random()<.5?1:-1);
  }

  function draw(){
    // bg
    const g=ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#140018'); g.addColorStop(1,'#0b0010');
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
    // center dash
    ctx.setLineDash([8,8]); ctx.strokeStyle='rgba(255,255,255,.2)';
    ctx.beginPath(); ctx.moveTo(W/2,0); ctx.lineTo(W/2,H); ctx.stroke();
    ctx.setLineDash([]);
    // paddles
    ctx.fillStyle='#ff9ef6'; ctx.fillRect(state.player.x, state.player.y, state.player.w, state.player.h);
    ctx.fillStyle='#49c9ff'; ctx.fillRect(state.cpu.x, state.cpu.y, state.cpu.w, state.cpu.h);
    // ball
    ctx.beginPath(); ctx.fillStyle='#fff';
    ctx.arc(state.ball.x, state.ball.y, state.ball.r, 0, Math.PI*2); ctx.fill();

    if(paused){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 20px Verdana'; ctx.fillText('PAUSED', W/2-38, H/2);
    }
  }

  function step(){
    if(paused){ draw(); requestAnimationFrame(step); return; }

    // update dims if resized
    if(W !== canvas.width || H !== canvas.height){
      W = canvas.width; H = canvas.height;
    }

    // player input
    if(up) state.player.y -= state.player.s;
    if(down) state.player.y += state.player.s;
    state.player.y = clamp(state.player.y, 0, H-state.player.h);

    // simple cpu follow
    const target = state.ball.y - state.cpu.h/2;
    state.cpu.y += (target - state.cpu.y) * 0.085;
    state.cpu.y = clamp(state.cpu.y, 0, H-state.cpu.h);

    // ball physics
    state.ball.x += state.ball.vx;
    state.ball.y += state.ball.vy;

    // top/bottom bounce
    if(state.ball.y-state.ball.r<0){ state.ball.y=state.ball.r; state.ball.vy*=-1; }
    if(state.ball.y+state.ball.r>H){ state.ball.y=H-state.ball.r; state.ball.vy*=-1; }

    // left/right bounce (no scoring)
    if(state.ball.x-state.ball.r<0){ state.ball.x=state.ball.r; state.ball.vx*=-1; jitterBall(); }
    if(state.ball.x+state.ball.r>W){ state.ball.x=W-state.ball.r; state.ball.vx*=-1; jitterBall(); }

    // paddle collisions with spin
    function collide(p){
      if(state.ball.x+state.ball.r>p.x && state.ball.x-state.ball.r<p.x+p.w &&
         state.ball.y>p.y && state.ball.y<p.y+p.h){
        state.ball.vx *= -1.06;
        const rel = (state.ball.y - (p.y+p.h/2)) / (p.h/2); // -1..1
        state.ball.vy = clamp(state.ball.vy + rel*2.4, -5.2, 5.2);
        jitterBall();
      }
    }
    collide(state.player);
    collide(state.cpu);

    draw();
    requestAnimationFrame(step);
  }

  function jitterBall(){
    // tiny randomness to avoid endless straight lines
    state.ball.vx += (Math.random()*0.4 - 0.2);
    state.ball.vy += (Math.random()*0.4 - 0.2);
  }

  draw(); requestAnimationFrame(step);
}

/* Mount static right poll too */
wirePoll('#voteBtn','#pollResults','#pPerf','#pFlip','#pLook','#bPerf','#bFlip','#bLook','bj_poll_right');
</script>
</body>
</html>