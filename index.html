<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>bj case ‚Äî home</title>

<!-- Favicons (with cache-bust kept) -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=1.22.0">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=1.22.0">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=1.22.0">
<link rel="manifest" href="/site.webmanifest?v=1.22.0">
<link rel="shortcut icon" href="/favicon.ico?v=1.22.0">
<meta name="theme-color" content="#ff9ef6">

<!-- No-cache nudges -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Atma:wght@400&display=swap" rel="stylesheet" />

<style>
/* ===========================================================
   üåà  BJ CASE 2003 WEBZONE ‚Äî SINGLE FILE INDEX (v1.22.1)
   Patch notes (only these parts changed vs your v1.22.0):
   - Arcade sizing fixes:
     ‚Ä¢ Mobile Pong canvas larger (4:3) for easier play
     ‚Ä¢ Mobile Brick Breaker canvas larger; (bricks-at-top logic is in PART 3 JS)
     ‚Ä¢ LipGloss Flight less tall on desktop (keeps comfy height on mobile)
   - Everything else unchanged
   =========================================================== */

/* ---------- PALETTE ---------- */
:root{
  --pink:#ff9ef6;
  --neon-blue:#49c9ff;
  --orange:#ffb35e;
  --red:#ff4d4d;
  --ink:#ffeaff;
  --link:#ffbffb;
  --bright-red:#ff3b3b;
  --vio:#2a0034;
  --vio-deep:#1a001e;
}

/* ---------- BASE ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:Arial,Helvetica,sans-serif;
  background:#000 url('https://sadhost.neocities.org/images/tiles/pinkstars.gif') repeat fixed;
  cursor:url('https://cur.cursors-4u.net/cursors/cur-2/cur116.cur'), auto;
}
.wrapper{max-width:860px;margin:0 auto;padding:16px}
a{color:var(--link)} a:hover{color:#fff; text-decoration:underline}

/* ---------- HEADER ---------- */
.site-header{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#520061 0%,#36003e 60%,#240024 100%);
  box-shadow:0 0 0 2px #000 inset,0 12px 26px #000c;
  margin:16px 0 18px; padding:10px 18px 10px; position:relative; overflow:hidden;
}
.logo-wrap{
  position:relative; display:flex; align-items:center; justify-content:center;
  gap:1.1em; width:100%; margin:0 auto 6px; z-index:3;
}
.heart{
  display:inline-block; text-decoration:none; line-height:1;
  color:var(--pink);
  font-size:clamp(26px,4.6vw,44px);
  transform:scaleX(1.3);
  text-shadow:0 0 6px var(--pink), 0 0 10px var(--neon-blue), 0 0 14px rgba(255,255,255,.35);
  filter:drop-shadow(0 0 2px #fff6);
  transition: transform .12s ease, text-shadow .2s ease;
}
.heart:hover{ transform:scaleX(1.3) scale(1.08); text-shadow:0 0 8px var(--neon-blue), 0 0 14px var(--pink) }

.logo{
  position:relative; z-index:3;
  font-family:"Orbitron","Arial Black",sans-serif;
  font-size:clamp(32px,7vw,86px);
  text-transform:lowercase; text-align:center;
  background-image:
    linear-gradient(120deg, transparent 45%, rgba(255,255,255,.98) 50%, transparent 55%),
    linear-gradient(90deg, var(--neon-blue), var(--orange), var(--red), var(--pink), var(--neon-blue));
  background-size: 220% 100%, 400% 400%;
  background-position: -180% 0, 0 50%;
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent;
  animation: logoShine 3.05s linear infinite;
  text-shadow:0 0 6px var(--neon-blue),0 0 10px var(--pink);
  margin:0; width:max-content;
}
@keyframes logoShine{0%{background-position:-180% 0,0 50%}100%{background-position:180% 0,0 50%}}

/* Music notes ‚Äî all for desktop, trimmed for mobile via media query */
.note{
  position:absolute; user-select:none; pointer-events:none; z-index:1;
  color:#ffd1fa; text-shadow:0 0 6px var(--pink), 0 0 10px #fff8;
  opacity:.96; animation: floatY var(--dur,4.6s) ease-in-out infinite;
}
@keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(var(--amp,7px))}}

/* ---------- NAV ---------- */
.nav{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:10px 0 8px}
.nav a{
  --glow: rgba(73,201,255,.65);
  text-decoration:none; color:#fff; font-weight:700; letter-spacing:.02em;
  padding:10px 16px; border-radius:6px; position:relative; overflow:hidden;
  border:2px solid var(--pink);
  background:
    linear-gradient(180deg, #4a005f 0%, #2a003d 55%, #1a0026 100%),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.25), transparent 60%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset;
  transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
.nav a::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 45%, rgba(255,255,255,.5) 50%, transparent 55%); transform:translateX(-130%); transition:transform .5s ease}
.nav a:hover{ border-color:var(--neon-blue); color:var(--neon-blue); box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -6px 14px rgba(0,0,0,.5), 0 0 12px var(--glow); transform:translateY(-1px) }
.nav a:hover::after{ transform:translateX(130%) }

/* ---------- TICKER ---------- */
.ticker{
  overflow:hidden; white-space:nowrap; border:2px solid var(--pink);
  background:linear-gradient(180deg,#330033,#240024);
  font:800 13px/2.1 Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; text-transform:uppercase; letter-spacing:.08em;
}
.ticker span{display:inline-block; padding-left:100%; animation:slide 18s linear infinite}
@keyframes slide{to{transform:translateX(-100%)}}

/* ---------- GRID ---------- */
.grid{display:grid; gap:14px; grid-template-columns:2fr 1fr; align-items:start;}
.grid.single{ grid-template-columns:1fr; }
#leftPane{ min-height: 640px; }
.grid.single #leftPane{ min-height: 780px; }

/* ---------- PANELS ---------- */
.panel{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#3d0055 0%,#21002a 60%,#1a001a 100%);
  box-shadow:0 0 0 2px #000 inset, 0 12px 22px #0007;
  padding:16px; border-radius:3px; position:relative; overflow:hidden;
}
.panel h2{
  margin:0 0 12px;
  font-family:"Atma", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight:400; font-size:20px; line-height:1.2;
  text-transform:uppercase; letter-spacing:.08em; color:var(--neon-blue);
}
.panel + .panel{ margin-top:14px }
hr{border:none; height:1px; background:linear-gradient(90deg,transparent,var(--neon-blue),transparent); margin:12px 0}

/* ---------- STATUS BOX ---------- */
.status-box{ position:relative; padding:12px; border-radius:8px; background:linear-gradient(180deg,#2b0037 0%, #17001e 100%); border:2px solid var(--neon-blue); box-shadow:0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.18) }
.pink{color:var(--pink); font-weight:700}

/* ---------- WINAMP (Home) ---------- */
.winamp{ border:1px solid #ff7ef6; background:#1b001d; box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset; padding:10px; border-radius:4px; color:#ffe5ff; font:12px Tahoma,Verdana,Arial,sans-serif }
.winamp .display{ border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; background:#120016; padding:6px 8px; margin-bottom:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.winamp .row{display:flex; align-items:center; gap:8px; margin-top:6px}
.btn{ display:inline-block; width:22px; height:22px; border:1px solid #ff7ef6; background:#350036; box-shadow:0 0 0 2px #000 inset; text-align:center; line-height:20px; font-weight:800; user-select:none; position:relative; overflow:hidden; cursor:pointer }
.btn::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent); transform:translateX(-120%); opacity:0}
.btn:hover::after{ animation: shine .9s ease; opacity:1 }
@keyframes shine{ from{ left:-70px } to{ left:120% } }
.scrubber{ flex:1; height:8px; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; background: linear-gradient(90deg,#ff9ef6 0%, #49c9ff 45%, #ffb35e 85%); margin-left:8px; border-radius:2px }

/* ---------- BADGES ---------- */
.badges{display:flex; flex-wrap:wrap; gap:6px}
.badges a{display:inline-block; padding:6px 10px; border:1px solid var(--pink); box-shadow:0 0 0 2px #000 inset; background:#300033; color:#ffbdfb; font:800 10px/1 Verdana; text-align:center; text-decoration:none}

/* ---------- POLL ---------- */
.pollbox{ position:relative; border:2px solid var(--pink); background:linear-gradient(180deg,#2a0034 0%,#1a0024 100%); box-shadow:0 0 0 2px #000 inset, 0 10px 18px #0007; padding:12px; border-radius:8px; overflow:hidden }
.pollbox::after{ content:""; position:absolute; inset:-2px; border-radius:10px; pointer-events:none; background:
  linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 120px 2px no-repeat,
  linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 100% / 120px 2px no-repeat,
  linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 2px 120px no-repeat,
  linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 100% 0 / 2px 120px no-repeat;
  animation: borderSweep 4s linear infinite; mix-blend-mode:screen; opacity:.7 }
@keyframes borderSweep{ 0%{background-position:0 0,0 100%,0 0,100% 0} 100%{background-position:100% 0,100% 100%,0 100%,100% 100%}}
.pollbox p.desc{ margin:0 0 10px; font:12px Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; opacity:.95 }
.poll label{display:block; margin:6px 0; font:12px Verdana,Tahoma,Arial,sans-serif}
.voteBtn{ margin-top:10px; padding:9px 14px; font-weight:800; letter-spacing:.02em; border:2px solid var(--pink); border-radius:6px; cursor:pointer; color:#fff; background: linear-gradient(180deg,#6c006c 0%, #420042 100%), radial-gradient(80% 60% at 50% 0%, rgba(255,255,255,.28), transparent 60%); box-shadow: inset 0 1px 0 rgba(255,255,255,.25), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 14px rgba(73,201,255,.35); transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease }
.voteBtn:hover{ transform:translateY(-1px); border-color:var(--neon-blue); box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.55) }
.poll-results{ margin-top:10px; font:12px Verdana,Tahoma,Arial,sans-serif }
.bar{height:12px;background:#ff79e9;border:1px solid var(--pink);box-shadow:0 0 0 2px #000 inset}

/* ---------- WEBCAM ---------- */
.webcam{ border:2px solid #ff7ef6; background:#0d0010; box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset; padding:10px; border-radius:4px; position:relative; margin-top:12px }
.webcam .bar{ display:flex; justify-content:space-between; align-items:center; background:none; font:10px Tahoma,Verdana,Arial,sans-serif; color:var(--bright-red); opacity:1; margin-bottom:8px }
.webcam .rec{ display:inline-flex; gap:6px; align-items:center; letter-spacing:.08em; text-transform:uppercase; color:var(--bright-red) }
.webcam .dot{ width:8px; height:8px; background:var(--bright-red); border-radius:50%; box-shadow:0 0 6px var(--bright-red); animation:blink 1s steps(2,end) infinite }
@keyframes blink{50%{opacity:.2}}
.webcam .ts{ color:var(--bright-red) }
.webcam .screen{ width:100%; aspect-ratio:4/3; background:#120016; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; overflow:hidden; position:relative }
.webcam .screen img{ width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.05) saturate(1.1) brightness(.95) }

/* ---------- SHOUTBOX ---------- */
.shoutbox{ margin-top:14px }
.chat{ display:flex; flex-direction:column; gap:8px; max-height: 460px; min-height: 260px; overflow:auto; background:#1a001e; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; padding:10px; border-radius:4px }
.bubble{ max-width:92%; padding:8px 10px; border-radius:10px; font:12px Verdana,Tahoma,Arial,sans-serif; line-height:1.3; background:linear-gradient(180deg,#420046,#2a0030); border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset }
.bubble.me{ align-self:flex-end; background:linear-gradient(180deg,#004a66,#002436); border-color:#49c9ff }
.meta{ font-size:10px; opacity:.7; margin-top:3px }
.inputRow{ display:flex; gap:6px; margin-top:10px }
.inputRow input,.inputRow textarea{ flex:1; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:8px; font:12px Verdana,Tahoma,Arial,sans-serif; box-shadow:0 0 0 2px #000 inset }
.inputRow button{ background:linear-gradient(180deg,#6c006c,#420042); color:#fff; border:2px solid var(--pink); border-radius:4px; padding:8px 12px; font-weight:700; cursor:pointer; box-shadow:0 0 0 3px #000 inset }
.emotes{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px }
.emotes button{ font:12px Verdana,Tahoma,Arial,sans-serif; padding:4px 8px; border:1px solid var(--pink); background:#300033; color:#ffdfff; border-radius:3px; cursor:pointer }

/* ---------- JOURNAL (unchanged from your v1.22.0) ---------- */
.journal-wrap{ position:relative; min-height:560px }
.diary-cover{
  position:absolute; inset:0; background:
    repeating-linear-gradient(135deg, #5a0066 0 8px, #4a0058 8px 16px),
    radial-gradient(150% 100% at 50% 0%, rgba(255,255,255,.06), transparent 70%);
  border:2px solid var(--pink); box-shadow:0 0 0 2px #000 inset, 0 14px 26px #0009;
  display:flex; align-items:center; justify-content:center; z-index:5; transform-origin:left center;
  animation: openDiary 2.2s ease forwards;
}
.diary-title{ font-family:"Orbitron"; font-size:clamp(26px,6vw,48px); color:#fff; text-shadow:0 0 10px #ff9ef6 }
.diary-latch{
  position:absolute; right:-14px; top:50%; transform:translateY(-50%);
  width:34px; height:90px; background:linear-gradient(180deg,#2e002e,#150015); border:2px solid var(--pink); border-left:none;
  box-shadow:0 0 0 2px #000 inset;
}
.diary-latch::after{
  content:""; position:absolute; left:-10px; top:50%; transform:translateY(-50%) rotate(-12deg);
  width:24px; height:24px; background:
    radial-gradient(circle at 30% 30%, #fff, #bbb 35%, #777 60%, #444 100%);
  clip-path: path("M12 21 C10 19 4 14 4 9 C4 6.5 6 5 8 5 C9.5 5 11 6 12 7 C13 6 14.5 5 16 5 C18 5 20 6.5 20 9 C20 14 14 19 12 21 Z");
  filter:drop-shadow(0 0 6px rgba(255,255,255,.35));
}
@keyframes openDiary{
  0%{ transform:rotateY(0deg) }
  35%{ transform:rotateY(45deg) }
  100%{ transform:rotateY(100deg); opacity:0; pointer-events:none }
}
.journal-grid{ display:grid; grid-template-columns:3fr 1fr; gap:12px }
.journal-feed{ min-height:520px; background:linear-gradient(180deg,var(--vio) 0,var(--vio-deep) 100%); border:2px solid var(--pink); box-shadow:0 0 0 2px #000 inset; border-radius:6px; padding:12px; overflow:auto }
.journal-owner{ background:linear-gradient(180deg,#190022,#0e0016); border:2px dashed var(--pink); box-shadow:0 0 0 2px #000 inset; border-radius:6px; padding:12px; align-self:start }
.owner-locked .owner-controls{ display:none }
.owner-locked .owner-pass{ display:block }
.owner-controls{ display:block }
.owner-pass{ display:none }
.jpost{ background:linear-gradient(180deg,#3d0055,#260038); border:1px solid var(--pink); box-shadow:0 0 0 2px #000 inset; padding:10px; border-radius:6px; margin-bottom:10px; font:13px Verdana }

/* ---------- ARCADE (original styles) ---------- */
.arcade-hero{
  border:2px solid var(--pink); border-radius:8px; padding:12px;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.06), transparent 70%),
    repeating-linear-gradient(90deg, #1b0022 0 12px, #15001a 12px 24px);
  box-shadow:0 0 0 2px #000 inset, 0 14px 28px #0009;
}
.arcade-tiles{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:10px }
.arcade-card{
  border:2px solid var(--pink); background:linear-gradient(180deg,#2b0037,#16001e); box-shadow:0 0 0 2px #000 inset, 0 10px 20px #0007;
  padding:10px; border-radius:8px; text-align:center
}
.arcade-card h3{ margin:6px 0 8px; font:600 16px Atma,system-ui; color:var(--neon-blue) }
.arcade-card a{ display:inline-block; margin-top:6px; padding:8px 12px; border:2px solid var(--pink); border-radius:6px; background:linear-gradient(180deg,#6c006c,#420042); color:#fff; font-weight:800; text-decoration:none }
.arcade-stage{ border:2px solid var(--pink); background:linear-gradient(180deg,#140018,#0b0010); box-shadow:0 0 0 2px #000 inset; border-radius:8px; padding:10px }
.stage-controls{ display:flex; gap:8px; margin:8px 0 }
.stage-controls button{ padding:8px 10px; border:2px solid var(--pink); border-radius:6px; background:linear-gradient(180deg,#6c006c,#420042); color:#fff; font-weight:800 }

/* Canvas wrappers */
.canvas-wrap{ width:100%; max-width:100%; }
.canvas-wrap.ratio-16x10{ aspect-ratio:16/10 }
.canvas-wrap.ratio-3x4{ aspect-ratio:3/4 }
canvas.game{ display:block; width:100%; height:100% }

/* ---------- CURSOR GLITTER ---------- */
.cursor-star{ position:absolute; width:7px; height:7px; pointer-events:none; background:radial-gradient(circle,#fff 0%,transparent 70%); opacity:.95; filter:drop-shadow(0 0 4px currentColor); animation:starFade .5s linear forwards }
@keyframes starFade{from{transform:scale(1);opacity:.95}to{transform:scale(0);opacity:0}}

/* ---------- RESPONSIVE (original) ---------- */
@media(max-width:840px){
  /* Trim header notes for mobile (keeps only two per side) */
  .note.trim-mobile{ display:none }
  .grid{ grid-template-columns:1fr }
  #leftPane, #rightPane{ min-height:initial }
  .journal-grid{ grid-template-columns:1fr }
  .arcade-tiles{ grid-template-columns:1fr }
  .canvas-wrap{ height:auto }
}
@media(max-width:520px){
  .nav a{font-size:14px; padding:8px 12px}
  .logo{font-size:clamp(28px,9vw,72px)}
}

/* ===========================================================
   üéØ ARCADE SIZING PATCHES (NEW)
   - These only affect canvases; all other site styles remain intact.
   =========================================================== */

/* Mobile-first: make Pong & Brick canvases bigger and more playable */
@media (max-width: 840px){
  /* Give their wrappers taller aspect ratios on phones */
  .canvas-wrap[data-game="pong"]{ aspect-ratio: 4 / 3 !important; }
  .canvas-wrap[data-game="brick"]{ aspect-ratio: 16 / 10 !important; }
  .canvas-wrap[data-game="gloss"]{ aspect-ratio: 3 / 4 !important; } /* unchanged but explicit */

  /* Ensure wrapper expands (fallback when aspect-ratio isn't honored) */
  .canvas-wrap[data-game]{ min-height: 320px; }
  .canvas-wrap[data-game="pong"]{ min-height: 360px; }
}

/* Desktop: keep Pong & Brick comfy, reduce LipGloss height so it isn‚Äôt too tall */
@media (min-width: 841px){
  .canvas-wrap[data-game="pong"]{ aspect-ratio: 16 / 10 !important; max-height: 520px; }
  .canvas-wrap[data-game="brick"]{ aspect-ratio: 16 / 10 !important; max-height: 520px; }
  /* Make LipGloss Flight less tall on web */
  .canvas-wrap[data-game="gloss"]{ aspect-ratio: 4 / 5 !important; max-height: 560px; }
}
</style>
</head>
<body>
<div class="wrapper">

<header class="site-header">
  <!-- music notes (full set for web, trimmed for mobile by media query) -->
  <span class="note" style="left:5%;top:10%;--amp:6px;--dur:5s;">‚ô™</span>
  <span class="note" style="left:15%;top:30%;">‚ô©</span>
  <span class="note" style="left:25%;top:50%;">‚ô´</span>
  <span class="note trim-mobile" style="left:35%;top:15%;">‚ô¨</span>
  <span class="note trim-mobile" style="right:35%;top:15%;">‚ô¨</span>
  <span class="note" style="right:25%;top:50%;">‚ô´</span>
  <span class="note" style="right:15%;top:30%;">‚ô©</span>
  <span class="note" style="right:5%;top:10%;--amp:6px;--dur:5s;">‚ô™</span>

  <div class="logo-wrap">
    <a href="#left-heart" class="heart" id="heartL">‚ù§</a>
    <h1 class="logo">bj case</h1>
    <a href="#right-heart" class="heart" id="heartR">‚ù§</a>
  </div>
</header>

<nav class="nav">
  <a href="#home" class="navlink" data-target="home">home</a>
  <a href="#music" class="navlink" data-target="music">music</a>
  <a href="#visuals" class="navlink" data-target="visuals">visuals</a>
  <a href="#about" class="navlink" data-target="about">about</a>
  <a href="#contact" class="navlink" data-target="contact">contact</a>
  <a href="#journal" class="navlink" data-target="journal">journal</a>
</nav>

<div class="ticker"><span>WELCOME TO BJ CASE DOT COM ‚Äî UNCONVENTIONAL ERA ‚Äî Y2K FOREVER ‚òÖÂΩ°</span></div>

<!-- ===================================================== -->
<!-- PAGE CONTAINER -->
<!-- ===================================================== -->
<main id="pages">

<!-- HOME PAGE -->
<section id="home" class="page visible">
  <div class="grid" id="grid-home">
    <div id="leftPane">
      <div class="panel">
        <h2>Welcome</h2>
        <div class="status-box">
          <p><span class="pink">Currently:</span> rewatching Charmed and working on music : )</p>
          <p><span class="pink">Now listening to:</span> Britney ‚Äî ‚ÄúPhonography‚Äù (on repeat)</p>
          <p><span class="pink">Mood:</span> excited and nervous :D</p>
        </div>
      </div>

      <div class="panel pollbox">
        <h2>Poll</h2>
        <p class="desc">Pick the song that most interests you‚Ä¶</p>
        <form id="pollForm">
          <label><input type="radio" name="poll" value="Performance"> Performance</label>
          <label><input type="radio" name="poll" value="Flip Phone"> Flip Phone</label>
          <label><input type="radio" name="poll" value="Look But Don't Touch"> Look But Don't Touch</label>
          <label><input type="radio" name="poll" value="Lovesick"> Lovesick</label>
          <button type="submit" class="voteBtn">Vote</button>
        </form>
        <div class="poll-results" id="pollResults"></div>
      </div>
    </div>

    <div id="rightPane">
      <div class="panel">
        <h2>Studio Log</h2>
        <p>‚Ä¢ November 3rd: Build synth stack for ‚ÄúFlip Phone‚Äù and figure out drum pattern</p>
        <p>‚Ä¢ October 3rd 2025: Figure out what the bridge of ‚ÄúPerformance‚Äù should be like</p>
      </div>

      <div class="panel">
        <h2>Roadmap</h2>
        <p>‚Ä¢ Keep working on the blog<br>
           ‚Ä¢ Clean my room<br>
           ‚Ä¢ Keep building ‚ÄúFlip Phone‚Äù</p>
      </div>

      <div class="panel webcam">
        <div class="bar">
          <div class="rec"><span class="dot"></span> REC</div>
          <div class="ts">12:44 PM</div>
        </div>
        <div class="screen">
          <img src="https://i.ibb.co/mJDnySv/webcam-placeholder.png" alt="webcam preview">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- MUSIC PAGE -->
<section id="music" class="page">
  <div class="panel">
    <h2>Music</h2>
    <p>Hey ‚Äî you‚Äôve found the music section. Let me provide an update on that front.</p>
    <p>Right now, I‚Äôm still in the early stages of learning production. However, my demo for my first song, ‚ÄúPerformance‚Äù is pretty well developed and is close to being ready for vocals which I‚Äôm excited for!! Also, I‚Äôve started to build my song ‚ÄúFlip Phone‚Äù too. I‚Äôm so excited!!! ‚Äî BJ</p>
  </div>
</section>

<!-- VISUALS PAGE -->
<section id="visuals" class="page">
  <div class="panel">
    <h2>Visuals</h2>
    <p>Here‚Äôs where I‚Äôll post concepts for the visual aspects of my music, as well as some other stuff too. My little pixel picture piece of the blog, if you will.</p>
  </div>
</section>

<!-- ABOUT PAGE -->
<section id="about" class="page">
  <div class="panel">
    <h2>About</h2>
    <p>Okay here‚Äôs like the serious section I guess. So I‚Äôm BJ. I make music, my favorite food is sushi, and I‚Äôm a cat person. You can find me here, IRL if I materialize, and to find me on other corners of the digital world, refer to the ‚ÄúContact‚Äù section.</p>
  </div>
</section>

<!-- CONTACT PAGE -->
<section id="contact" class="page">
  <div class="panel">
    <h2>Contact</h2>
    <p>These are my other pages:</p>
    <ul>
      <li>Instagram: @itsbjcase</li>
      <li>TikTok: @wannabj</li>
      <li>I‚Äôm not on Twitter rn ‚Äôcuz it‚Äôs called ‚ÄúX‚Äù now, among other reasons :(</li>
    </ul>
    <p>Also, I‚Äôll be on streaming platforms soon! I‚Äôll put them here when the time comes.</p>
    <p>Ohhh and my email is <strong>itsbjcase@gmail.com</strong><br>
    for any inquiries (business only please!)</p>
  </div>
</section>

<!-- JOURNAL PAGE -->
<section id="journal" class="page">
  <div class="journal-wrap">
    <div class="diary-cover">
      <div class="diary-title">My Journal</div>
      <div class="diary-latch"></div>
    </div>

    <div class="journal-grid">
      <div class="journal-feed" id="journalFeed"></div>
      <div class="journal-owner owner-locked" id="journalOwner">
        <div class="owner-pass">
          <p>Enter passcode to access owner mode:</p>
          <input type="password" id="ownerPassInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          <button id="unlockBtn">Unlock</button>
        </div>
        <div class="owner-controls">
          <textarea id="postText" rows="5" placeholder="Write a new entry..."></textarea>
          <button id="postBtn">Post</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ARCADE HUB -->
<section id="arcade" class="page">
  <div class="arcade-hero">
    <h2>bj case arcade ‚ô°</h2>
    <div class="arcade-tiles">
      <div class="arcade-card">
        <h3>Pong</h3>
        <a href="#game-pong" class="navlink" data-target="game-pong">Play!</a>
      </div>
      <div class="arcade-card">
        <h3>Lip Gloss Flight</h3>
        <a href="#game-gloss" class="navlink" data-target="game-gloss">Play!</a>
      </div>
      <div class="arcade-card">
        <h3>Brick Breaker</h3>
        <a href="#game-brick" class="navlink" data-target="game-brick">Play!</a>
      </div>
    </div>
  </div>
</section>

<!-- ARCADE GAMES -->
<section id="game-pong" class="page">
  <div class="arcade-stage">
    <h2>Pong</h2>
    <div class="canvas-wrap ratio-16x10" data-game="pong">
      <canvas id="pongCanvas" class="game"></canvas>
    </div>
    <div class="stage-controls">
      <button id="pongStart">Start</button>
      <button id="pongReset">Reset</button>
    </div>
  </div>
</section>

<section id="game-gloss" class="page">
  <div class="arcade-stage">
    <h2>Lip Gloss Flight</h2>
    <div class="canvas-wrap ratio-3x4" data-game="gloss">
      <canvas id="lipCanvas" class="game"></canvas>
    </div>
    <div class="stage-controls">
      <button id="lipStart">Start</button>
      <button id="lipReset">Reset</button>
    </div>
  </div>
</section>

<section id="game-brick" class="page">
  <div class="arcade-stage">
    <h2>Brick Breaker</h2>
    <div class="canvas-wrap ratio-16x10" data-game="brick">
      <canvas id="brickCanvas" class="game"></canvas>
    </div>
    <div class="stage-controls">
      <button id="brickStart">Start</button>
      <button id="brickReset">Reset</button>
    </div>
  </div>
</section>

<!-- SECRET TEASER PAGE (right heart) -->
<section id="right-heart" class="page">
  <div class="panel">
    <h2>‚ô° secret teaser</h2>
    <p>You found me. This page will hold exclusive behind-the-scenes journal snippets later on ‚ú®</p>
  </div>
</section>

<!-- LEFT HEART (ARCADE ENTRY) -->
<section id="left-heart" class="page">
  <div class="panel">
    <h2>‚ô° arcade center ‚ô°</h2>
    <p>Welcome to the arcade center ‚Äî choose your game!</p>
    <ul>
      <li><a href="#game-pong" class="navlink" data-target="game-pong">Pong</a></li>
      <li><a href="#game-gloss" class="navlink" data-target="game-gloss">Lip Gloss Flight</a></li>
      <li><a href="#game-brick" class="navlink" data-target="game-brick">Brick Breaker</a></li>
    </ul>
  </div>
</section>

</main>

<footer style="text-align:center; margin:20px 0; font-size:11px; color:#ffdfff; opacity:.85;">
  ¬© 2025 bj case ¬∑ Unconventional Era ¬∑ Made with üíã and HTML
</footer>

</div>
<script>
/* ===========================================================
   PART 3 ‚Äî Scripts (router, journal, poll, webcam, arcade)
   =========================================================== */

/* -------------------------------
   Tiny helpers
----------------------------------*/
const $  = (sel, root=document) => root.querySelector(sel);
const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

/* -------------------------------
   STRONG HASH ROUTER (fixes page bleed)
----------------------------------*/
const PAGES = $$('#pages > section.page');
function showPage(id){
  let target = id && $('#' + id);
  if(!target) { target = $('#home'); history.replaceState(null,'','#home'); }
  PAGES.forEach(p => p.classList.remove('visible'));
  target.classList.add('visible');

  // Boot per-page JS (idempotent guards inside each boot)
  if(id === 'game-pong')  bootPong();
  if(id === 'game-brick') bootBrick();
  if(id === 'game-gloss') bootGloss();
  if(id === 'journal')    bootJournal();
}
function handleHash(){
  const hash = (location.hash || '#home').replace('#','').trim();
  showPage(hash);
}
window.addEventListener('hashchange', handleHash);
document.addEventListener('click', (e)=>{
  const a = e.target.closest('a[href^="#"]');
  if(!a) return;
  const id = a.getAttribute('href').replace('#','');
  if($('#' + id)){
    e.preventDefault();
    history.pushState(null,'','#' + id);
    showPage(id);
  }
});
handleHash();

/* Right/Left hearts go to the correct secrets */
$('#heartR')?.addEventListener('click', (e)=>{ e.preventDefault(); location.hash = '#right-heart'; });
$('#heartL')?.addEventListener('click', (e)=>{ e.preventDefault(); location.hash = '#left-heart'; });

/* -------------------------------
   Poll (local only)
----------------------------------*/
(function(){
  const form = $('#pollForm');
  const results = $('#pollResults');
  if(!form || !results) return;

  const KEY = 'bj_poll_v1';
  function read(){ try{return JSON.parse(localStorage.getItem(KEY))||{}}catch(e){return {}} }
  function save(data){ localStorage.setItem(KEY, JSON.stringify(data)); }
  function draw(){
    const d = read();
    const total = Object.values(d).reduce((a,b)=>a+b,0)||1;
    const lines = Object.entries(d).map(([k,v])=>{
      const pct = Math.round(v*100/total);
      return `<div style="margin:6px 0">${k}: <strong>${pct}%</strong>
        <div class="bar" style="width:${pct}%"></div></div>`;
    }).join('') || '<div style="opacity:.8">No votes yet.</div>';
    results.innerHTML = lines;
  }
  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const pick = form.querySelector('input[name="poll"]:checked');
    if(!pick) return;
    const d = read();
    d[pick.value] = (d[pick.value]||0) + 1;
    save(d); draw();
  });
  draw();
})();

/* -------------------------------
   Webcam timestamp
----------------------------------*/
(function(){
  const ts = $$('.webcam .ts');
  if(!ts.length) return;
  function tick(){
    const t = new Date();
    const hh = String(t.getHours()).padStart(2,'0');
    const mm = String(t.getMinutes()).padStart(2,'0');
    const ss = String(t.getSeconds()).padStart(2,'0');
    ts.forEach(el => el.textContent = `${hh}:${mm}:${ss}`);
  }
  tick();
  setInterval(tick, 1000);
})();

/* -------------------------------
   Journal (owner pad; local only)
----------------------------------*/
let _journalBooted = false;
function bootJournal(){
  if(_journalBooted) return;
  _journalBooted = true;

  const FEED_KEY  = 'bj_journal_posts_v1';
  const OWNER_KEY = 'bj_journal_owner_v1';
  const PASS      = 'glitter'; // local-only

  const feed  = $('#journalFeed');
  const owner = $('#journalOwner');
  if(!feed || !owner) return;

  const passBox  = owner.querySelector('#ownerPassInput');
  const unlock   = owner.querySelector('#unlockBtn');
  const postText = owner.querySelector('#postText');
  const postBtn  = owner.querySelector('#postBtn');

  function read(){ try{ return JSON.parse(localStorage.getItem(FEED_KEY))||[] }catch(e){ return [] } }
  function write(arr){ localStorage.setItem(FEED_KEY, JSON.stringify(arr)); }

  function draw(){
    const arr = read();
    if(!arr.length){
      feed.innerHTML = `<div class="jpost" style="opacity:.8">No entries yet. (Public view) ‚Äî entries you post in Owner Mode will show here on your device.</div>`;
      return;
    }
    feed.innerHTML = arr.slice().reverse().map(p => `
      <div class="jpost">
        <div style="font-weight:800;margin-bottom:4px">${p.title||'(untitled)'} ‚Äî 
          <span style="opacity:.7;font-weight:400">${p.time}</span></div>
        <div>${p.body.replace(/</g,'&lt;').replace(/\n/g,'<br>')}</div>
      </div>`).join('');
  }

  function setOwner(on){
    if(on){ owner.classList.remove('owner-locked'); localStorage.setItem(OWNER_KEY,'1'); }
    else  { owner.classList.add('owner-locked');   localStorage.removeItem(OWNER_KEY); }
  }
  if(localStorage.getItem(OWNER_KEY)) setOwner(true);
  draw();

  unlock?.addEventListener('click', ()=>{
    if(passBox.value === PASS) setOwner(true);
    else alert('Wrong pass.');
  });

  postBtn?.addEventListener('click', ()=>{
    const txt = (postText.value||'').trim();
    if(!txt) return;
    const arr = read();
    arr.push({ title: '', body: txt, time: new Date().toLocaleString() });
    write(arr); postText.value=''; draw();
  });
}

/* ===========================================================
   ARCADE ‚Äî responsive sizing + games
   Goals from your notes:
   - Mobile: Pong and Brick are BIGGER and playable.
   - Brick Breaker: bricks at TOP (not bottom).
   - LipGloss Flight: DESKTOP not too tall; Mobile remains 3:4.
   - Pong: first to 11.
   =========================================================== */

function isMobile(){ return window.matchMedia('(max-width: 840px)').matches; }

// Universal size helper for game canvases
function sizeGameCanvas(canvas, game){
  const wrap = canvas.closest('.canvas-wrap');
  if(!wrap) return;
  const pad = 0; // internal padding
  let w = wrap.clientWidth - pad*2;
  let h;

  // Base ratios
  if(game === 'gloss'){ // 3:4
    h = Math.round(w * 4/3);

    // Desktop cap so it's not "too tall"
    if(!isMobile()){
      const DESKTOP_MAX_H = 520; // keeps it comfortably visible
      if(h > DESKTOP_MAX_H){
        h = DESKTOP_MAX_H;
        w = Math.round(h * 3/4);
      }
    }
  }else{ // pong/brick 16:10
    h = Math.round(w * 10/16);

    // Make them larger on mobile (taller viewport usage)
    if(isMobile()){
      const vh = Math.round(window.innerHeight * 0.62); // ~62% of viewport height
      if(h < vh){ h = vh; w = Math.round(h * 16/10); }
    }
  }

  // Fit within wrap (just in case)
  const maxW = wrap.clientWidth - pad*2;
  if(w > maxW){ w = maxW; h = game==='gloss' ? Math.round(w*4/3) : Math.round(w*10/16); }

  canvas.width  = w;
  canvas.height = h;
}

/* -------------------------------
   PONG ‚Äî first to 11, mobile-friendly
----------------------------------*/
let _pongBooted = false;
function bootPong(){
  if(_pongBooted) return; _pongBooted = true;
  const canvas = $('#pongCanvas'); if(!canvas) return;
  const ctx = canvas.getContext('2d');

  function resize(){ sizeGameCanvas(canvas, 'pong'); }
  resize(); window.addEventListener('resize', resize);

  let W = ()=>canvas.width, H = ()=>canvas.height;
  let paused = true, over = false;
  const MAX = 11;
  let L=0, R=0;

  const paddleL = { x: 16,      y: 0, w: 12, h: 0, speed: 9.5 };
  const paddleR = { x: 0 /* set in step */, y: 0, w: 12, h: 0, speed: 8.5 };
  const ball    = { x: 0, y: 0, r: 7, vx: 0, vy: 0 };

  function serve(dir){
    ball.x = W()/2; ball.y = H()/2;
    ball.vx = (dir || (Math.random()<.5?1:-1))*(3 + W()/500);
    ball.vy = (Math.random()<.5?1:-1)*(2 + H()/900);
  }

  function reset(){
    L=0;R=0;over=false; paused=true;
    paddleL.h = Math.max(80, Math.round(H()*0.18));
    paddleR.h = paddleL.h;
    paddleL.y = H()/2 - paddleL.h/2;
    paddleR.y = H()/2 - paddleR.h/2;
    serve();
    draw();
  }
  reset();

  // Controls (touch = drag side)
  canvas.addEventListener('touchstart', e=>e.preventDefault(), {passive:false});
  canvas.addEventListener('touchmove', e=>{
    const t = e.touches[0]; const r = canvas.getBoundingClientRect();
    const x = t.clientX - r.left; const y = t.clientY - r.top;
    if(x < W()/2) paddleL.y = Math.max(0, Math.min(H()-paddleL.h, y - paddleL.h/2));
    else          paddleR.y = Math.max(0, Math.min(H()-paddleR.h, y - paddleR.h/2));
    e.preventDefault();
  }, {passive:false});

  // Buttons
  $('#pongStart')?.addEventListener('click', ()=>{ if(over) reset(); paused = false; });
  $('#pongReset')?.addEventListener('click', ()=> reset());

  // Keyboard
  let kUp=false,kDown=false;
  window.addEventListener('keydown', e=>{
    if(location.hash !== '#game-pong') return;
    if(e.key==='ArrowUp')   { kUp=true;   e.preventDefault(); }
    if(e.key==='ArrowDown') { kDown=true; e.preventDefault(); }
    if(e.key.toLowerCase()==='p'){ paused=!paused; }
    if(e.key.toLowerCase()==='r'){ reset(); }
  }, {passive:false});
  window.addEventListener('keyup', e=>{
    if(e.key==='ArrowUp')   kUp=false;
    if(e.key==='ArrowDown') kDown=false;
  });

  function draw(){
    // bg
    const g=ctx.createLinearGradient(0,0,0,H()); g.addColorStop(0,'#140018'); g.addColorStop(1,'#0b0010'); ctx.fillStyle=g; ctx.fillRect(0,0,W(),H());
    // center line
    ctx.setLineDash([12,12]); ctx.strokeStyle='rgba(255,255,255,.25)'; ctx.beginPath(); ctx.moveTo(W()/2,0); ctx.lineTo(W()/2,H()); ctx.stroke(); ctx.setLineDash([]);
    // scores
    ctx.fillStyle='#ffdfff'; ctx.font = 'bold ' + Math.max(18, Math.floor(W()/20)) + 'px Verdana';
    ctx.fillText(L, W()/2 - 50, 36); ctx.fillText(R, W()/2 + 36, 36);
    // paddles
    ctx.fillStyle='#ff9ef6'; ctx.fillRect(paddleL.x, paddleL.y, paddleL.w, paddleL.h);
    ctx.fillStyle='#49c9ff'; ctx.fillRect(W()-paddleR.w-16, paddleR.y, paddleR.w, paddleR.h);
    // ball
    ctx.beginPath(); ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2); ctx.fillStyle='#fff'; ctx.fill();

    // overlay
    if(paused || over){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W(),H());
      ctx.fillStyle='#ffdfff'; ctx.textAlign='center';
      ctx.font='bold 22px Verdana'; ctx.fillText(over ? (L>=MAX ? 'YOU WIN' : 'YOU LOSE') : 'PAUSED', W()/2, H()/2-6);
      ctx.font='bold 14px Verdana'; ctx.fillText('Start / Reset', W()/2, H()/2+18);
      ctx.textAlign='start';
    }
  }

  function step(){
    if(location.hash !== '#game-pong'){ requestAnimationFrame(step); return; }
    sizeGameCanvas(canvas, 'pong'); // keep large on orientation changes
    paddleR.x = W()-paddleR.w-16;

    if(!(paused||over)){
      if(kUp) paddleL.y -= paddleL.speed;
      if(kDown) paddleL.y += paddleL.speed;
      paddleL.y = Math.max(0, Math.min(H()-paddleL.h, paddleL.y));

      // Simple CPU follows ball
      paddleR.y += (ball.y - (paddleR.y + paddleR.h/2)) * 0.12;
      paddleR.y = Math.max(0, Math.min(H()-paddleR.h, paddleR.y));

      // Move ball
      ball.x += ball.vx; ball.y += ball.vy;

      // Walls
      if(ball.y - ball.r < 0){ ball.y = ball.r; ball.vy *= -1; }
      if(ball.y + ball.r > H()){ ball.y = H() - ball.r; ball.vy *= -1; }

      // Score
      if(ball.x + ball.r < 0){ R++; if(R>=MAX){ over=true; } else serve(1); }
      if(ball.x - ball.r > W()){ L++; if(L>=MAX){ over=true; } else serve(-1); }

      // Paddle collisions
      const hitL = (ball.x - ball.r <= paddleL.x + paddleL.w) &&
                   (ball.y >= paddleL.y && ball.y <= paddleL.y + paddleL.h);
      const hitR = (ball.x + ball.r >= paddleR.x) &&
                   (ball.y >= paddleR.y && ball.y <= paddleR.y + paddleR.h);
      if(hitL){ ball.x = paddleL.x + paddleL.w + ball.r; ball.vx *= -1.08; ball.vy += (ball.y - (paddleL.y+paddleL.h/2)) * 0.05; }
      if(hitR){ ball.x = paddleR.x - ball.r;             ball.vx *= -1.08; ball.vy += (ball.y - (paddleR.y+paddleR.h/2)) * 0.05; }
    }

    draw();
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}

/* -------------------------------
   BRICK BREAKER ‚Äî bricks at TOP, bigger on mobile
----------------------------------*/
let _brickBooted = false;
function bootBrick(){
  if(_brickBooted) return; _brickBooted = true;
  const canvas = $('#brickCanvas'); if(!canvas) return;
  const ctx = canvas.getContext('2d');

  function resize(){ sizeGameCanvas(canvas, 'brick'); }
  resize(); window.addEventListener('resize', resize);

  let paused = true, over = false, win = false;
  let paddle, ball, bricks;

  function fresh(){
    const W = canvas.width, H = canvas.height;

    // Bigger paddle on mobile
    const pw = isMobile() ? Math.max(100, Math.round(W * 0.26)) : Math.max(80, Math.round(W*0.18));

    paddle = { w: pw, h: 12, x: W/2, y: H - 28, s: 10 };
    ball   = { x: W/2, y: H/2, r: 7, vx: 3.2*(isMobile()?0.85:1), vy: -3.0*(isMobile()?0.85:1) };
    bricks = [];

    // BRICKS AT THE TOP (5 rows x 8 cols)
    const cols = 8, rows = 5, pad = 8, top = 60;
    const bw = (W - (cols+1)*pad) / cols;
    const bh = 18;
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        bricks.push({ x: pad + c*(bw+pad), y: top + r*(bh+pad), w: bw, h: bh });
      }
    }
  }
  function reset(){ paused=true; over=false; win=false; fresh(); draw(); }
  reset();

  // Controls: mouse drag / touch move
  function moveToClientX(clientX){
    const rect = canvas.getBoundingClientRect();
    const x = clientX - rect.left;
    paddle.x = Math.max(paddle.w/2, Math.min(canvas.width - paddle.w/2, x));
  }
  canvas.addEventListener('mousemove', e=>{ if(e.buttons) moveToClientX(e.clientX); });
  canvas.addEventListener('touchmove', e=>{ moveToClientX(e.touches[0].clientX); e.preventDefault(); }, {passive:false});

  $('#brickStart')?.addEventListener('click', ()=>{ if(over||win) reset(); paused=false; });
  $('#brickReset')?.addEventListener('click', ()=> reset());

  function draw(){
    const W = canvas.width, H = canvas.height;
    const g=ctx.createLinearGradient(0,0,0,H); g.addColorStop(0,'#15001a'); g.addColorStop(1,'#09000e'); ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

    // paddle
    ctx.fillStyle='#ff9ef6'; ctx.fillRect(paddle.x - paddle.w/2, paddle.y, paddle.w, paddle.h);
    // ball
    ctx.beginPath(); ctx.fillStyle='#fff'; ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2); ctx.fill();
    // bricks (top)
    bricks.forEach(b=>{ ctx.fillStyle='rgba(73,201,255,.95)'; ctx.fillRect(b.x,b.y,b.w,b.h); });

    if(paused||over||win){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.textAlign='center';
      ctx.font='bold 22px Verdana'; ctx.fillText(win?'YOU WIN!':(over?'GAME OVER':'PAUSED'), W/2, H/2 - 6);
      ctx.font='bold 14px Verdana'; ctx.fillText('Start / Reset', W/2, H/2+18);
      ctx.textAlign='start';
    }
  }

  function step(){
    if(location.hash !== '#game-brick'){ requestAnimationFrame(step); return; }
    sizeGameCanvas(canvas, 'brick'); // keep big on mobile
    if(!(paused||over||win)){
      const W = canvas.width, H = canvas.height;

      // move ball
      ball.x += ball.vx; ball.y += ball.vy;
      if(ball.x - ball.r < 0){ ball.x = ball.r; ball.vx *= -1; }
      if(ball.x + ball.r > W){ ball.x = W - ball.r; ball.vx *= -1; }
      if(ball.y - ball.r < 0){ ball.y = ball.r; ball.vy *= -1; }
      if(ball.y - ball.r > H){ over = true; }

      // paddle collision
      if(ball.y + ball.r >= paddle.y &&
         ball.x >= paddle.x - paddle.w/2 &&
         ball.x <= paddle.x + paddle.w/2 &&
         ball.y < paddle.y + paddle.h){
        ball.vy *= -1.05;
        const rel = (ball.x - paddle.x)/(paddle.w/2);
        ball.vx = Math.max(-6, Math.min(6, ball.vx + rel*2.4));
        ball.y = paddle.y - ball.r - 1;
      }

      // bricks
      bricks = bricks.filter(b=>{
        const hit = (ball.x > b.x && ball.x < b.x+b.w && ball.y - ball.r < b.y + b.h && ball.y + ball.r > b.y);
        if(hit){ ball.vy *= -1; return false; }
        return true;
      });

      if(!bricks.length) win = true;
    }
    draw();
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}

/* -------------------------------
   LIP GLOSS FLIGHT ‚Äî desktop height cap
----------------------------------*/
let _glossBooted = false;
function bootGloss(){
  if(_glossBooted) return; _glossBooted = true;
  const canvas = $('#lipCanvas'); if(!canvas) return;
  const ctx = canvas.getContext('2d');

  function resize(){ sizeGameCanvas(canvas, 'gloss'); }
  resize(); window.addEventListener('resize', resize);

  let paused = true, over = false, t = 0, score = 0;
  let y = canvas.height/2, vy = 0;
  const G = 0.35, FLAP = -6.0, GAP = 120;
  let pipes = [];

  // Simple pixel proxies (no external assets needed). You can swap with real sprites later.
  function drawLip(x,y,s){ ctx.fillStyle='#ff3fa5'; ctx.fillRect(x-s/2, y-s/2, s, s); } // lipstick proxy
  function drawMas(x,y,w,h){ ctx.fillStyle='#8f5cff'; ctx.fillRect(x-w/2,y,w,h); }      // mascara proxy

  function addPipe(){
    const H = canvas.height, W = canvas.width;
    const gapY = 80 + Math.random()*(H - 160 - GAP);
    const width = 44;
    pipes.push({ x: W + 40, y: gapY, w: width, scored: false });
  }

  function reset(){
    paused = true; over = false; t = 0; score = 0; vy = 0; y = canvas.height/2; pipes = [];
    draw();
  }
  reset();

  // Controls
  $('#lipStart')?.addEventListener('click', ()=>{ if(over) reset(); paused=false; });
  $('#lipReset')?.addEventListener('click', ()=> reset());
  canvas.addEventListener('mousedown', ()=>{ if(over){ reset(); paused=false; } else { vy = FLAP; paused=false; } });
  canvas.addEventListener('touchstart', (e)=>{ if(over){ reset(); paused=false; } else { vy = FLAP; paused=false; } e.preventDefault(); }, {passive:false});
  window.addEventListener('keydown', (e)=>{
    if(location.hash !== '#game-gloss') return;
    if(e.code==='Space'){ e.preventDefault(); if(over){ reset(); paused=false; } else { vy = FLAP; paused=false; } }
    if(e.key.toLowerCase()==='p'){ paused = !paused; }
    if(e.key.toLowerCase()==='r'){ reset(); }
  }, {passive:false});

  function draw(){
    const W = canvas.width, H = canvas.height;
    const g=ctx.createLinearGradient(0,0,0,H); g.addColorStop(0,'#1a0020'); g.addColorStop(1,'#0d0012'); ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

    // pipes
    pipes.forEach(p=>{
      drawMas(p.x, 0, p.w, p.y);            // top
      drawMas(p.x, p.y + GAP, p.w, H - (p.y + GAP)); // bottom
    });

    // lipstick
    drawLip(Math.floor(W*0.32), Math.floor(y), 32);

    // score
    ctx.fillStyle='#ffdfff'; ctx.textAlign='center';
    ctx.font='bold ' + Math.max(18, Math.floor(W/18)) + 'px Verdana';
    ctx.fillText(score, W/2, 36);
    ctx.textAlign='start';

    if(paused || over){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.textAlign='center';
      ctx.font='bold 22px Verdana'; ctx.fillText(over?'GAME OVER':'PAUSED', W/2, H/2-6);
      ctx.font='bold 14px Verdana'; ctx.fillText('Start / Reset', W/2, H/2+18);
      ctx.textAlign='start';
    }
  }

  function step(){
    if(location.hash !== '#game-gloss'){ requestAnimationFrame(step); return; }
    sizeGameCanvas(canvas, 'gloss'); // apply desktop height cap and mobile 3:4
    if(!(paused||over)){
      t++;
      if(t % 70 === 0) addPipe();
      vy += G; y += vy;
      const W = canvas.width, H = canvas.height;
      if(y < 12) y = 12;
      if(y > H - 12){ y = H - 12; over = true; }

      pipes.forEach(p => p.x -= 3.0);
      while(pipes.length && pipes[0].x < -60) pipes.shift();

      // scoring & collisions
      const lx = Math.floor(W*0.32), half = 16; // lipstick half-size
      pipes.forEach(p=>{
        if(!p.scored && p.x < lx){ p.scored = true; score++; }
        const top = p.y, bottom = p.y + GAP, w = p.w;
        const collide = (lx + half > p.x - w/2 && lx - half < p.x + w/2) && (y - half < top || y + half > bottom);
        if(collide) over = true;
      });
    }
    draw();
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}
</script>