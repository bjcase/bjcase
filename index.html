<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>bj case ‚Äî home</title>

<!-- Favicons (always included, cache-busted) -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=1.30.0">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=1.30.0">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=1.30.0">
<link rel="manifest" href="/site.webmanifest?v=1.30.0">
<link rel="shortcut icon" href="/favicon.ico?v=1.30.0">
<meta name="theme-color" content="#ff9ef6">

<!-- Cache-busting hint for the HTML URL itself -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Atma:wght@400&display=swap" rel="stylesheet" />

<style>
/* ===========================================================
   üåà  BJ CASE 2003 WEBZONE ‚Äî SINGLE FILE INDEX (v1.30.0)
   - Journal: 2000s blog overhaul + Owner Mode (local only)
   - Arcade: left-heart -> menu + 3 games (desktop & mobile)
   - Mobile: big pass (sidebar balance, fewer header notes, webcam scaling)
   - Per-section light overlays (home/music/visuals/journal/contact/about/arcade)
   - Everything else preserved unless noted
   =========================================================== */

/* ---------- PALETTE ---------- */
:root{
  --pink:#ff9ef6;
  --neon-blue:#49c9ff;
  --orange:#ffb35e;
  --red:#ff4d4d;
  --ink:#ffeaff;
  --link:#ffbffb;
  --bright-red:#ff3b3b;
  --panel-top:#3d0055; --panel-mid:#21002a; --panel-bot:#1a001a;
}

/* ---------- BASE ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:Arial,Helvetica,sans-serif;
  background:#000 url('https://sadhost.neocities.org/images/tiles/pinkstars.gif') repeat fixed; /* DO NOT TOUCH */
  cursor:url('https://cur.cursors-4u.net/cursors/cur-2/cur116.cur'), auto;
}
.wrapper{max-width:860px;margin:0 auto;padding:16px}
a{color:var(--link)} a:hover{color:#fff; text-decoration:underline}

/* ---------- PER-SECTION OVERLAYS (keep body stars) ---------- */
.section-overlay{
  position:relative; isolation:isolate;
}
.section-overlay::before{
  content:""; position:absolute; inset:0; z-index:-1; pointer-events:none; opacity:.18;
  background: radial-gradient(120% 90% at 50% -10%, #ff7ef630 0%, transparent 55%) no-repeat;
}
/* Subtle variances by route */
[data-route="music"] .section-overlay::before{
  background: radial-gradient(140% 100% at 50% -10%, #49c9ff33 0%, transparent 60%);
  opacity:.22;
}
[data-route="visuals"] .section-overlay::before{
  background: radial-gradient(140% 100% at 50% -10%, #ffb35e33 0%, transparent 60%);
  opacity:.22;
}
[data-route="journal"] .section-overlay::before{
  background: radial-gradient(150% 120% at 50% -20%, #ff9ef645 0%, transparent 65%);
  opacity:.28;
}
[data-route="contact"] .section-overlay::before{
  background: radial-gradient(160% 120% at 50% -20%, #ff4d4d33 0%, transparent 65%);
}
[data-route="arcade"] .section-overlay::before{
  background: radial-gradient(160% 120% at 50% -20%, #49c9ff40 0%, transparent 65%);
}

/* ---------- HEADER (tighter) ---------- */
.site-header{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#520061 0%,#36003e 60%,#240024 100%);
  box-shadow:0 0 0 2px #000 inset,0 12px 26px #000c;
  margin:16px 0 18px; padding:10px 18px 10px;
  position:relative; overflow:hidden;
}
.logo-wrap{
  position:relative; display:flex; align-items:center; justify-content:center;
  gap:1.3em; /* desired spacing */
  width:100%; margin:0 auto 6px; z-index:3;
}
.heart{
  display:inline-block; text-decoration:none; line-height:1;
  color:var(--pink); font-size:clamp(26px,4.6vw,44px);
  transform:scaleX(1.3);
  text-shadow:0 0 6px var(--pink), 0 0 10px var(--neon-blue), 0 0 14px rgba(255,255,255,.35);
  filter:drop-shadow(0 0 2px #fff6);
  transition: transform .12s ease, text-shadow .2s ease;
  z-index:4;
}
.heart:hover{ transform:scaleX(1.3) scale(1.08); text-shadow:0 0 8px var(--neon-blue), 0 0 14px var(--pink) }

.logo{
  position:relative; z-index:3;
  font-family:"Orbitron","Arial Black",sans-serif;
  font-size:clamp(32px,7vw,86px);
  text-transform:lowercase;
  text-align:center;
  background-image:
    linear-gradient(120deg, transparent 45%, rgba(255,255,255,.98) 50%, transparent 55%),
    linear-gradient(90deg, var(--neon-blue), var(--orange), var(--red), var(--pink), var(--neon-blue));
  background-size: 220% 100%, 400% 400%;
  background-position: -180% 0, 0 50%;
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent;
  animation: logoShine 3.05s linear infinite;
  text-shadow:0 0 6px var(--neon-blue),0 0 10px var(--pink);
  margin:0; width:max-content;
}
@keyframes logoShine{0%{background-position:-180% 0,0 50%}100%{background-position:180% 0,0 50%}}

.note{
  position:absolute; user-select:none; pointer-events:none; z-index:1;
  color:#ffd1fa; text-shadow:0 0 6px var(--pink), 0 0 10px #fff8;
  opacity:.96; animation: floatY var(--dur,4.6s) ease-in-out infinite;
}
@keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(var(--amp,7px))}}

/* ---------- NAV ---------- */
.nav{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:10px 0 8px}
.nav a{
  --glow: rgba(73,201,255,.65);
  text-decoration:none; color:#fff; font-weight:700; letter-spacing:.02em;
  padding:10px 16px; border-radius:6px; position:relative; overflow:hidden;
  border:2px solid var(--pink);
  background:
    linear-gradient(180deg, #4a005f 0%, #2a003d 55%, #1a0026 100%),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.25), transparent 60%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset;
  transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
.nav a::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(120deg, transparent 45%, rgba(255,255,255,.5) 50%, transparent 55%);
  transform:translateX(-130%); transition:transform .5s ease;
}
.nav a:hover{
  border-color:var(--neon-blue); color:var(--neon-blue);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.35), inset 0 -6px 12px rgba(0,0,0,.5), 0 0 12px var(--glow);
  transform:translateY(-1px);
}
.nav a:hover::after{ transform:translateX(130%) }

/* ---------- TICKER ---------- */
.ticker{
  overflow:hidden; white-space:nowrap; border:2px solid var(--pink);
  background:linear-gradient(180deg,#330033,#240024);
  font:800 13px/2.1 Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; text-transform:uppercase; letter-spacing:.08em;
}
.ticker span{display:inline-block; padding-left:100%; animation:slide 18s linear infinite}
@keyframes slide{to{transform:translateX(-100%)}}

/* ---------- GRID ---------- */
.grid{display:grid; gap:14px; grid-template-columns:2fr 1fr; align-items:start;}
.grid.single{ grid-template-columns:1fr; }
#leftPane{ min-height: 640px; }
.grid.single #leftPane{ min-height: 780px; }

/* ---------- PANELS ---------- */
.panel{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,var(--panel-top) 0%,var(--panel-mid) 60%,var(--panel-bot) 100%);
  box-shadow:0 0 0 2px #000 inset, 0 12px 22px #0007;
  padding:16px; border-radius:3px; position:relative; overflow:hidden;
}
.panel h2{
  margin:0 0 12px;
  font-family:"Atma", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight:400; font-size:20px; line-height:1.2;
  text-transform:uppercase; letter-spacing:.08em; color:var(--neon-blue);
}
.panel + .panel{ margin-top:14px }
hr{border:none; height:1px; background:linear-gradient(90deg,transparent,var(--neon-blue),transparent); margin:12px 0}

/* ---------- STATUS BOX ---------- */
.status-box{
  position:relative; padding:12px; border-radius:8px;
  background:linear-gradient(180deg,#2b0037 0%, #17001e 100%);
  border:2px solid var(--neon-blue);
  box-shadow:0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.18);
}
.pink{color:var(--pink); font-weight:700}

/* ---------- WINAMP (kept for Home ‚ÄúNow Playing‚Äù) ---------- */
.winamp{
  border:1px solid #ff7ef6; background:#1b001d;
  box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset;
  padding:10px; border-radius:4px; color:#ffe5ff;
  font:12px "Tahoma",Verdana,Arial,sans-serif;
}
.winamp .display{
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  background:#120016; padding:6px 8px; margin-bottom:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.winamp .row{display:flex; align-items:center; gap:8px; margin-top:6px}
.btn{
  display:inline-block; width:22px; height:22px; border:1px solid #ff7ef6; background:#350036;
  box-shadow:0 0 0 2px #000 inset; text-align:center; line-height:20px; font-weight:800; user-select:none; position:relative; overflow:hidden; cursor:pointer;
}
.btn::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent); transform:translateX(-120%); opacity:0}
.btn:hover::after{ animation: shine .9s ease; opacity:1 }
@keyframes shine{ from{ left:-70px } to{ left:120% } }
.scrubber{
  flex:1; height:8px; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  background: linear-gradient(90deg,#ff9ef6 0%, #49c9ff 45%, #ffb35e 85%);
  margin-left:8px; border-radius:2px;
}

/* ---------- BADGES ---------- */
.badges{display:flex; flex-wrap:wrap; gap:6px}
.badges a{display:inline-block; padding:6px 10px; border:1px solid var(--pink); box-shadow:0 0 0 2px #000 inset; background:#300033; color:#ffbdfb; font:800 10px/1 Verdana; text-align:center; text-decoration:none}

/* ---------- POLL ---------- */
.pollbox{
  position:relative;
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#2a0034 0%,#1a0024 100%);
  box-shadow:0 0 0 2px #000 inset, 0 10px 18px #0007;
  padding:12px; border-radius:8px; overflow:hidden;
}
.pollbox::after{
  /* gentle sparkle sweep around border */
  content:""; position:absolute; inset:-2px; border-radius:10px; pointer-events:none;
  background:
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 120px 2px no-repeat,
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 100% / 120px 2px no-repeat,
    linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 2px 120px no-repeat,
    linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 100% 0 / 2px 120px no-repeat;
  animation: borderSweep 4s linear infinite;
  mix-blend-mode:screen; opacity:.7;
}
@keyframes borderSweep{
  0%   { background-position: 0 0, 0 100%, 0 0, 100% 0; }
  100% { background-position: 100% 0, 100% 100%, 0 100%, 100% 100%; }
}
.pollbox p.desc{ margin:0 0 10px; font:12px Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; opacity:.95; }
.poll label{display:block; margin:6px 0; font:12px Verdana,Tahoma,Arial,sans-serif}
.voteBtn{
  margin-top:10px; padding:9px 14px; font-weight:800; letter-spacing:.02em;
  border:2px solid var(--pink); border-radius:6px; cursor:pointer; color:#fff;
  background:
     linear-gradient(180deg,#6c006c 0%, #420042 100%),
     radial-gradient(80% 60% at 50% 0%, rgba(255,255,255,.28), transparent 60%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 14px rgba(73,201,255,.35);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.voteBtn:hover{ transform:translateY(-1px); border-color:var(--neon-blue); box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.55) }
.poll-results{ margin-top:10px; font:12px Verdana,Tahoma,Arial,sans-serif }
.bar{height:12px;background:#ff79e9;border:1px solid var(--pink);box-shadow:0 0 0 2px #000 inset}

/* ---------- FAKE WEBCAM ---------- */
.webcam{
  border:2px solid #ff7ef6; background:#0d0010;
  box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset;
  padding:10px; border-radius:4px; position:relative; margin-top:12px;
}
.webcam .bar{
  display:flex; justify-content:space-between; align-items:center;
  background:none;
  font:10px Tahoma,Verdana,Arial,sans-serif; color:var(--bright-red); opacity:1; margin-bottom:8px;
}
.webcam .rec{ display:inline-flex; gap:6px; align-items:center; letter-spacing:.08em; text-transform:uppercase; color:var(--bright-red) }
.webcam .dot{ width:8px; height:8px; background:var(--bright-red); border-radius:50%; box-shadow:0 0 6px var(--bright-red); animation:blink 1s steps(2,end) infinite; }
@keyframes blink{50%{opacity:.2}}
.webcam .ts{ color:var(--bright-red) }
.webcam .screen{
  width:100%; aspect-ratio:4/3; background:#120016;
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  overflow:hidden; position:relative;
}
.webcam .screen img{ width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.05) saturate(1.1) brightness(.95); }

/* ---------- SHOUTBOX ---------- */
.shoutbox{ margin-top:14px }
.chat{
  display:flex; flex-direction:column; gap:8px;
  max-height: 460px; min-height: 260px;
  overflow:auto;
  background:#1a001e; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; padding:10px; border-radius:4px;
}
.bubble{
  max-width:92%; padding:8px 10px; border-radius:10px; font:12px Verdana,Tahoma,Arial,sans-serif; line-height:1.3;
  background:linear-gradient(180deg,#420046,#2a0030); border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
}
.bubble.me{ align-self:flex-end; background:linear-gradient(180deg,#004a66,#002436); border-color:#49c9ff }
.meta{ font-size:10px; opacity:.7; margin-top:3px }
.inputRow{ display:flex; gap:6px; margin-top:10px }
.inputRow input,.inputRow textarea{
  flex:1; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:8px; font:12px Verdana,Tahoma,Arial,sans-serif;
  box-shadow:0 0 0 2px #000 inset;
}
.inputRow button{
  background:linear-gradient(180deg,#6c006c,#420042); color:#fff; border:2px solid var(--pink); border-radius:4px; padding:8px 12px; font-weight:700; cursor:pointer;
  box-shadow:0 0 0 3px #000 inset;
}
.emotes{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px }
.emotes button{
  font:12px Verdana,Tahoma,Arial,sans-serif; padding:4px 8px; border:1px solid var(--pink); background:#300033; color:#ffdfff; border-radius:3px; cursor:pointer;
}

/* ---------- FOOTER ---------- */
footer{margin:18px 0 32px; text-align:center; color:#ffdfff; font:12px Verdana,Tahoma,Arial,sans-serif}

/* ---------- CURSOR GLITTER (kept) ---------- */
.cursor-star{
  position:absolute; width:7px; height:7px; pointer-events:none;
  background:radial-gradient(circle,#fff 0%,transparent 70%);
  opacity:.95; filter:drop-shadow(0 0 4px currentColor);
  animation:starFade .5s linear forwards;
}
@keyframes starFade{from{transform:scale(1);opacity:.95}to{transform:scale(0);opacity:0}}

/* ---------- JOURNAL (maximalist, animated only here) ---------- */
.journal-wrap{
  display:grid; grid-template-columns: 270px 1fr; gap:14px; align-items:start;
}
.j-sticky{
  position:sticky; top:8px;
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#430050,#220028);
  padding:12px; border-radius:8px; box-shadow:0 0 0 2px #000 inset;
}
.j-sticky h3{
  margin:0 0 8px; font-family:"Atma",sans-serif; font-weight:400; color:var(--pink);
  text-transform:uppercase; letter-spacing:.08em;
}
.j-owner{ display:flex; gap:6px; margin:8px 0 10px }
.j-owner input{
  flex:1; padding:8px; border:1px solid var(--pink); background:#2a0030; color:#ffeaff; border-radius:6px; box-shadow:0 0 0 2px #000 inset;
}
.j-owner button{
  padding:8px 10px; border:2px solid var(--pink); background:#4a005f; color:#fff; font-weight:800; border-radius:6px; cursor:pointer;
  box-shadow:0 0 0 2px #000 inset;
}
.j-editor{
  display:none; /* toggled in owner mode */
  border:2px dashed var(--pink); background:#1a001f; padding:10px; border-radius:8px;
}
.j-editor input,.j-editor textarea{
  width:100%; margin:6px 0; padding:8px; border:1px solid var(--pink); background:#2a0030; color:#ffeaff; border-radius:6px; box-shadow:0 0 0 2px #000 inset;
}
.j-editor .row{display:flex; gap:8px}
.j-editor .row input{flex:1}
.j-editor .actions{display:flex; gap:8px; margin-top:8px}
.j-editor .actions button{
  padding:8px 10px; border:2px solid var(--neon-blue); background:#00354a; color:#fff; font-weight:800; border-radius:6px; cursor:pointer;
  box-shadow:0 0 0 2px #000 inset;
}
.j-feed{
  border:2px solid var(--pink);
  background:
    radial-gradient(80% 50% at 10% -10%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg,#3b004f 0%, #1f0028 100%);
  padding:12px; border-radius:8px; box-shadow:0 0 0 2px #000 inset;
  position:relative; overflow:hidden;
}
.j-feed::after{
  content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen; opacity:.25;
  background-image:
    radial-gradient(circle at 18% 20%, #fff 0 2px, transparent 3px),
    radial-gradient(circle at 80% 65%, #fff 0 1.5px, transparent 2.5px),
    radial-gradient(circle at 30% 85%, #fff 0 1.5px, transparent 2.5px);
  animation: jTwinkle 4.2s linear infinite;
}
@keyframes jTwinkle{
  0%{opacity:.15; transform:translateY(0)}
  50%{opacity:.35; transform:translateY(1px)}
  100%{opacity:.15; transform:translateY(0)}
}
.j-entry{
  margin:0 0 14px; padding:12px; border-radius:10px;
  background:linear-gradient(180deg,#420046 0%, #2a0030 100%);
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
}
.j-entry h4{
  margin:0 0 6px; font:700 16px/1.2 Verdana, Tahoma, Arial, sans-serif; color:#ffdfff;
}
.j-entry .date{ font:11px Verdana; opacity:.75; margin-bottom:8px }

/* ---------- ARCADE (animated only here) ---------- */
.arcade-menu{
  display:grid; grid-template-columns:repeat(3,1fr); gap:12px;
}
.arc-card{
  border:2px solid var(--pink);
  border-radius:10px; padding:12px; text-align:center; cursor:pointer;
  background:
    radial-gradient(120% 120% at 50% -20%, rgba(73,201,255,.25), transparent 60%),
    linear-gradient(180deg,#2a0034 0%, #120018 100%);
  box-shadow:0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.2);
  transition:transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.arc-card:hover{ transform:translateY(-2px); border-color:var(--neon-blue); box-shadow:0 0 0 2px #000 inset, 0 0 22px rgba(73,201,255,.45) }
.arc-card h3{ margin:6px 0 4px; font-family:"Atma"; color:var(--neon-blue); font-weight:400; text-transform:uppercase; letter-spacing:.06em }
.arc-card p{ margin:0; font:12px Verdana }

/* Game canvases */
.game-wrap{ width:100%; }
.game-wrap canvas{
  display:block; width:100%; max-width:100%;
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#140018,#0b0010);
}

/* ---------- RESPONSIVE (mobile overhaul) ---------- */
@media (max-width: 900px){
  /* grid becomes single column, but we force balanced widths */
  .grid{ grid-template-columns:1fr; }
  .panel{ padding:14px; }
  /* header: reduce note clutter */
  .site-header .note{ display:none } /* hide all by default */
  /* re-add a tasteful few */
  .site-header .note.keep{ display:block }
  /* logo sizing */
  .logo{ font-size:clamp(28px,10vw,70px) }
  .nav a{ font-size:14px; padding:8px 12px }

  /* sidebar + main stack, same full width */
  #leftPane, #rightPane{ min-height:unset !important; }
  .webcam .screen{ aspect-ratio: 16/10; } /* less tall on small screens */

  /* journal layout stacks */
  .journal-wrap{ grid-template-columns:1fr; }
  .j-sticky{ position:relative; top:auto }
}

/* ultra narrow tweaks */
@media (max-width: 420px){
  .voteBtn{ width:100% }
  .badges{ justify-content:center }
  .arcade-menu{ grid-template-columns:1fr; }
}
</style>
</head>
<body>
<div class="wrapper section-overlay" id="app">

  <!-- ========== HEADER ========== -->
  <header class="site-header" id="header">
    <!-- Minimal notes for desktop; on mobile most hidden -->
    <span class="note keep" style="left:10px; top:6px;  font-size:16px; --dur:4.8s; --amp:8px;">‚ô™</span>
    <span class="note keep" style="left:36px; top:28px; font-size:22px; --dur:4.2s; --amp:6px;">‚ô´</span>
    <span class="note keep" style="right:18px; top:10px; font-size:16px; --dur:4.6s; --amp:7px;">‚ô™</span>
    <span class="note keep" style="right:46px; top:30px; font-size:20px; --dur:4.4s; --amp:6px;">‚ô´</span>

    <div class="logo-wrap">
      <!-- Left heart -> ARCADE -->
      <a class="heart left"  href="#arcade" title="secret arcade">‚ô•</a>
      <div class="logo" id="logo">bj case</div>
      <!-- Right heart keeps a small secret page -->
      <a class="heart right" href="#secret" title="secret note">‚ô•</a>
    </div>

    <nav class="nav" aria-label="Main">
      <a href="#home">Home</a>
      <a href="#music">Music</a>
      <a href="#visuals">Visuals</a>
      <a href="#journal">Journal</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="ticker"><span>‚úß Welcome to the official BJ Case webzone ‚Ä¢ New music coming soon ‚Ä¢ Chasing dreams since 2003 ‚úß</span></div>
  </header>

  <!-- ========== MAIN GRID ========== -->
  <main class="grid" id="pageRoot">
    <!-- LEFT -->
    <section class="panel" id="leftPane">
      <h2 id="leftTitle">Welcome</h2>
      <div id="leftContent">
        <p>Hi! My name is BJ. I hope you enjoy my page. This is my own little slice (or perhaps, strand?) of the web. This is my digital diary. My respite from the chaos. Feel free to look around, get lost even. Oh, and btw‚Ä¶ I make music! That‚Äôs on here if you wanna check it out!! Safe travels :p</p>

        <hr />
        <h2>Status</h2>
        <div class="status-box">
          <p style="white-space:pre-line; margin:0">
<span class="pink">Currently:</span> rewatching Charmed and working on music : )
<span class="pink">Now listening to:</span> Britney ‚Äî ‚ÄúPhonography‚Äù (on repeat)
<span class="pink">Mood:</span> excited and nervous :D
          </p>
        </div>

        <hr />
        <h2>Now Playing</h2>
        <div class="winamp" role="group" aria-label="Now Playing">
          <div class="display" id="nowPlayingTrack">01. bj case ‚Äî Performance (demo)</div>
          <div class="row">
            <div class="btn" title="Prev" aria-label="Previous">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M7 5v14H5V5h2zm2 7 10 7V5L9 12z"/></svg>
            </div>
            <div class="btn" title="Play" aria-label="Play">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M8 5v14l11-7z"/></svg>
            </div>
            <div class="btn" title="Pause" aria-label="Pause">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
            </div>
            <div class="btn" title="Next" aria-label="Next">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M17 5v14h2V5h-2zM7 5l10 7-10 7V5z"/></svg>
            </div>
            <div class="scrubber" title="Scrub (decorative)"></div>
            <div id="nowPlayingTime">02:47</div>
          </div>
        </div>

        <hr />
        <h2>Featured Links</h2>
        <p>A little something I‚Äôve learned from my short time on Earth so far is the importance of placing an extreme emphasis on LOVE. ;)</p>

        <hr />
        <h2>Roadmap</h2>
        <pre style="margin:0; white-space:pre-wrap; font-family:inherit;">
‚Ä¢ Keep working on the blog
‚Ä¢ Clean my room
‚Ä¢ Keep building ‚ÄúFlip Phone‚Äù
        </pre>

        <div style="margin-top:12px; font:11px Verdana">
          <span style="padding:2px 6px;border:1px solid var(--pink);background:#300033;box-shadow:0 0 0 2px #000 inset">‚òÖ NEW ‚òÖ</span>
          &nbsp;Online now: <span id="onlineCount">7</span> users
        </div>
      </div>
    </section>

    <!-- RIGHT -->
    <aside class="panel" id="rightPane">
      <h2>Release Timeline</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
 ‚Ä¢Spring 2026: ??
 ‚Ä¢Summer 2026: ???
 ‚Ä¢ Autumn 2026: ???? 
      </pre>

      <hr />
      <h2>Studio Log</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
‚Ä¢ November 3rd: Build synth stack for ‚ÄúFlip Phone‚Äù and figure out drum pattern
‚Ä¢ October 3rd, 2025: Figure out what the bridge of ‚ÄúPerformance‚Äù should be like
      </pre>

      <hr />
      <h2>Poll</h2>
      <div class="pollbox" id="pollArea">
        <p class="desc">Pick the song that most interests you‚Ä¶</p>
        <div class="poll">
          <label><input type="radio" name="poll" value="performance"> ‚ÄúPerformance‚Äù</label>
          <label><input type="radio" name="poll" value="flip"> ‚ÄúFlip Phone‚Äù</label>
          <label><input type="radio" name="poll" value="look"> ‚ÄúLook But Don‚Äôt Touch‚Äù</label>
          <button id="voteBtn" class="voteBtn">Cast Vote</button>
        </div>
        <div class="poll-results" id="pollResults" style="display:none;">
          <div>Performance: <span id="pPerf">0%</span></div>
          <div class="bar" id="bPerf" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Flip Phone: <span id="pFlip">0%</span></div>
          <div class="bar" id="bFlip" style="width:0%; background:#49c9ff"></div>
          <div style="height:6px"></div>
          <div>Look BDT: <span id="pLook">0%</span></div>
          <div class="bar" id="bLook" style="width:0%; background:#ffb35e"></div>
        </div>
      </div>

      <hr />
      <h2>Quick Links</h2>
      <div class="badges" aria-label="Buttons" id="rightQuick">
        <a href="#journal">Journal</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#music">Music</a>
      </div>

      <!-- Webcam -->
      <div class="webcam">
        <div class="bar">
          <div class="rec"><span class="dot"></span> REC</div>
          <div class="ts" id="ts">00:00:00</div>
        </div>
        <div class="screen">
          <img id="webcamFeed" src="/assets/webcam.gif?v=1.30.0" alt="webcam feed placeholder">
        </div>
      </div>
    </aside>
  </main>

  <!-- SHOUTBOX -->
  <section class="panel shoutbox" aria-label="Shoutbox">
    <h2>Shoutbox</h2>
    <div style="display:flex; align-items:center; gap:10px; margin-bottom:8px;">
      <label style="font:12px Verdana"><input type="checkbox" id="privateToggle"> Private view (show my local posts)</label>
      <button id="clearLocal" style="margin-left:auto; background:#2a0030; color:#ffdfff; border:1px solid var(--pink); padding:6px 10px; border-radius:4px; cursor:pointer;">Clear my local posts</button>
    </div>
    <div class="chat" id="chat">
      <div class="bubble"><strong>anon123:</strong> love the sparkle bg! ^_^ <div class="meta">today</div></div>
      <div class="bubble me"><strong>bjcase:</strong> thank you!! new music soon :3 <div class="meta">today</div></div>
    </div>
    <div class="emotes" id="emotes">
      <button type="button">^_^</button><button type="button">>_<</button><button type="button">;_;</button><button type="button">:3</button><button type="button">x_x</button>
      <button type="button">(>‚Äø<)</button><button type="button">(Ôæâ‚óï‚Äø‚óï)Ôæâ*</button><button type="button">(„Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å•</button><button type="button">(~_^)</button><button type="button">‡≤†_‡≤†</button>
    </div>
    <div class="inputRow">
      <input id="nameInput" placeholder="name (optional)" />
      <textarea id="msgInput" rows="2" placeholder="type a message... (saved locally only)"></textarea>
      <button id="sendBtn">Save</button>
    </div>
    <p style="font:11px Verdana; opacity:.75; margin-top:8px;">Posts you add are saved to <em>your device only</em> and are hidden by default. Toggle ‚ÄúPrivate view‚Äù to see them.</p>
  </section>

  <footer>¬© <span id="y">2025</span> bj case ‚Äî handmade glitter webzone</footer>
</div>

<script>
/* ===== VERSION & CACHE-BUST ===== */
const SITE_VERSION = '1.30.0';
(function ensureVersionParam(){
  try{
    const u = new URL(location.href);
    if(u.searchParams.get('v') !== SITE_VERSION){
      u.searchParams.set('v', SITE_VERSION);
      history.replaceState(null, '', u.toString());
    }
  }catch(e){}
})();

/* ===== YEAR ===== */
document.getElementById('y').textContent = new Date().getFullYear();

/* ===== Fake online counter ===== */
(function(){
  const el = document.getElementById('onlineCount');
  if(!el) return;
  let base = 7 + Math.floor(Math.random()*3);
  function bump(){
    base += (Math.random()>.6?1:-1);
    if(base<3) base=3;
    if(base>18) base=18;
    el.textContent = base;
  }
  setInterval(bump, 3500);
})();

/* ===== ROUTER PAGES ===== */
const pages = {
  home: {
    leftTitle: "Welcome",
    leftHTML: document.querySelector('#leftContent').innerHTML, /* use initial DOM as template */
    rightEnabled: true,
    rightHTML: document.querySelector('#rightPane').innerHTML
  },

  music: {
    leftTitle: "Music",
    leftHTML: `
      <p>Hey ‚Äî you‚Äôve found the music section. Let me provide an update on that front.</p>
      <p>Right now, I‚Äôm still in the early stages of learning production. However, my demo for my first song, ‚ÄúPerformance‚Äù is pretty well developed and is close to being ready for vocals which I‚Äôm excited for!! Also, I‚Äôve started to build my song ‚ÄúFlip Phone‚Äù too. I‚Äôm so excited!!! ‚Äî BJ</p>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Mix Notes</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li>Sidechain longer 4/4 bass vs syncopated stabs</li>
        <li>Delay throw on ‚Äú-ance‚Äù tail in ‚ÄúPerformance‚Äù</li>
        <li>Mono core; stereo for color only</li>
      </ul>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#journal">Studio Diary</a>
        <a href="#visuals">Cover Art</a>
        <a href="#contact">Bookings</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts3">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=1.30.0" alt="webcam feed placeholder"></div>
      </div>
    `
  },

  visuals: {
    leftTitle: "Visuals",
    leftHTML: `
      <p>Here‚Äôs where I‚Äôll post concepts for the visual aspects of my music, as well as some other stuff too. My little pixel picture piece of the blog, if you will.</p>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Moodboard</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li>Velvet theatre + chrome gloss</li>
        <li>Pink glitter + neon blue edge</li>
        <li>2007‚Äì2009 pop futurism</li>
      </ul>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#music">Music</a><a href="#journal">Journal</a><a href="#contact">Contact</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts4">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=1.30.0" alt="webcam feed placeholder"></div>
      </div>
    `
  },

  /* ====== JOURNAL (new blog) ====== */
  journal: {
    leftTitle: "Journal",
    leftHTML: `
      <div class="journal-wrap">
        <!-- Stickies / owner mode -->
        <aside class="j-sticky">
          <h3>Journal Tools</h3>
          <p style="font:12px Verdana;opacity:.85">Owner Mode lets <em>you</em> add private entries (saved locally).</p>
          <div class="j-owner">
            <input id="j-pass" type="password" placeholder="enter pass (your device only)">
            <button id="j-auth">Unlock</button>
          </div>
          <div class="j-editor" id="j-editor">
            <div class="row">
              <input id="j-title" placeholder="Entry title">
              <input id="j-date" placeholder="Date (auto if blank)">
            </div>
            <textarea id="j-body" rows="4" placeholder="Your entry‚Ä¶"></textarea>
            <div class="actions">
              <button id="j-save">Save entry</button>
              <button id="j-clear">Clear local</button>
            </div>
          </div>
          <p style="font:11px Verdana;opacity:.7;margin-top:8px">Entries you create here are visible only on this device. We can wire a real backend later.</p>
        </aside>

        <!-- Feed -->
        <section class="j-feed">
          <article class="j-entry">
            <h4>Nov 3, 2025 ‚Äî Secret Arcade Arrives!</h4>
            <div class="date">posted today</div>
            <p>Left heart ‚Üí arcade. Three games live: Pong, Lip-Gloss Flight, Brick Breaker. Maximalism activated.</p>
          </article>
          <article class="j-entry">
            <h4>Oct 31, 2025 ‚Äî Mobile polish begins</h4>
            <div class="date">posted Oct 31</div>
            <p>Lots of CSS tweaks to keep everything cute on small screens. Fewer header notes on mobile for balance.</p>
          </article>
          <div id="j-private-mount"></div>
        </section>
      </div>
    `,
    rightEnabled: false
  },

  /* ====== ARCADE ====== */
  arcade: {
    leftTitle: "‚ô• secret ‚Äî arcade",
    leftHTML: `
      <p style="margin-bottom:10px">Welcome to the secret arcade. Pick a game:</p>
      <div class="arcade-menu">
        <div class="arc-card" data-route="#game-pong">
          <h3>Pong</h3>
          <p>Classic. First to 7 wins. ‚Üë/‚Üì or touch.</p>
        </div>
        <div class="arc-card" data-route="#game-gloss">
          <h3>Lip-Gloss Flight</h3>
          <p>Dodge mascara clumps. Tap/Space to float.</p>
        </div>
        <div class="arc-card" data-route="#game-bricks">
          <h3>Brick Breaker</h3>
          <p>Break glitter blocks. Drag or ‚Üê ‚Üí.</p>
        </div>
      </div>
    `,
    rightEnabled: false
  },

  /* ====== Games subpages ====== */
  "game-pong": {
    leftTitle: "‚ô• arcade ‚Äî pong",
    leftHTML: `
      <p>Use <strong>‚Üë/‚Üì</strong> (or touch on mobile). First to <strong>7</strong> wins. <strong>R</strong> = reset, <strong>P</strong> = pause.</p>
      <div class="game-wrap"><canvas id="pong"></canvas></div>
      <div style="margin-top:8px;font:12px Verdana">Score: <span id="scoreL">0</span> ‚Äî <span id="scoreR">0</span></div>
    `,
    rightEnabled: false
  },
  "game-gloss": {
    leftTitle: "‚ô• arcade ‚Äî lip-gloss flight",
    leftHTML: `
      <p>Tap / Space to float. Avoid obstacles. Cute + chaotic.</p>
      <div class="game-wrap"><canvas id="gloss"></canvas></div>
    `,
    rightEnabled: false
  },
  "game-bricks": {
    leftTitle: "‚ô• arcade ‚Äî brick breaker",
    leftHTML: `
      <p>Break all glitter bricks. Drag paddle (or use ‚Üê ‚Üí).</p>
      <div class="game-wrap"><canvas id="bricks"></canvas></div>
    `,
    rightEnabled: false
  },

  /* ====== Right-heart tiny secret ====== */
  secret: {
    leftTitle: "‚ô• secret ‚Äî note",
    leftHTML: `
      <p>Hidden page reserved for future secrets. Check back later‚Ä¶</p>
      <article>
        <h3>Private Teaser</h3>
        <p>Maybe an early lyric, a cover mock, or a studio camera? Shh.</p>
      </article>
    `,
    rightEnabled: false
  },

  about: {
    leftTitle: "About",
    leftHTML: `
      <p>Okay here‚Äôs like the serious section I guess. So I‚Äôm BJ. I make music, my favorite food is sushi, and I‚Äôm a cat person. You can find me here, IRL if I materialize, and to find me on other corners of the digital world, refer to the ‚ÄúContact‚Äù section.</p>
    `,
    rightEnabled: false
  },
  contact: {
    leftTitle: "Contact",
    leftHTML: `
      <p>These are my other pages:</p>
      <p>‚Ä¢ Instagram: @itsbjcase<br>
      ‚Ä¢ Tiktok: @wannabj<br>
      ‚Ä¢ I‚Äôm not on Twitter rn cuz it‚Äôs called ‚ÄòX‚Äô now, among other reasons :(</p>
      <p>Also, I‚Äôll be on streaming platforms soon! I‚Äôll put them here when the time comes.</p>
      <p>Ohhh and my email is <br><strong>itsbjcase@gmail.com</strong><br>for any inquiries (business only please!)</p>
    `,
    rightEnabled: false
  }
};

const app = document.getElementById('app');
const rootEl = document.getElementById("pageRoot");
const leftPane = document.getElementById("leftPane");
const rightPane = document.getElementById("rightPane");

/* Helpers */
function setLayout(single){ single ? rootEl.classList.add("single") : rootEl.classList.remove("single"); }
function syncColumns(){
  const rightVisible = rightPane.style.display !== "none";
  if(!rightVisible){ leftPane.style.minHeight=""; return; }
  const L = leftPane.offsetHeight;
  const R = rightPane.offsetHeight;
  const H = Math.max(L,R);
  leftPane.style.minHeight = H + "px";
  rightPane.style.minHeight = H + "px";
}
let syncRAF; function scheduleSync(){ cancelAnimationFrame(syncRAF); syncRAF = requestAnimationFrame(syncColumns); }

/* Mount right column (and wire poll if present) */
function mountRight(html){
  if(!html){ rightPane.style.display="none"; setLayout(true); scheduleSync(); return; }
  rightPane.style.display=""; setLayout(false);
  rightPane.innerHTML = html;

  const btn = rightPane.querySelector('#voteBtn');
  if(btn){
    wirePoll('#voteBtn','#pollResults','#pPerf','#pFlip','#pLook','#bPerf','#bFlip','#bLook','bj_poll_right');
  }
  rightPane.querySelectorAll('img').forEach(img=>{
    if(img.complete) scheduleSync(); else img.addEventListener('load', scheduleSync, {once:true});
  });
  scheduleSync();
}

/* Update section overlay route for per-section background accent */
function setRouteAttr(route){
  app.setAttribute('data-route', route);
}

/* Render route */
function render(route){
  const key = route && pages[route] ? route : "home";
  setRouteAttr(key);
  document.getElementById("leftTitle").textContent = pages[key].leftTitle;
  document.getElementById("leftContent").innerHTML = pages[key].leftHTML;
  mountRight(pages[key].rightEnabled ? pages[key].rightHTML : null);

  // Page-specific boots
  if(key === 'game-pong') bootPong();
  if(key === 'game-gloss') bootGloss();
  if(key === 'game-bricks') bootBricks();
  if(key === 'journal') bootJournal();

  // Arcade menu card navigation
  if(key === 'arcade'){
    document.querySelectorAll('.arc-card').forEach(card=>{
      card.addEventListener('click', ()=> {
        const r = card.getAttribute('data-route');
        if(r) location.hash = r;
      });
    });
  }
}
function onHash(){ render(location.hash.replace("#","").toLowerCase()); }
window.addEventListener("hashchange", onHash);
onHash();
window.addEventListener('resize', scheduleSync);

/* Clicking logo returns Home */
document.getElementById('logo').addEventListener('click', ()=> location.hash = '#home');

/* ===== POLL (localStorage) ===== */
function wirePoll(btnSel,resSel,pPerfSel,pFlipSel,pLookSel,bPerfSel,bFlipSel,bLookSel,KEY){
  const els = {
    btn: document.querySelector(btnSel),
    results: document.querySelector(resSel),
    pPerf: document.querySelector(pPerfSel),
    pFlip: document.querySelector(pFlipSel),
    pLook: document.querySelector(pLookSel),
    bPerf: document.querySelector(bPerfSel),
    bFlip: document.querySelector(bFlipSel),
    bLook: document.querySelector(bLookSel)
  };
  if(!els.btn) return;

  function read(){ try{ return JSON.parse(localStorage.getItem(KEY))||{performance:0,flip:0,look:0}; }catch(e){ return {performance:0,flip:0,look:0}; } }
  function save(d){ localStorage.setItem(KEY, JSON.stringify(d)); }
  function per(v,t){ return Math.round((v||0)/(t||1)*100); }
  function draw(d){
    const t=(d.performance||0)+(d.flip||0)+(d.look||0)||1;
    els.pPerf.textContent=per(d.performance,t)+"%";
    els.pFlip.textContent=per(d.flip,t)+"%";
    els.pLook.textContent=per(d.look,t)+"%";
    els.bPerf.style.width=per(d.performance,t)+"%";
    els.bFlip.style.width=per(d.flip,t)+"%";
    els.bLook.style.width=per(d.look,t)+"%";
    els.results.style.display='block';
  }

  els.btn.addEventListener('click',()=>{
    const chosen = document.querySelector('input[name="poll"]:checked'); if(!chosen) return;
    const voted = localStorage.getItem(KEY+"_voted"); const data=read();
    if(voted){ draw(data); return; }
    if(chosen.value==="performance") data.performance++;
    if(chosen.value==="flip") data.flip++;
    if(chosen.value==="look") data.look++;
    save(data); localStorage.setItem(KEY+"_voted","1"); draw(data);
  });

  if(localStorage.getItem(KEY+"_voted")) draw(read());
}

/* ===== Shoutbox (private posts) ===== */
(() => {
  const SB_KEY="bj_shout_private";
  const chat = document.getElementById('chat');
  const nameInput = document.getElementById('nameInput');
  const msgInput = document.getElementById('msgInput');
  const sendBtn  = document.getElementById('sendBtn');
  const privTgl  = document.getElementById('privateToggle');
  const clearBtn = document.getElementById('clearLocal');

  function load(){ try{ return JSON.parse(localStorage.getItem(SB_KEY))||[] }catch(e){ return [] } }
  function save(arr){ localStorage.setItem(SB_KEY, JSON.stringify(arr)) }

  function renderPrivate(){
    chat.querySelectorAll('.bubble.private').forEach(n=>n.remove());
    if(!privTgl.checked) return;
    const arr = load();
    arr.forEach(s=>{
      const div = document.createElement('div');
      div.className = 'bubble private me';
      div.innerHTML = `<strong>${s.name||'me'}:</strong> ${s.text}<div class="meta">${s.time}</div>`;
      chat.appendChild(div);
    });
    chat.scrollTop = chat.scrollHeight;
  }

  document.querySelectorAll('#emotes button').forEach(b=>{
    b.addEventListener('click',()=>{ msgInput.value += (msgInput.value ? ' ' : '') + b.textContent; msgInput.focus(); });
  });

  sendBtn.addEventListener('click', ()=>{
    const text = msgInput.value.trim(); if(!text) return;
    const name = (nameInput.value.trim() || 'me');
    const time = new Date().toLocaleString();
    const arr = load(); arr.push({name, text, time}); save(arr);
    msgInput.value='';
    renderPrivate();
  });

  privTgl.addEventListener('change', renderPrivate);
  clearBtn.addEventListener('click', ()=>{ localStorage.removeItem(SB_KEY); renderPrivate(); });

  renderPrivate();
})();

/* ===== Cursor glitter ===== */
(()=> {
  const colors = ["#ff9ef6","#49c9ff","#ffb35e","#ff4d4d","#ffffff"];
  let lastT = 0;
  document.addEventListener("mousemove", (e)=>{
    const now = performance.now();
    if (now - lastT < 12) return;
    lastT = now;
    const star = document.createElement("span");
    star.className = "cursor-star";
    star.style.left = (window.scrollX + e.clientX - 3) + "px";
    star.style.top  = (window.scrollY + e.clientY - 3) + "px";
    const c = colors[(Math.random()*colors.length)|0];
    star.style.color = c;
    star.style.background = `radial-gradient(circle, ${c} 0%, transparent 70%)`;
    document.body.appendChild(star);
    setTimeout(()=>{ star.remove(); }, 550);
  }, {passive:true});
})();

/* ===== REC timers ===== */
(function recTimers(){
  const update = (id)=> {
    const el = document.getElementById(id);
    if(!el) return;
    const t = new Date();
    const h = String(t.getHours()).padStart(2,'0');
    const m = String(t.getMinutes()).padStart(2,'0');
    const s = String(t.getSeconds()).padStart(2,'0');
    el.textContent = `${h}:${m}:${s}`;
  };
  setInterval(()=>{ ['ts','ts2','ts3','ts4'].forEach(update); }, 1000);
})();

/* ===== JOURNAL BOOT (Owner mode, local only) ===== */
function bootJournal(){
  const PASS_KEY='bj_journal_pass_ok';
  const STORE='bj_journal_entries';
  const editor = document.getElementById('j-editor');
  const pass = document.getElementById('j-pass');
  const auth = document.getElementById('j-auth');
  const saveBtn = document.getElementById('j-save');
  const clearBtn = document.getElementById('j-clear');
  const title = document.getElementById('j-title');
  const date = document.getElementById('j-date');
  const body = document.getElementById('j-body');
  const mount = document.getElementById('j-private-mount');

  function ok(){ return localStorage.getItem(PASS_KEY)==='1'; }
  function showEditor(show){ if(editor) editor.style.display = show ? 'block':'none'; }

  function load(){ try{ return JSON.parse(localStorage.getItem(STORE))||[] }catch(e){ return [] } }
  function save(arr){ localStorage.setItem(STORE, JSON.stringify(arr)) }

  function draw(){
    if(!mount) return;
    mount.innerHTML='';
    const arr=load();
    arr.forEach(en=>{
      const art = document.createElement('article');
      art.className='j-entry';
      art.innerHTML = `<h4>${en.title||'(untitled)'}</h4><div class="date">${en.date||''}</div><p>${en.body||''}</p>`;
      mount.prepend(art);
    });
  }

  if(auth){
    auth.onclick = ()=>{
      // super lightweight check; you can set any pass you like; it‚Äôs local-only.
      if((pass.value||'').length>=1){ localStorage.setItem(PASS_KEY,'1'); showEditor(true); }
    };
  }
  showEditor(ok());
  draw();

  if(saveBtn){
    saveBtn.onclick = ()=>{
      const arr=load();
      const d = date.value.trim() || new Date().toLocaleString();
      arr.push({title:title.value.trim(), date:d, body:body.value.trim()});
      save(arr); title.value=''; date.value=''; body.value='';
      draw();
    };
  }
  if(clearBtn){
    clearBtn.onclick = ()=>{ localStorage.removeItem(STORE); draw(); };
  }
}

/* ====== ARCADE GAMES ====== */

/* PONG */
function bootPong(){
  const canvas = document.getElementById('pong');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');

  function size(){
    const parent = canvas.parentElement || canvas;
    const w = Math.min(parent.clientWidth || 560, 820);
    const h = Math.round(w * 9 / 14);
    canvas.width = w; canvas.height = h;
  }
  size();
  window.addEventListener('resize', size, {passive:true});

  let up=false, down=false, paused=false, gameOver=false, touching=false, touchY=0;
  let W = canvas.width, H = canvas.height;

  const maxScore = 7;
  let scoreL = 0, scoreR = 0;

  const state = {
    player: { x: 16, y: H/2-35, w: 10, h: 70, s: 5.0 },
    cpu:    { x: W-26, y: H/2-35, w: 10, h: 70, s: 4.2 },
    ball:   { x: W/2, y: H/2, r: 6, vx: 4.0*(Math.random()<.5?1:-1), vy: 2.6*(Math.random()<.5?1:-1) }
  };
  function clamp(v,min,max){ return v<min?min:(v>max?max:v); }

  /* prevent page scroll with arrow keys */
  const keydown=(e)=>{ if(e.key==='ArrowUp'){up=true;e.preventDefault()} if(e.key==='ArrowDown'){down=true;e.preventDefault()} if(e.key.toLowerCase()==='r'){resetGame()} if(e.key.toLowerCase()==='p'){ if(!gameOver) paused=!paused } };
  const keyup=(e)=>{ if(e.key==='ArrowUp'){up=false;e.preventDefault()} if(e.key==='ArrowDown'){down=false;e.preventDefault()} };
  window.addEventListener('keydown', keydown, {passive:false});
  window.addEventListener('keyup', keyup, {passive:false});

  /* mobile touch control: drag anywhere over canvas to move paddle */
  canvas.addEventListener('touchstart', (e)=>{ touching=true; touchY = (e.touches[0]||e.changedTouches[0]).clientY; }, {passive:true});
  canvas.addEventListener('touchmove', (e)=>{
    if(!touching) return;
    const y = (e.touches[0]||e.changedTouches[0]).clientY;
    const dy = y - touchY;
    state.player.y = clamp(state.player.y + dy*0.6, 0, H-state.player.h);
    touchY = y;
  }, {passive:true});
  canvas.addEventListener('touchend', ()=> touching=false, {passive:true});

  function resetBall(dir){
    state.ball.x = W/2; state.ball.y = H/2;
    const sX = 4.0 + Math.random()*0.6;
    const sY = 2.2 + Math.random()*0.8;
    state.ball.vx = (dir|| (Math.random()<.5?1:-1)) * sX;
    state.ball.vy = (Math.random()<.5?1:-1) * sY;
  }
  function resetGame(){
    scoreL = 0; scoreR = 0; gameOver=false; paused=false;
    state.player.y = H/2 - state.player.h/2;
    state.cpu.y = H/2 - state.cpu.h/2;
    resetBall( (Math.random()<.5?1:-1) );
    draw();
  }

  function draw(){
    const g=ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#140018'); g.addColorStop(1,'#0b0010');
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

    ctx.setLineDash([8,8]); ctx.strokeStyle='rgba(255,255,255,.2)';
    ctx.beginPath(); ctx.moveTo(W/2,0); ctx.lineTo(W/2,H); ctx.stroke(); ctx.setLineDash([]);

    ctx.fillStyle='#ffdfff'; ctx.font='bold 20px Verdana';
    ctx.fillText(`${scoreL}`, W/2-36, 26);
    ctx.fillText(`${scoreR}`, W/2+24, 26);

    ctx.fillStyle='#ff9ef6'; ctx.fillRect(state.player.x, state.player.y, state.player.w, state.player.h);
    ctx.fillStyle='#49c9ff'; ctx.fillRect(state.cpu.x, state.cpu.y, state.cpu.w, state.cpu.h);

    ctx.beginPath(); ctx.fillStyle='#fff';
    ctx.arc(state.ball.x, state.ball.y, state.ball.r, 0, Math.PI*2); ctx.fill();

    if(paused || gameOver){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 22px Verdana';
      ctx.textAlign='center';
      if(gameOver){
        ctx.fillText(scoreL>=maxScore ? 'YOU WIN' : 'YOU LOSE', W/2, H/2 - 6);
        ctx.font='bold 14px Verdana';
        ctx.fillText('Press R to restart', W/2, H/2 + 16);
      }else{
        ctx.fillText('PAUSED', W/2, H/2);
      }
      ctx.textAlign='start';
    }
  }

  function step(){
    if(paused || gameOver){ draw(); requestAnimationFrame(step); return; }
    if(W !== canvas.width || H !== canvas.height){ W = canvas.width; H = canvas.height; state.cpu.x = W-26; }

    if(up) state.player.y -= state.player.s;
    if(down) state.player.y += state.player.s;
    state.player.y = clamp(state.player.y, 0, H-state.player.h);

    const target = state.ball.y - state.cpu.h/2;
    state.cpu.y += (target - state.cpu.y) * 0.085;
    state.cpu.y = clamp(state.cpu.y, 0, H-state.cpu.h);

    state.ball.x += state.ball.vx;
    state.ball.y += state.ball.vy;

    if(state.ball.y-state.ball.r<0){ state.ball.y=state.ball.r; state.ball.vy*=-1; }
    if(state.ball.y+state.ball.r>H){ state.ball.y=H-state.ball.r; state.ball.vy*=-1; }

    if(state.ball.x + state.ball.r < 0){
      scoreR++; updateScore(); checkGameOver(); resetBall(1);
    }else if(state.ball.x - state.ball.r > W){
      scoreL++; updateScore(); checkGameOver(); resetBall(-1);
    }

    function collide(p){
      if(state.ball.x+state.ball.r>p.x && state.ball.x-state.ball.r<p.x+p.w &&
         state.ball.y>p.y && state.ball.y<p.y+p.h){
        state.ball.vx *= -1.06;
        const rel = (state.ball.y - (p.y+p.h/2)) / (p.h/2);
        state.ball.vy = clamp(state.ball.vy + rel*2.4, -5.2, 5.2);
      }
    }
    collide(state.player);
    collide(state.cpu);

    draw();
    requestAnimationFrame(step);
  }

  function updateScore(){
    const L=document.getElementById('scoreL'); const R=document.getElementById('scoreR');
    if(L) L.textContent = scoreL; if(R) R.textContent = scoreR;
  }
  function checkGameOver(){ if(scoreL>=maxScore || scoreR>=maxScore){ gameOver=true; } }

  updateScore(); draw(); requestAnimationFrame(step);
}

/* LIP-GLOSS FLIGHT (Flappy-like) */
function bootGloss(){
  const canvas = document.getElementById('gloss');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');

  function size(){
    const parent = canvas.parentElement || canvas;
    const w = Math.min(parent.clientWidth || 560, 820);
    const h = Math.round(w * 9 / 16);
    canvas.width = w; canvas.height = h;
  }
  size(); window.addEventListener('resize', size, {passive:true});

  let W=canvas.width, H=canvas.height;
  const player = { x: W*0.25, y: H*0.5, vy:0, r:10 };
  const gravity = 0.35, lift = -6.2;
  let pipes=[], t=0, running=true, score=0;

  function addPipe(){
    const gap = Math.max(90, H*0.28);
    const topH = 40 + Math.random()*(H-gap-80);
    const speed = 2.6;
    pipes.push({ x: W+20, w: 36, top: topH, bottom: topH+gap, v: speed });
  }

  function reset(){
    pipes=[]; t=0; score=0; player.y=H*0.5; player.vy=0; running=true;
  }

  function tap(){ if(!running){ reset(); return; } player.vy = lift; }

  canvas.addEventListener('mousedown', tap);
  canvas.addEventListener('touchstart', (e)=>{ e.preventDefault(); tap(); }, {passive:false});
  window.addEventListener('keydown', (e)=>{ if(e.code==='Space'){ e.preventDefault(); tap(); } }, {passive:false});

  function step(){
    W=canvas.width; H=canvas.height;

    // background
    const g=ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#120019'); g.addColorStop(1,'#07000c');
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

    // pipes
    if(t%95===0) addPipe();
    pipes.forEach(p=> p.x -= p.v);
    pipes = pipes.filter(p=> p.x+p.w>0);

    // player physics
    player.vy += gravity;
    player.y += player.vy;
    if(player.y<player.r){ player.y=player.r; player.vy=0; }
    if(player.y>H-player.r){ running=false; }

    // draw pipes (mascara clumps as sparkly bars)
    pipes.forEach(p=>{
      ctx.fillStyle='#ff9ef6';
      ctx.fillRect(p.x, 0, p.w, p.top);
      ctx.fillRect(p.x, p.bottom, p.w, H-p.bottom);
      // sparkly edge
      ctx.fillStyle='rgba(255,255,255,.25)';
      ctx.fillRect(p.x, p.top-2, p.w, 2);
      ctx.fillRect(p.x, p.bottom, p.w, 2);
    });

    // collision & score
    pipes.forEach(p=>{
      const withinX = player.x+player.r > p.x && player.x-player.r < p.x+p.w;
      const hitTop = player.y-player.r < p.top;
      const hitBot = player.y+player.r > p.bottom;
      if(withinX && (hitTop || hitBot)) running=false;
      if(p.x+p.w<player.x && !p.passed){ p.passed=true; score++; }
    });

    // player (lip-gloss cap)
    ctx.beginPath(); ctx.fillStyle='#ffffff';
    ctx.arc(player.x, player.y, player.r, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle='#ff9ef6'; ctx.fillRect(player.x-2, player.y-player.r-10, 4, 10);

    // UI
    ctx.fillStyle='#ffdfff'; ctx.font='bold 18px Verdana';
    ctx.fillText(`Score: ${score}`, 10, 22);

    if(!running){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 22px Verdana';
      ctx.textAlign='center'; ctx.fillText('GAME OVER', W/2, H/2-6);
      ctx.font='bold 14px Verdana'; ctx.fillText('Tap or Space to restart', W/2, H/2+16);
      ctx.textAlign='start';
      return; // stop loop until user taps
    }

    t++; requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}

/* BRICK BREAKER */
function bootBricks(){
  const canvas = document.getElementById('bricks');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');

  function size(){
    const parent = canvas.parentElement || canvas;
    const w = Math.min(parent.clientWidth || 560, 860);
    const h = Math.round(w * 3 / 5);
    canvas.width = w; canvas.height = h;
  }
  size(); window.addEventListener('resize', size, {passive:true});

  let W=canvas.width, H=canvas.height;
  const paddle = { w: Math.max(60, W*0.18), h: 12, x: W*0.41, y: H-24, s: 7.2 };
  const ball = { x: W*0.5, y: H*0.5, r: 7, vx: 3.2, vy: -3.6 };
  let bricks=[], cols=8, rows=5, spacing=6, topPad=48, leftPad=12, bw, bh, dragging=false, keys={left:false,right:false}, running=true;

  function layout(){
    W=canvas.width; H=canvas.height;
    paddle.y = H-24; paddle.w = Math.max(60, W*0.18);
    bw = Math.floor((W - leftPad*2 - spacing*(cols-1)) / cols);
    bh = 18;
    bricks=[];
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        bricks.push({x:leftPad + c*(bw+spacing), y: topPad + r*(bh+spacing), w:bw, h:bh, hit:false});
      }
    }
  }
  layout();

  canvas.addEventListener('mousemove', (e)=>{
    if(!dragging) return;
    const rect = canvas.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    paddle.x = Math.max(0, Math.min(mx - paddle.w/2, W - paddle.w));
  });
  canvas.addEventListener('mousedown', (e)=>{ dragging=true; });
  canvas.addEventListener('mouseup', ()=> dragging=false);
  canvas.addEventListener('touchstart', (e)=>{ dragging=true; }, {passive:true});
  canvas.addEventListener('touchend', ()=> dragging=false, {passive:true});
  canvas.addEventListener('touchmove', (e)=>{
    if(!dragging) return;
    const rect = canvas.getBoundingClientRect();
    const mx = (e.touches[0]||e.changedTouches[0]).clientX - rect.left;
    paddle.x = Math.max(0, Math.min(mx - paddle.w/2, W - paddle.w));
  }, {passive:true});

  window.addEventListener('keydown', (e)=>{
    if(e.key==='ArrowLeft'){ keys.left=true; e.preventDefault(); }
    if(e.key==='ArrowRight'){ keys.right=true; e.preventDefault(); }
    if(e.key.toLowerCase()==='r'){ reset(); }
  }, {passive:false});
  window.addEventListener('keyup', (e)=>{
    if(e.key==='ArrowLeft'){ keys.left=false; e.preventDefault(); }
    if(e.key==='ArrowRight'){ keys.right=false; e.preventDefault(); }
  }, {passive:false});

  function reset(){
    ball.x=W*0.5; ball.y=H*0.5; ball.vx=3.2*(Math.random()<.5?-1:1); ball.vy=-3.6;
    layout(); running=true;
  }

  function step(){
    if(!running){
      draw(true); return;
    }
    // move paddle by keys
    if(keys.left) paddle.x = Math.max(0, paddle.x - paddle.s);
    if(keys.right) paddle.x = Math.min(W - paddle.w, paddle.x + paddle.s);

    // move ball
    ball.x += ball.vx; ball.y += ball.vy;
    if(ball.x-ball.r<0){ ball.x=ball.r; ball.vx*=-1; }
    if(ball.x+ball.r>W){ ball.x=W-ball.r; ball.vx*=-1; }
    if(ball.y-ball.r<0){ ball.y=ball.r; ball.vy*=-1; }
    if(ball.y-ball.r>H){ running=false; draw(true); return; }

    // paddle collision
    if(ball.x>paddle.x && ball.x<paddle.x+paddle.w && ball.y+ball.r>paddle.y && ball.y< paddle.y + paddle.h){
      ball.y = paddle.y - ball.r;
      ball.vy *= -1;
      // add angle
      const rel = (ball.x - (paddle.x+paddle.w/2))/(paddle.w/2);
      ball.vx = 3.2*rel*2.2;
    }

    // brick collisions
    let remaining=0;
    bricks.forEach(b=>{
      if(b.hit) return;
      remaining++;
      if(ball.x> b.x && ball.x< b.x+b.w && ball.y> b.y && ball.y< b.y+b.h){
        b.hit=true;
        // reflect smarter on which side was hit
        const prevX = ball.x - ball.vx, prevY = ball.y - ball.vy;
        if(prevX <= b.x || prevX >= b.x+b.w){ ball.vx *= -1; }
        else{ ball.vy *= -1; }
      }
    });
    if(remaining===0){ running=false; draw(true); return; }

    draw(false);
    requestAnimationFrame(step);
  }

  function draw(frozen){
    const g=ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#140018'); g.addColorStop(1,'#0b0010');
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

    // paddle
    ctx.fillStyle='#49c9ff'; ctx.fillRect(paddle.x, paddle.y, paddle.w, paddle.h);

    // ball
    ctx.beginPath(); ctx.fillStyle='#fff';
    ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2); ctx.fill();

    // bricks
    bricks.forEach(b=>{
      if(b.hit) return;
      const grad = ctx.createLinearGradient(b.x,b.y,b.x,b.y+b.h);
      grad.addColorStop(0,'#ff9ef6'); grad.addColorStop(1,'#ffb35e');
      ctx.fillStyle=grad; ctx.fillRect(b.x,b.y,b.w,b.h);
      ctx.strokeStyle='rgba(0,0,0,.5)'; ctx.strokeRect(b.x+.5,b.y+.5,b.w-1,b.h-1);
    });

    // status
    if(frozen){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 22px Verdana'; ctx.textAlign='center';
      const allGone = bricks.every(b=>b.hit);
      ctx.fillText(allGone ? 'YOU WIN!' : 'GAME OVER', W/2, H/2-6);
      ctx.font='bold 14px Verdana';
      ctx.fillText('Press R to restart', W/2, H/2+16);
      ctx.textAlign='start';
    }
  }

  requestAnimationFrame(step);
}

/* Mount static right poll too (home) */
wirePoll('#voteBtn','#pollResults','#pPerf','#pFlip','#pLook','#bPerf','#bFlip','#bLook','bj_poll_right');

/* ========== ROUTER HOOK ========== */
function showSection(route){ location.hash = '#'+route; }

/* Allow clicking hearts always to go to secrets */
document.querySelector('.heart.left').addEventListener('click', (e)=>{ /* default anchor works */ });
document.querySelector('.heart.right').addEventListener('click', (e)=>{ /* default anchor works */ });

</script>
</body>
</html>