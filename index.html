<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BJ CASE — Home</title>

<!-- Google font for logo -->
<link href="https://fonts.googleapis.com/css2?family=Bitcount+Grid+Single&display=swap" rel="stylesheet" />

<style>
/* ===============================
   THEME (kept core palette)
   =============================== */
:root{
  --bg1:#1a0018;
  --bg2:#2b0030;
  --bg3:#3a0048;
  --panel:#2b0036;
  --border:#ff9ef6;
  --ink:#ffeaff;
  --link:#ffbffb;
  --accent:#ff4de3;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family: Arial, Helvetica, sans-serif;
  font-weight:400;

  /* Pink glitter background (as provided) */
  background-color:var(--bg1);
  background-image: url('https://sadhost.neocities.org/images/tiles/pinkstars.gif'); /* DO NOT TOUCH */
  background-repeat: repeat;
  background-attachment: fixed;
}

/* Skinny wrapper */
.wrapper{max-width:860px; margin:0 auto; padding:16px}

/* ===============================
   HEADER (opaque) + chrome sweep
   =============================== */
.site-header{
  position:relative;
  border:2px solid var(--border);
  background: linear-gradient(180deg,#520061 0%, #36003e 60%, #240024 100%);
  box-shadow: 0 0 0 2px #000 inset, 0 12px 26px #000c;
  margin:16px 0 18px; padding:18px; overflow:hidden;
}
.site-header::before{
  content:"";
  position:absolute; inset:0;
  background:
    repeating-linear-gradient(0deg, rgba(255,255,255,.05) 0 2px, rgba(255,255,255,0) 2px 6px),
    radial-gradient(60% 220% at -20% 50%, rgba(255,255,255,.22), transparent 60%);
  pointer-events:none;
  animation: headerSweep 6.5s linear infinite;
}
@keyframes headerSweep{
  0%   { background-position: 0 0,  -120% 0 }
  60%  { background-position: 0 0,   140% 0 }
  100% { background-position: 0 0,   140% 0 }
}

/* LOGO — Bitcount Grid Single (pixel-ish), shiny 3D, smaller + responsive */
.logo-wrap{
  position:relative; display:flex; align-items:center; justify-content:center;
  padding:10px 8px 6px; overflow:hidden;
}
.logo{
  font-family: "Bitcount Grid Single", "Press Start 2P", "Impact","Arial Black",sans-serif;
  font-size: clamp(36px, 8.5vw, 110px); /* smaller so it fits mobile */
  line-height:1; letter-spacing: 2px; text-transform:uppercase;

  /* “Rubber chrome” fill */
  background:
    radial-gradient(120% 160% at 50% 18%, #ffffff 0%, #ffdffb 22%, #ffb4ee 46%, #ff74de 66%, #e500c0 84%, #a9008e 100%),
    repeating-linear-gradient(135deg, rgba(255,255,255,.10) 0 6px, rgba(0,0,0,.08) 6px 12px);
  -webkit-background-clip:text; background-clip:text; color:transparent;

  /* Blocky 3D stack */
  text-shadow:
     0 1px 0 #fff,
     0 2px 0 #ffd5fa,
     0 3px 0 #ffbdf6,
     0 4px 0 #ff99ee,
     0 5px 0 #ff74e0,
     0 6px 0 #ff40cf,
     0 10px 0 #d400b8,
     0 18px 22px rgba(0,0,0,.55);

  filter: saturate(1.18) contrast(1.05) drop-shadow(0 8px 18px rgba(255,64,207,.25));
}

/* NAV — with shine/pulse */
.nav{
  display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin:14px 0 8px;
}
.nav a{
  --shine: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
  text-decoration:none; color:#fff; font-weight:800; letter-spacing:.02em;
  background:linear-gradient(#6c006c,#420042);
  padding:10px 16px; border:2px solid var(--border); box-shadow:0 0 0 3px #000 inset;
  border-radius:4px; text-shadow:0 1px 0 #001; font-size:15px; position:relative; overflow:hidden;
  transform: translateZ(0);
}
.nav a::after{
  content:""; position:absolute; top:0; bottom:0; width:60px; left:-70px;
  background:var(--shine); transform:skewX(-20deg); opacity:.0;
}
.nav a:hover{
  box-shadow:0 0 16px 4px #ff9ef6cc,0 0 0 3px #000 inset;
  animation: btnPulse .9s ease-in-out;
}
.nav a:active{ transform: scale(.98) }
.nav a:hover::after{ animation: shine 0.9s ease; opacity:1 }
@keyframes shine{ from{ left:-70px } to{ left:120% } }
@keyframes btnPulse{ 0%{transform:scale(1)} 50%{transform:scale(1.03)} 100%{transform:scale(1)} }

/* Ticker — unchanged text */
.ticker{
  overflow:hidden; white-space:nowrap; border:2px solid var(--border);
  background:linear-gradient(180deg,#330033,#240024);
  font:800 13px/2.1 Verdana,Tahoma,Arial,sans-serif;
  color:#ffdfff; text-transform:uppercase; letter-spacing:.08em; position:relative;
}
.ticker span{display:inline-block; padding-left:100%; animation:slide 18s linear infinite}
@keyframes slide{to{transform:translateX(-100%)}}

/* Grid / Panels */
.grid{display:grid; gap:14px; grid-template-columns:1fr}
@media(min-width:880px){ .grid{grid-template-columns:2fr 1fr} }

.panel{
  border:2px solid var(--border);
  background:linear-gradient(180deg,#43004e 0%,#2d0032 60%,#1f001f 100%);
  box-shadow:0 0 0 2px #000 inset, 0 12px 22px #0007;
  padding:16px; border-radius:3px; position:relative; overflow:hidden;
}
.panel h2{
  margin:0 0 12px; font:800 16px/1.2 "Verdana",Tahoma,Arial,sans-serif;
  text-transform:uppercase; letter-spacing:.08em; color:#ffbdfb;
}

/* Winamp */
.winamp{
  border:1px solid #ff7ef6; background:#1b001d;
  box-shadow:0 0 0 2px #000 inset; padding:10px;
  font:12px "Tahoma",Verdana,Arial,sans-serif; color:#ffe5ff;
}
.winamp .row{display:flex; align-items:center; gap:8px; margin-top:6px}
.btn{
  display:inline-block; width:22px; height:22px; border:1px solid #ff7ef6; background:#350036;
  box-shadow:0 0 0 2px #000 inset; text-align:center; line-height:20px; font-weight:800; cursor:pointer; user-select:none; position:relative; overflow:hidden;
}
.btn::after{
  content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent);
  transform:translateX(-120%); opacity:.0;
}
.btn:hover::after{ animation: shine .9s ease; opacity:1 }

/* Badges */
.badges{display:flex; flex-wrap:wrap; gap:6px}
.badges a{
  display:inline-block; width:88px; height:31px; border:1px solid #ff9ef6; box-shadow:0 0 0 2px #000 inset;
  background:#300033; color:#ffbdfb; font:800 10px/31px Verdana; text-align:center; text-decoration:none; position:relative; overflow:hidden;
}
.badges a::after{
  content:""; position:absolute; inset:0; background:linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
  transform: translateX(-120%);
}
.badges a:hover::after{ animation: shine 1s ease }

/* Blinkies & glitter dividers (2000s blog vibes) */
.blinkies{display:flex; flex-wrap:wrap; gap:6px; margin:8px 0}
.blinkies span{
  display:inline-block; padding:6px 10px; font:700 10px/1 Verdana, Tahoma, Arial, sans-serif;
  color:#300033; background:#ffd1fa; border:1px solid #ff9ef6; box-shadow:0 0 0 2px #000 inset;
}
.glitter-hr{height:10px; background: repeating-linear-gradient(90deg,#ff9ef6 0 2px, transparent 2px 4px); border:none; margin:14px 0}

/* Footer */
footer{
  margin:18px 0 32px; text-align:center; color:#ffdfff; font:12px Verdana,Tahoma,Arial,sans-serif;
}
footer a{color:var(--link)}
small.counter{
  display:inline-block; margin-top:6px; padding:3px 6px; border:1px solid var(--border);
  background:#1f0022; box-shadow:0 0 0 2px #000 inset; letter-spacing:.2em;
}

/* Utilities */
hr{border:none; height:1px; background:linear-gradient(90deg,transparent,#ff8ae6,transparent); margin:12px 0}
a{color:var(--link)} a:hover{color:#fff; text-decoration:underline}

/* Mobile niceties */
@media (max-width:520px){
  .nav a{font-size:14px; padding:8px 12px}
  .logo{letter-spacing:1px; font-size: clamp(34px, 9vw, 96px)}
}

/* ======= Interactive: Peel-a-Sticker ======= */
.stickers{display:flex; flex-wrap:wrap; gap:10px}
.sticker{
  width:120px; height:120px; position:relative; cursor:pointer;
  border:2px solid var(--border); box-shadow:0 0 0 2px #000 inset; background:#ffbffb;
  display:flex; align-items:center; justify-content:center; text-align:center;
  font:700 12px/1 Verdana, Tahoma, Arial, sans-serif; color:#300033;
}
.sticker .peel{
  position:absolute; width:42px; height:42px; right:-1px; bottom:-1px;
  background: radial-gradient(circle at 100% 100%, #fff 0 60%, #ffd9ff 61% 100%);
  border-left:2px solid var(--border); border-top:2px solid var(--border);
  box-shadow: -2px -2px 0 0 #000 inset;
  clip-path: polygon(0 0, 100% 0, 100% 100%);
  transform-origin: 100% 100%;
  transition: transform .25s ease;
}
.sticker:hover .peel{ transform: rotate(-12deg) }
.sticker.revealed .peel{ transform: rotate(-45deg) }
.sticker .secret{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  background:#300033; color:#ffbdfb; text-decoration:underline; opacity:0; transition: opacity .2s ease;
}
.sticker.revealed .secret{ opacity:1 }

/* ======= Interactive: Tiny Poll ======= */
.poll label{display:block; margin:6px 0; font:12px Verdana, Tahoma, Arial, sans-serif}
.poll button{
  margin-top:6px; padding:8px 12px; font-weight:700; border:2px solid var(--border);
  background:linear-gradient(#6c006c,#420042); color:#fff; box-shadow:0 0 0 3px #000 inset; border-radius:3px; cursor:pointer;
}
.poll-results{margin-top:8px; font:12px Verdana, Tahoma, Arial, sans-serif}
.bar{height:12px; background:#ff79e9; border:1px solid #ff9ef6; box-shadow:0 0 0 2px #000 inset;}

/* ======= Sidebar micro-widgets ======= */
.affiliates a, .blogroll a{display:inline-block; margin:3px 6px 3px 0}
.sotw{display:flex; gap:10px; align-items:center}
.sotw .thumb{width:64px; height:64px; background:#ffd1fa; border:2px solid var(--border); box-shadow:0 0 0 2px #000 inset}
.webcam{
  width:100%; height:140px; background:linear-gradient(180deg,#2a0033,#1e0024); border:2px solid var(--border); box-shadow:0 0 0 2px #000 inset;
  display:flex; align-items:center; justify-content:center; font:12px Verdana,Tahoma,Arial,sans-serif; color:#ffbdfb;
}
</style>
</head>
<body>
<div class="wrapper">

  <!-- HEADER -->
  <header class="site-header">
    <div class="logo-wrap">
      <div class="logo" id="siteLogo">BJ CASE</div>
    </div>

    <nav class="nav" aria-label="Main">
      <a href="#home">Home</a>
      <a href="#music">Music</a>
      <a href="#visuals">Visuals</a>
      <a href="#journal">Journal</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>

    <!-- Marquee: unchanged -->
    <div class="ticker"><span>✧ Welcome to the official BJ Case webzone • New music coming soon • Clicking things since 2003 ✧</span></div>
  </header>

  <!-- BLINKIES BAR (2000s) -->
  <section class="panel" aria-label="Blinkies">
    <div class="blinkies">
      <span>BEST VIEWED IN 1024×768</span>
      <span>ADD TO FAVES</span>
      <span>NO RIGHT-CLICK :P</span>
      <span>HAND-CODED HTML</span>
      <span>GLITTER ZONE</span>
    </div>
  </section>

  <!-- CONTENT (hash-routed) -->
  <main class="grid" id="pageRoot">

    <!-- LEFT / HOME CONTENT -->
    <section class="panel" id="leftPane">
      <h2 id="leftTitle">Feature</h2>
      <div id="leftContent">
        <p><strong>BJ CASE</strong> — moody, textured, late-2000s-coded pop. This site is my digital dressing room: handmade, glittery, and unapologetically extra. :)</p>
        <p><em>Latest drop:</em> <strong>“Performance”</strong> (demo). Cinematic, glossy, and a little dangerous.</p>

        <hr class="glitter-hr" />

        <!-- INTERACTIVE: Peel-a-Sticker -->
        <h2>Peel-a-Sticker (secret links)</h2>
        <div class="stickers">
          <div class="sticker" data-url="#music">
            <div>STICKER #1</div>
            <div class="peel"></div>
            <a class="secret" href="#music">Go to MUSIC →</a>
          </div>
          <div class="sticker" data-url="#journal">
            <div>STICKER #2</div>
            <div class="peel"></div>
            <a class="secret" href="#journal">Open JOURNAL →</a>
          </div>
          <div class="sticker" data-url="#visuals">
            <div>STICKER #3</div>
            <div class="peel"></div>
            <a class="secret" href="#visuals">See VISUALS →</a>
          </div>
        </div>

        <hr class="glitter-hr" />

        <!-- INTERACTIVE: Tiny Poll -->
        <h2>Poll: First single?</h2>
        <div class="poll">
          <label><input type="radio" name="poll" value="performance"> “Performance”</label>
          <label><input type="radio" name="poll" value="flip"> “Flip Phone”</label>
          <label><input type="radio" name="poll" value="look"> “Look But Don’t Touch”</label>
          <button id="voteBtn">Vote</button>
          <div class="poll-results" id="pollResults" style="display:none;">
            <div>Performance: <span id="pPerf">0%</span></div>
            <div class="bar" id="bPerf" style="width:0%"></div>
            <div style="height:6px"></div>
            <div>Flip Phone: <span id="pFlip">0%</span></div>
            <div class="bar" id="bFlip" style="width:0%"></div>
            <div style="height:6px"></div>
            <div>Look BDT: <span id="pLook">0%</span></div>
            <div class="bar" id="bLook" style="width:0%"></div>
          </div>
        </div>

        <hr />
        <h2>Status</h2>
        <p><strong>Currently:</strong> polishing “Flip Phone” synth stack<br>
        <strong>Listening:</strong> Britney — “Phonography”<br>
        <strong>Mood:</strong> planning + caffeinated</p>

        <hr />
        <h2>Now Playing</h2>
        <div class="winamp" role="group" aria-label="Now Playing">
          <div id="nowPlayingTrack">01. BJ CASE — Performance (demo)</div>
          <div class="row">
            <div class="btn" title="Prev">⏮</div>
            <div class="btn" title="Play">▶</div>
            <div class="btn" title="Pause">⏸</div>
            <div class="btn" title="Next">⏭</div>
            <div class="scrubber" title="Scrub (decorative)"></div>
            <div id="nowPlayingTime">02:47</div>
          </div>
        </div>
      </div>
    </section>

    <!-- RIGHT / SIDEBAR -->
    <aside class="panel" id="rightPane">
      <h2>Site Updates</h2>
      <ul style="margin:0 0 10px 18px; padding:0;" id="updatesList">
        <li><strong>Nov 1, 2025:</strong> Pink glitter background restored</li>
        <li><strong>Oct 31, 2025:</strong> Mobile layout fixed</li>
        <li><strong>Oct 29, 2025:</strong> “Performance” mix tweaks</li>
      </ul>

      <hr />
      <h2>Affiliates</h2>
      <p class="affiliates">
        <a href="#">~ the pop lab ~</a>
        <a href="#">velvet-synth.net</a>
        <a href="#">gloss-room</a>
      </p>

      <h2>Blogroll</h2>
      <p class="blogroll">
        <a href="#">retro diary</a>
        <a href="#">studio notes</a>
        <a href="#">web glitter</a>
      </p>

      <hr />
      <h2>Site of the Week</h2>
      <div class="sotw">
        <div class="thumb"></div>
        <div><strong>GLITTER ARCHIVE</strong><br><small>sparkle gifs, button walls</small></div>
      </div>

      <hr />
      <h2>Webcam</h2>
      <div class="webcam">[ faux webcam — coming soon ]</div>

      <hr />
      <h2>Buttons / 88×31</h2>
      <div class="badges" aria-label="88x31 Badge Wall">
        <a href="#" title="Best viewed in Netscape">Netscape</a>
        <a href="#" title="Under Construction">U-Build</a>
        <a href="#" title="CSS Wizardry">CSS</a>
        <a href="#" title="HTML 4.01">HTML</a>
        <a href="#" title="Guestbook">GBook</a>
        <a href="#" title="Webring">Ring</a>
      </div>
    </aside>

  </main>

  <!-- FOOTER -->
  <footer>
    <div>© <span id="y">2025</span> BJ CASE. All rights reserved. <a href="mailto:hello@bjcase.com">Email</a> • <a href="#journal">Guestbook</a></div>
    <small class="counter">000174</small>
  </footer>
</div>

<script>
/* Year */
document.getElementById('y').textContent = new Date().getFullYear();

/* Simple hash router (so nav never 404s) */
const pages = {
  home: {
    leftTitle: "Feature",
    leftHTML: `
      <p><strong>BJ CASE</strong> — moody, textured, late-2000s-coded pop. This site is my digital dressing room: handmade, glittery, and unapologetically extra.</p>
      <p><em>Latest drop:</em> <strong>“Performance”</strong> (demo). Cinematic, glossy, and a little dangerous.</p>

      <hr class="glitter-hr" />

      <h2>Peel-a-Sticker (secret links)</h2>
      <div class="stickers">
        <div class="sticker" data-url="#music">
          <div>STICKER #1</div>
          <div class="peel"></div>
          <a class="secret" href="#music">Go to MUSIC →</a>
        </div>
        <div class="sticker" data-url="#journal">
          <div>STICKER #2</div>
          <div class="peel"></div>
          <a class="secret" href="#journal">Open JOURNAL →</a>
        </div>
        <div class="sticker" data-url="#visuals">
          <div>STICKER #3</div>
          <div class="peel"></div>
          <a class="secret" href="#visuals">See VISUALS →</a>
        </div>
      </div>

      <hr class="glitter-hr" />

      <h2>Poll: First single?</h2>
      <div class="poll">
        <label><input type="radio" name="poll" value="performance"> “Performance”</label>
        <label><input type="radio" name="poll" value="flip"> “Flip Phone”</label>
        <label><input type="radio" name="poll" value="look"> “Look But Don’t Touch”</label>
        <button id="voteBtn">Vote</button>
        <div class="poll-results" id="pollResults" style="display:none;">
          <div>Performance: <span id="pPerf">0%</span></div>
          <div class="bar" id="bPerf" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Flip Phone: <span id="pFlip">0%</span></div>
          <div class="bar" id="bFlip" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Look BDT: <span id="pLook">0%</span></div>
          <div class="bar" id="bLook" style="width:0%"></div>
        </div>
      </div>

      <hr />
      <h2>Status</h2>
      <p><strong>Currently:</strong> polishing “Flip Phone” synth stack<br>
      <strong>Listening:</strong> Britney — “Phonography”<br>
      <strong>Mood:</strong> planning + caffeinated</p>

      <hr />
      <h2>Now Playing</h2>
      <div class="winamp" role="group" aria-label="Now Playing">
        <div>01. BJ CASE — Performance (demo)</div>
        <div class="row">
          <div class="btn" title="Prev">⏮</div>
          <div class="btn" title="Play">▶</div>
          <div class="btn" title="Pause">⏸</div>
          <div class="btn" title="Next">⏭</div>
          <div class="scrubber" title="Scrub (decorative)"></div>
          <div>02:47</div>
        </div>
      </div>
    `,
    updates: `
      <li><strong>Nov 1, 2025:</strong> Pink glitter background restored</li>
      <li><strong>Oct 31, 2025:</strong> Mobile layout fixed</li>
      <li><strong>Oct 29, 2025:</strong> “Performance” mix tweaks</li>
    `
  },
  music: {
    leftTitle: "Music",
    leftHTML: `
      <p>Singles, demos, and deep cuts. Expect glossy synths, rubbery bass, and late-2000s tension.</p>
      <ul>
        <li><strong>Performance</strong> — demo snippet, cinematic pop noir</li>
        <li><strong>Flip Phone</strong> — bratty, digital, groovy</li>
        <li><strong>Look But Don’t Touch</strong> — raunchy, glossy attitude</li>
      </ul>
      <hr />
      <h2>Status</h2>
      <p><strong>Mixing:</strong> lifting mid-bass warmth; tightening clap stacks.<br>
      <strong>Next:</strong> vocal doubles + delay throws.</p>
      <hr />
      <h2>Player</h2>
      <div class="winamp"><div>02. BJ CASE — Flip Phone (work in progress)</div>
        <div class="row">
          <div class="btn">⏮</div><div class="btn">▶</div><div class="btn">⏸</div><div class="btn">⏭</div>
          <div class="scrubber"></div><div>03:11</div>
        </div>
      </div>
    `,
    updates: `
      <li><strong>Nov 1:</strong> Flip Phone synth stack layered</li>
      <li><strong>Oct 30:</strong> Performance tempo locked @ 106</li>
    `
  },
  visuals: {
    leftTitle: "Visuals",
    leftHTML: `
      <p>Old-Hollywood theatre meets digital glitch. Lip-gloss chrome, velvet curtains, and neon edges.</p>
      <ul>
        <li>“Performance” cover — red-curtain single art</li>
        <li>“Flip Phone” — voicemail intro screens</li>
        <li>Sticker sheet — glitter hearts & secret links</li>
      </ul>
      <hr /><p>Gallery coming soon — stickers will hide Easter-egg links.</p>
    `,
    updates: `<li><strong>Oct 31:</strong> Visual moodboard expanded</li>`
  },
  journal: {
    leftTitle: "Journal",
    leftHTML: `
      <p>Welcome to the web diary. Raw notes, studio days, and sparkly chaos.</p>
      <article>
        <h3>Nov 1, 2025 — New skin, who dis?</h3>
        <p>Pink glitter returns. Logo looks like shiny candy. I’m obsessed.</p>
      </article>
    `,
    updates: `<li><strong>Nov 1:</strong> Journal launched</li>`
  },
  about: {
    leftTitle: "About",
    leftHTML: `
      <p>I’m BJ CASE — a loud, glossy heart with a moody core. Music that feels like midnight chrome.</p>
      <p>Influences: Britney *Blackout/Circus*, Bloodshy & Avant, Danja, 2007–2009 pop futurism.</p>
    `,
    updates: `<li><strong>Oct 29:</strong> Bio stub posted</li>`
  },
  contact: {
    leftTitle: "Contact",
    leftHTML: `
      <p>Say hi — bookings, collabs, or just glitter talk.</p>
      <p><strong>Email:</strong> <a href="mailto:hello@bjcase.com">hello@bjcase.com</a></p>
      <p><strong>Guestbook:</strong> hop into the Journal and drop a note.</p>
    `,
    updates: `<li><strong>Oct 31:</strong> Contact live</li>`
  }
};

function render(route){
  const key = route && pages[route] ? route : "home";
  document.getElementById("leftTitle").textContent = pages[key].leftTitle;
  document.getElementById("leftContent").innerHTML = pages[key].leftHTML;
  document.getElementById("updatesList").innerHTML = pages[key].updates || pages.home.updates;
}
function onHash(){ render(location.hash.replace("#","").toLowerCase()); }
window.addEventListener("hashchange", onHash);
onHash();
document.getElementById("siteLogo").addEventListener("click", ()=>{location.hash="#home";});

/* Interactive: Peel-a-Sticker */
document.querySelectorAll('.sticker').forEach(stk=>{
  stk.addEventListener('click', ()=>{
    stk.classList.toggle('revealed');
  });
});

/* Interactive: Tiny Poll (client-side memory) */
const key="bj_poll_v1";
const pollEls = {
  btn: document.getElementById('voteBtn'),
  results: document.getElementById('pollResults'),
  pPerf: document.getElementById('pPerf'),
  pFlip: document.getElementById('pFlip'),
  pLook: document.getElementById('pLook'),
  bPerf: document.getElementById('bPerf'),
  bFlip: document.getElementById('bFlip'),
  bLook: document.getElementById('bLook')
};
function drawPoll(data){
  const total = (data.performance||0)+(data.flip||0)+(data.look||0) || 1;
  const per = v => Math.round((v||0)/total*100);
  pollEls.pPerf.textContent = per(data.performance) + "%";
  pollEls.pFlip.textContent = per(data.flip) + "%";
  pollEls.pLook.textContent = per(data.look) + "%";
  pollEls.bPerf.style.width = per(data.performance) + "%";
  pollEls.bFlip.style.width = per(data.flip) + "%";
  pollEls.bLook.style.width = per(data.look) + "%";
  pollEls.results.style.display = 'block';
}
function readPoll(){
  try{ return JSON.parse(localStorage.getItem(key)) || {performance:0, flip:0, look:0}; }
  catch(e){ return {performance:0, flip:0, look:0}; }
}
function savePoll(d){ localStorage.setItem(key, JSON.stringify(d)); }
if(pollEls.btn){
  pollEls.btn.addEventListener('click', ()=>{
    const chosen = document.querySelector('input[name="poll"]:checked');
    if(!chosen) return;
    const data = readPoll();
    if(localStorage.getItem(key+"_voted")){ drawPoll(data); return; }
    if(chosen.value==="performance") data.performance++;
    if(chosen.value==="flip") data.flip++;
    if(chosen.value==="look") data.look++;
    savePoll(data);
    localStorage.setItem(key+"_voted","1");
    drawPoll(data);
  });
  // auto-show if already voted
  if(localStorage.getItem(key+"_voted")) drawPoll(readPoll());
}
</script>
</body>
</html>