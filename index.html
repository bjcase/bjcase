<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>bj case ‚Äî home</title>

<!-- Favicons (always included, cache-busted) -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=2.0.0">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=2.0.0">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=2.0.0">
<link rel="manifest" href="/site.webmanifest?v=2.0.0">
<link rel="shortcut icon" href="/favicon.ico?v=2.0.0">
<meta name="theme-color" content="#ff9ef6">

<!-- Cache hints -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Atma:wght@400&display=swap" rel="stylesheet" />

<style>
/* ===========================================================
   üåà  BJ CASE 2003 WEBZONE ‚Äî SINGLE FILE INDEX (v2.0.0)
   - Desktop: full header notes; Mobile: trimmed notes
   - Journal: diary cover animation + owner pass box (local-only)
   - Arcade: menu + Pong (to 11) + Lip Gloss Flight + Brick Breaker
   - Mobile polish: balanced columns, non-colliding header notes,
     non-crushed webcam, canvas games with touch controls
   =========================================================== */

/* ---------- PALETTE ---------- */
:root{
  --pink:#ff9ef6;
  --neon-blue:#49c9ff;
  --orange:#ffb35e;
  --red:#ff4d4d;
  --ink:#ffeaff;
  --link:#ffbffb;
  --bright-red:#ff3b3b;
  --deep:#1a001e;
  --panelTop:#3d0055;
  --panelMid:#21002a;
  --panelBot:#1a001a;
}

/* ---------- BASE ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:Arial,Helvetica,sans-serif;
  background:#000 url('https://sadhost.neocities.org/images/tiles/pinkstars.gif') repeat fixed; /* DO NOT TOUCH */
  cursor:url('https://cur.cursors-4u.net/cursors/cur-2/cur116.cur'), auto;
}
.wrapper{max-width:860px;margin:0 auto;padding:16px}
a{color:var(--link)} a:hover{color:#fff; text-decoration:underline}

/* ---------- HEADER ---------- */
.site-header{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#520061 0%,#36003e 60%,#240024 100%);
  box-shadow:0 0 0 2px #000 inset,0 12px 26px #000c;
  margin:16px 0 18px; padding:10px 18px 10px;
  position:relative; overflow:hidden;
}
.logo-wrap{
  position:relative; display:flex; align-items:center; justify-content:center;
  gap:1.3em; width:100%; margin:0 auto 6px; z-index:3;
}
.heart{
  display:inline-block; text-decoration:none; line-height:1;
  color:var(--pink);
  font-size:clamp(26px,4.6vw,44px);
  transform:scaleX(1.3);
  text-shadow:0 0 6px var(--pink), 0 0 10px var(--neon-blue), 0 0 14px rgba(255,255,255,.35);
  filter:drop-shadow(0 0 2px #fff6);
  transition: transform .12s ease, text-shadow .2s ease;
  z-index:4;
}
.heart:hover{ transform:scaleX(1.3) scale(1.08); text-shadow:0 0 8px var(--neon-blue), 0 0 14px var(--pink) }
.logo{
  position:relative; z-index:3;
  font-family:"Orbitron","Arial Black",sans-serif;
  font-size:clamp(32px,7vw,86px);
  text-transform:lowercase;
  text-align:center;
  background-image:
    linear-gradient(120deg, transparent 45%, rgba(255,255,255,.98) 50%, transparent 55%),
    linear-gradient(90deg, var(--neon-blue), var(--orange), var(--red), var(--pink), var(--neon-blue));
  background-size: 220% 100%, 400% 400%;
  background-position: -180% 0, 0 50%;
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent;
  animation: logoShine 3.05s linear infinite;
  text-shadow:0 0 6px var(--neon-blue),0 0 10px var(--pink);
  margin:0; width:max-content;
}
@keyframes logoShine{0%{background-position:-180% 0,0 50%}100%{background-position:180% 0,0 50%}}

/* Notes: full on desktop, minimal on mobile */
.note{
  position:absolute; user-select:none; pointer-events:none; z-index:1;
  color:#ffd1fa; text-shadow:0 0 6px var(--pink), 0 0 10px #fff8;
  opacity:.96; animation: floatY var(--dur,4.6s) ease-in-out infinite;
}
@keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(var(--amp,7px))}}

/* ---------- NAV ---------- */
.nav{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:10px 0 8px}
.nav a{
  --glow: rgba(73,201,255,.65);
  text-decoration:none; color:#fff; font-weight:700; letter-spacing:.02em;
  padding:10px 16px; border-radius:6px; position:relative; overflow:hidden;
  border:2px solid var(--pink);
  background:
    linear-gradient(180deg, #4a005f 0%, #2a003d 55%, #1a0026 100%),
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.25), transparent 60%);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.25),
    inset 0 -6px 12px rgba(0,0,0,.45),
    0 0 0 2px #000 inset;
  transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
.nav a::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(120deg, transparent 45%, rgba(255,255,255,.5) 50%, transparent 55%);
  transform:translateX(-130%); transition:transform .5s ease;
}
.nav a:hover{
  border-color:var(--neon-blue); color:var(--neon-blue);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    inset 0 -6px 14px rgba(0,0,0,.5),
    0 0 12px var(--glow);
  transform:translateY(-1px);
}
.nav a:hover::after{ transform:translateX(130%) }

/* ---------- TICKER ---------- */
.ticker{
  overflow:hidden; white-space:nowrap; border:2px solid var(--pink);
  background:linear-gradient(180deg,#330033,#240024);
  font:800 13px/2.1 Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; text-transform:uppercase; letter-spacing:.08em;
}
.ticker span{display:inline-block; padding-left:100%; animation:slide 18s linear infinite}
@keyframes slide{to{transform:translateX(-100%)}}

/* ---------- GRID ---------- */
.grid{display:grid; gap:14px; grid-template-columns:2fr 1fr; align-items:start;}
.grid.single{ grid-template-columns:1fr; }
#leftPane{ min-height: 640px; }
.grid.single #leftPane{ min-height: 780px; }

/* ---------- PANELS ---------- */
.panel{
  border:2px solid var(--pink);
  background:linear-gradient(180deg,var(--panelTop) 0%,var(--panelMid) 60%,var(--panelBot) 100%);
  box-shadow:0 0 0 2px #000 inset, 0 12px 22px #0007;
  padding:16px; border-radius:3px; position:relative; overflow:hidden;
}
.panel h2{
  margin:0 0 12px;
  font-family:"Atma", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight:400; font-size:20px; line-height:1.2;
  text-transform:uppercase; letter-spacing:.08em; color:var(--neon-blue);
}
.panel + .panel{ margin-top:14px }
hr{border:none; height:1px; background:linear-gradient(90deg,transparent,var(--neon-blue),transparent); margin:12px 0}

/* ---------- STATUS BOX ---------- */
.status-box{
  position:relative; padding:12px; border-radius:8px;
  background:linear-gradient(180deg,#2b0037 0%, #17001e 100%);
  border:2px solid var(--neon-blue);
  box-shadow:0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.18);
}
.pink{color:var(--pink); font-weight:700}

/* ---------- WINAMP ---------- */
.winamp{
  border:1px solid #ff7ef6; background:#1b001d;
  box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset;
  padding:10px; border-radius:4px; color:#ffe5ff;
  font:12px "Tahoma",Verdana,Arial,sans-serif;
}
.winamp .display{
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  background:#120016; padding:6px 8px; margin-bottom:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.winamp .row{display:flex; align-items:center; gap:8px; margin-top:6px}
.btn{
  display:inline-block; width:22px; height:22px; border:1px solid #ff7ef6; background:#350036;
  box-shadow:0 0 0 2px #000 inset; text-align:center; line-height:20px; font-weight:800; user-select:none; position:relative; overflow:hidden; cursor:pointer;
}
.btn::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent, rgba(255,255,255,.35), transparent); transform:translateX(-120%); opacity:0}
.btn:hover::after{ animation: shine .9s ease; opacity:1 }
@keyframes shine{ from{ left:-70px } to{ left:120% } }
.scrubber{
  flex:1; height:8px; border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  background: linear-gradient(90deg,#ff9ef6 0%, #49c9ff 45%, #ffb35e 85%);
  margin-left:8px; border-radius:2px;
}

/* ---------- BADGES ---------- */
.badges{display:flex; flex-wrap:wrap; gap:6px}
.badges a{display:inline-block; padding:6px 10px; border:1px solid var(--pink); box-shadow:0 0 0 2px #000 inset; background:#300033; color:#ffbdfb; font:800 10px/1 Verdana; text-align:center; text-decoration:none}

/* ---------- POLL ---------- */
.pollbox{
  position:relative; border:2px solid var(--pink);
  background:linear-gradient(180deg,#2a0034 0%,#1a0024 100%);
  box-shadow:0 0 0 2px #000 inset, 0 10px 18px #0007;
  padding:12px; border-radius:8px; overflow:hidden;
}
.pollbox::after{
  /* sparkly sweeping border */
  content:""; position:absolute; inset:-2px; border-radius:10px; pointer-events:none;
  background:
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 120px 2px no-repeat,
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 100% / 120px 2px no-repeat,
    linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 0 0 / 2px 120px no-repeat,
    linear-gradient(0deg,  transparent 0%, rgba(255,255,255,.6) 10%, transparent 20%) 100% 0 / 2px 120px no-repeat;
  animation: borderSweep 4s linear infinite; mix-blend-mode:screen; opacity:.7;
}
@keyframes borderSweep{
  0%   { background-position: 0 0, 0 100%, 0 0, 100% 0; }
  100% { background-position: 100% 0, 100% 100%, 0 100%, 100% 100%; }
}
.pollbox p.desc{ margin:0 0 10px; font:12px Verdana,Tahoma,Arial,sans-serif; color:#ffdfff; opacity:.95; }
.poll label{display:block; margin:6px 0; font:12px Verdana,Tahoma,Arial,sans-serif}
.voteBtn{
  margin-top:10px; padding:9px 14px; font-weight:800; letter-spacing:.02em;
  border:2px solid var(--pink); border-radius:6px; cursor:pointer; color:#fff;
  background:
     linear-gradient(180deg,#6c006c 0%, #420042 100%),
     radial-gradient(80% 60% at 50% 0%, rgba(255,255,255,.28), transparent 60%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.25), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 14px rgba(73,201,255,.35);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.voteBtn:hover{ transform:translateY(-1px); border-color:var(--neon-blue); box-shadow:inset 0 1px 0 rgba(255,255,255,.35), inset 0 -6px 12px rgba(0,0,0,.45), 0 0 0 2px #000 inset, 0 0 18px rgba(73,201,255,.55) }
.poll-results{ margin-top:10px; font:12px Verdana,Tahoma,Arial,sans-serif }
.bar{height:12px;background:#ff79e9;border:1px solid var(--pink);box-shadow:0 0 0 2px #000 inset}

/* ---------- FAKE WEBCAM ---------- */
.webcam{
  border:2px solid #ff7ef6; background:#0d0010;
  box-shadow:0 0 0 2px #000 inset, 0 0 0 3px #2a0030 inset;
  padding:10px; border-radius:4px; position:relative; margin-top:12px;
}
.webcam .bar{
  display:flex; justify-content:space-between; align-items:center;
  background:none;
  font:10px Tahoma,Verdana,Arial,sans-serif; color:var(--bright-red); opacity:1; margin-bottom:8px;
}
.webcam .rec{ display:inline-flex; gap:6px; align-items:center; letter-spacing:.08em; text-transform:uppercase; color:var(--bright-red) }
.webcam .dot{ width:8px; height:8px; background:var(--bright-red); border-radius:50%; box-shadow:0 0 6px var(--bright-red); animation:blink 1s steps(2,end) infinite; }
@keyframes blink{50%{opacity:.2}}
.webcam .ts{ color:var(--bright-red) }
.webcam .screen{
  width:100%; aspect-ratio:4/3; background:#120016;
  border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
  overflow:hidden; position:relative;
}
.webcam .screen img{ width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.05) saturate(1.1) brightness(.95); }

/* ---------- SHOUTBOX ---------- */
.shoutbox{ margin-top:14px }
.chat{
  display:flex; flex-direction:column; gap:8px;
  max-height: 460px; min-height: 260px;
  overflow:auto;
  background:var(--deep); border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset; padding:10px; border-radius:4px;
}
.bubble{
  max-width:92%; padding:8px 10px; border-radius:10px; font:12px Verdana,Tahoma,Arial,sans-serif; line-height:1.3;
  background:linear-gradient(180deg,#420046,#2a0030); border:1px solid #ff7ef6; box-shadow:0 0 0 2px #000 inset;
}
.bubble.me{ align-self:flex-end; background:linear-gradient(180deg,#004a66,#002436); border-color:#49c9ff }
.meta{ font-size:10px; opacity:.7; margin-top:3px }
.inputRow{ display:flex; gap:6px; margin-top:10px }
.inputRow input,.inputRow textarea{
  flex:1; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:8px; font:12px Verdana,Tahoma,Arial,sans-serif;
  box-shadow:0 0 0 2px #000 inset;
}
.inputRow button{
  background:linear-gradient(180deg,#6c006c,#420042); color:#fff; border:2px solid var(--pink); border-radius:4px; padding:8px 12px; font-weight:700; cursor:pointer;
  box-shadow:0 0 0 3px #000 inset;
}
.emotes{ display:flex; flex-wrap:wrap; gap:6px; margin-top:8px }
.emotes button{
  font:12px Verdana,Tahoma,Arial,sans-serif; padding:4px 8px; border:1px solid var(--pink); background:#300033; color:#ffdfff; border-radius:3px; cursor:pointer;
}

/* ---------- FOOTER ---------- */
footer{margin:18px 0 32px; text-align:center; color:#ffdfff; font:12px Verdana,Tahoma,Arial,sans-serif}

/* ---------- CURSOR GLITTER ---------- */
.cursor-star{
  position:absolute; width:7px; height:7px; pointer-events:none;
  background:radial-gradient(circle,#fff 0%,transparent 70%);
  opacity:.95; filter:drop-shadow(0 0 4px currentColor);
  animation:starFade .5s linear forwards;
}
@keyframes starFade{from{transform:scale(1);opacity:.95}to{transform:scale(0);opacity:0}}

/* ===========================================================
   JOURNAL ‚Äî diary cover + blog layout
   =========================================================== */
.journal-shell{
  position:relative; overflow:hidden;
  /* per-section background */
  background:
    radial-gradient(120% 60% at 20% 0%, rgba(255,158,246,.08), transparent 60%),
    radial-gradient(120% 60% at 80% 100%, rgba(73,201,255,.08), transparent 60%);
  border-radius:6px;
}
.j-cover{
  position:absolute; inset:0; background:
    linear-gradient(180deg,#5b006e 0%, #3b0046 60%, #25002c 100%);
  border-right:3px solid rgba(255,255,255,.2);
  box-shadow:inset 0 0 0 4px #000, 0 10px 24px #0008;
  z-index:3; transform-origin:left center; animation:openDiary 950ms ease forwards;
}
.j-latch{
  position:absolute; right:-18px; top:40%; transform:translateY(-50%);
  width:42px; height:90px; border-radius:6px;
  background:linear-gradient(180deg,#ffbdfb,#ff6fe7);
  box-shadow:0 2px 6px #0006, inset 0 0 0 2px #000;
}
.j-heart{ position:absolute; left:-14px; top:50%; transform:translateY(-50%) rotate(-8deg); font-size:28px; color:#ff3b9d; text-shadow:0 0 8px #fff6; }
@keyframes openDiary{ 0%{transform:translateX(0) rotateY(0deg)} 100%{transform:translateX(-101%) rotateY(35deg)} }

.journal-grid{ display:grid; grid-template-columns:3fr 1fr; gap:14px; }
.j-blog{ min-height:420px; }
.j-owner{
  border:2px dashed var(--pink); border-radius:6px; padding:10px;
  background:linear-gradient(180deg,#2b0037,#17001e);
  opacity:.95;
}
.j-owner h3{ margin:0 0 8px; font-family:Atma; font-weight:400; color:var(--pink); font-size:18px; }
.j-owner small{ opacity:.75 }

/* Entries list style (empty by default) */
.j-entry{
  border:1px solid var(--pink);
  background:linear-gradient(180deg,#2a0034,#1a0024);
  box-shadow:0 0 0 2px #000 inset, 0 10px 18px #0007;
  padding:12px; border-radius:6px; margin-bottom:10px;
}

/* ===========================================================
   ARCADE ‚Äî landing + games
   =========================================================== */
.arcade-landing{
  display:grid; gap:12px;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
}
.arc-card{
  border:2px solid var(--neon-blue); border-radius:6px; overflow:hidden; cursor:pointer;
  background:
    radial-gradient(150% 100% at 20% 0%, rgba(73,201,255,.08), transparent 60%),
    linear-gradient(180deg,#120016,#0c0011);
  box-shadow:0 0 0 2px #000 inset, 0 10px 18px #0007;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.arc-card:hover{ transform:translateY(-2px); box-shadow:0 14px 26px #0009; border-color:var(--pink) }
.arc-card h3{ margin:0; padding:10px; font-family:Atma; color:var(--neon-blue); font-weight:400 }
.arc-card p{ margin:0; padding:0 10px 12px; font:12px Verdana; opacity:.9 }

/* Game wrappers */
.game-wrap{ position:relative; }
.game-canvas{
  display:block; width:100%; max-width:100%;
  border:2px solid var(--pink);
  background:linear-gradient(180deg,#140018,#0b0010);
}
.game-bar{
  display:flex; gap:8px; align-items:center; margin:8px 0;
  flex-wrap:wrap;
}
.gbtn{
  padding:6px 10px; border:2px solid var(--pink); border-radius:4px; cursor:pointer; color:#fff;
  background:linear-gradient(180deg,#6c006c,#420042);
  box-shadow:0 0 0 3px #000 inset; font-weight:700; font-size:12px;
}
.ghud{ font:12px Verdana; opacity:.9 }

/* Mobile touch pads overlay (on small screens) */
.touch-pads{ display:none; }
@media(max-width:720px){
  .touch-pads{
    position:absolute; inset:0; display:flex; justify-content:space-between; align-items:stretch; gap:8px; padding:6px; pointer-events:none;
  }
  .tpad{
    flex:1; display:flex; flex-direction:column; justify-content:space-between;
    pointer-events:auto;
  }
  .tbtn{
    height:48%; border:2px solid var(--neon-blue); background:#0006; color:#fff; border-radius:6px; font-weight:800;
    display:flex; align-items:center; justify-content:center; user-select:none;
  }
}

/* ===========================================================
   RESPONSIVE POLISH
   =========================================================== */
@media(max-width:900px){
  .wrapper{padding:12px}
}
@media(max-width:800px){
  /* Keep layout readable, stack cleanly, avoid skinny sidebar */
  .grid{ grid-template-columns:1fr; }
  #leftPane, #rightPane{ min-height:unset }
  .panel{ padding:14px }
  .webcam .screen{ aspect-ratio:4/3 } /* prevent crush */

  /* Header: trim notes on mobile to avoid collisions */
  .note.mobile-hide{ display:none!important; }

  /* Make nav buttons larger tap targets */
  .nav a{ padding:10px 14px; font-size:14px }

  /* Journal grid collapses but keeps owner box visible */
  .journal-grid{ grid-template-columns:1fr; }
}

/* Desktop-only: show all decorative notes */
@media(min-width:801px){
  .note{ display:block }
}

/* Slightly reduce header vertical space on all */
@media(max-width:520px){
  .logo{font-size:clamp(28px,9vw,72px)}
}
</style>
</head>
<body>
<div class="wrapper">

  <!-- ========== HEADER ========== -->
  <header class="site-header" id="header">
    <!-- LEFT cluster (extra notes get mobile-hide to trim on phones) -->
    <span class="note" style="left:10px; top:4px;  font-size:16px; --dur:4.8s; --amp:8px;">‚ô™</span>
    <span class="note" style="left:34px; top:22px; font-size:21px; --dur:4.2s; --amp:6px;">‚ô´</span>
    <span class="note mobile-hide" style="left:18px; top:46px; font-size:14px; --dur:5.1s; --amp:7px;">‚ô™</span>
    <span class="note mobile-hide" style="left:64px; top:70px; font-size:18px; --dur:4.5s; --amp:6px;">‚ô´</span>
    <span class="note mobile-hide" style="left:22px; top:94px; font-size:16px; --dur:4.9s; --amp:6px;">‚ô™</span>
    <span class="note mobile-hide" style="left:74px; top:114px;font-size:18px; --dur:4.4s; --amp:6px;">‚ô´</span>
    <span class="note mobile-hide" style="left:96px; top:10px;font-size:16px; --dur:4.7s; --amp:6px;">‚ô™</span>
    <span class="note mobile-hide" style="left:112px; top:36px;font-size:18px; --dur:4.6s; --amp:7px;">‚ô´</span>

    <!-- RIGHT cluster -->
    <span class="note" style="right:12px; top:6px;  font-size:20px; --dur:4.6s; --amp:8px;">‚ô´</span>
    <span class="note" style="right:42px; top:24px;  font-size:14px; --dur:4.0s; --amp:6px;">‚ô™</span>
    <span class="note mobile-hide" style="right:20px; top:48px;  font-size:23px; --dur:5.0s; --amp:7px;">‚ô´</span>
    <span class="note mobile-hide" style="right:76px; top:72px;  font-size:16px; --dur:4.3s; --amp:6px;">‚ô™</span>
    <span class="note mobile-hide" style="right:26px; top:96px;  font-size:16px; --dur:4.9s; --amp:6px;">‚ô™</span>
    <span class="note mobile-hide" style="right:80px; top:116px; font-size:18px; --dur:4.4s; --amp:6px;">‚ô´</span>
    <span class="note mobile-hide" style="right:104px; top:14px;font-size:16px; --dur:4.7s; --amp:6px;">‚ô™</span>
    <span class="note mobile-hide" style="right:124px; top:40px;font-size:18px; --dur:4.6s; --amp:7px;">‚ô´</span>

    <div class="logo-wrap">
      <a class="heart left"  href="#arcade" title="secret arcade">‚ô•</a>
      <div class="logo" id="logo">bj case</div>
      <a class="heart right" href="#journal" title="journal">‚ô•</a>
    </div>

    <nav class="nav" aria-label="Main">
      <a href="#home">Home</a>
      <a href="#music">Music</a>
      <a href="#visuals">Visuals</a>
      <a href="#journal">Journal</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="ticker"><span>‚úß Welcome to the official BJ Case webzone ‚Ä¢ New music coming soon ‚Ä¢ Chasing dreams since 2003 ‚úß</span></div>
  </header>

  <!-- ========== MAIN GRID ========== -->
  <main class="grid" id="pageRoot">
    <!-- LEFT -->
    <section class="panel" id="leftPane">
      <h2 id="leftTitle">Welcome</h2>
      <div id="leftContent">
        <p>Hi! My name is BJ. I hope you enjoy my page. This is my own little slice (or perhaps, strand?) of the web. This is my digital diary. My respite from the chaos. Feel free to look around, get lost even. Oh, and btw‚Ä¶ I make music! That‚Äôs on here if you wanna check it out!! Safe travels :p</p>

        <hr />
        <h2>Status</h2>
        <div class="status-box">
          <p style="white-space:pre-line; margin:0">
<span class="pink">Currently:</span> rewatching Charmed and working on music : )
<span class="pink">Now listening to:</span> Britney ‚Äî ‚ÄúPhonography‚Äù (on repeat)
<span class="pink">Mood:</span> excited and nervous :D
          </p>
        </div>

        <hr />
        <h2>Now Playing</h2>
        <div class="winamp" role="group" aria-label="Now Playing">
          <div class="display" id="nowPlayingTrack">01. bj case ‚Äî Performance (demo)</div>
          <div class="row">
            <div class="btn" title="Prev" aria-label="Previous">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M7 5v14H5V5h2zm2 7 10 7V5L9 12z"/></svg>
            </div>
            <div class="btn" title="Play" aria-label="Play">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M8 5v14l11-7z"/></svg>
            </div>
            <div class="btn" title="Pause" aria-label="Pause">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
            </div>
            <div class="btn" title="Next" aria-label="Next">
              <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M17 5v14h2V5h-2zM7 5l10 7-10 7V5z"/></svg>
            </div>
            <div class="scrubber" title="Scrub (decorative)"></div>
            <div id="nowPlayingTime">02:47</div>
          </div>
        </div>

        <hr />
        <h2>Featured Links</h2>
        <p>A little something I‚Äôve learned from my short time on Earth so far is the importance of placing an extreme emphasis on LOVE. ;)</p>

        <hr />
        <h2>Roadmap</h2>
        <pre style="margin:0; white-space:pre-wrap; font-family:inherit;">
‚Ä¢ Keep working on the blog
‚Ä¢ Clean my room
‚Ä¢ Keep building ‚ÄúFlip Phone‚Äù
        </pre>

        <div style="margin-top:12px; font:11px Verdana">
          <span style="padding:2px 6px;border:1px solid var(--pink);background:#300033;box-shadow:0 0 0 2px #000 inset">‚òÖ NEW ‚òÖ</span>
          &nbsp;Online now: <span id="onlineCount">7</span> users
        </div>
      </div>
    </section>

    <!-- RIGHT -->
    <aside class="panel" id="rightPane">
      <h2>Release Timeline</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
 ‚Ä¢Spring 2026: ??
 ‚Ä¢Summer 2026: ???
 ‚Ä¢ Autumn 2026: ???? 
      </pre>

      <hr />
      <h2>Studio Log</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
‚Ä¢ November 3rd: Build synth stack for ‚ÄúFlip Phone‚Äù and figure out drum pattern
‚Ä¢ October 3rd, 2025: Figure out what the bridge of ‚ÄúPerformance‚Äù should be like
      </pre>

      <hr />
      <h2>Poll</h2>
      <div class="pollbox" id="pollArea">
        <p class="desc">Pick the song that most interests you‚Ä¶</p>
        <div class="poll">
          <label><input type="radio" name="poll" value="performance"> ‚ÄúPerformance‚Äù</label>
          <label><input type="radio" name="poll" value="flip"> ‚ÄúFlip Phone‚Äù</label>
          <label><input type="radio" name="poll" value="look"> ‚ÄúLook But Don‚Äôt Touch‚Äù</label>
          <button id="voteBtn" class="voteBtn">Cast Vote</button>
        </div>
        <div class="poll-results" id="pollResults" style="display:none;">
          <div>Performance: <span id="pPerf">0%</span></div>
          <div class="bar" id="bPerf" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Flip Phone: <span id="pFlip">0%</span></div>
          <div class="bar" id="bFlip" style="width:0%; background:#49c9ff"></div>
          <div style="height:6px"></div>
          <div>Look BDT: <span id="pLook">0%</span></div>
          <div class="bar" id="bLook" style="width:0%; background:#ffb35e"></div>
        </div>
      </div>

      <hr />
      <h2>Quick Links</h2>
      <div class="badges" aria-label="Buttons" id="rightQuick">
        <a href="#journal">Journal</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#music">Music</a>
      </div>

      <!-- Webcam -->
      <div class="webcam">
        <div class="bar">
          <div class="rec"><span class="dot"></span> REC</div>
          <div class="ts" id="ts">00:00:00</div>
        </div>
        <div class="screen">
          <img id="webcamFeed" src="/assets/webcam.gif?v=2.0.0" alt="webcam feed placeholder">
        </div>
      </div>
    </aside>
  </main>

  <!-- SHOUTBOX -->
  <section class="panel shoutbox" aria-label="Shoutbox">
    <h2>Shoutbox</h2>
    <div style="display:flex; align-items:center; gap:10px; margin-bottom:8px;">
      <label style="font:12px Verdana"><input type="checkbox" id="privateToggle"> Private view (show my local posts)</label>
      <button id="clearLocal" style="margin-left:auto; background:#2a0030; color:#ffdfff; border:1px solid var(--pink); padding:6px 10px; border-radius:4px; cursor:pointer;">Clear my local posts</button>
    </div>
    <div class="chat" id="chat"></div>
    <div class="emotes" id="emotes">
      <button type="button">^_^</button><button type="button">>_<</button><button type="button">;_;</button><button type="button">:3</button><button type="button">x_x</button>
      <button type="button">(>‚Äø<)</button><button type="button">(Ôæâ‚óï‚Äø‚óï)Ôæâ*</button><button type="button">(„Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å•</button><button type="button">(~_^)</button><button type="button">‡≤†_‡≤†</button>
    </div>
    <div class="inputRow">
      <input id="nameInput" placeholder="name (optional)" />
      <textarea id="msgInput" rows="2" placeholder="type a message... (saved locally only)"></textarea>
      <button id="sendBtn">Save</button>
    </div>
    <p style="font:11px Verdana; opacity:.75; margin-top:8px;">Posts you add are saved to <em>your device only</em> and are hidden by default. Toggle ‚ÄúPrivate view‚Äù to see them.</p>
  </section>

  <footer>¬© <span id="y">2025</span> bj case ‚Äî handmade glitter webzone</footer>
</div>

<script>
/* ===== VERSION ===== */
const SITE_VERSION = '2.0.0';
(() => {
  try{
    const u = new URL(location.href);
    if(u.searchParams.get('v') !== SITE_VERSION){
      u.searchParams.set('v', SITE_VERSION);
      history.replaceState(null, '', u.toString());
    }
  }catch(e){}
})();

/* ===== YEAR ===== */
document.getElementById('y').textContent = new Date().getFullYear();

/* ===== Fake online counter ===== */
(() => {
  const el = document.getElementById('onlineCount'); if(!el) return;
  let base = 7 + Math.floor(Math.random()*3);
  function bump(){ base += (Math.random()>.6?1:-1); if(base<3) base=3; if(base>18) base=18; el.textContent = base; }
  setInterval(bump, 3500);
})();

/* ===== ROUTER PAGES ===== */
const pages = {
  home: {
    leftTitle: "Welcome",
    leftHTML: `
      <p>Hi! My name is BJ. I hope you enjoy my page. This is my own little slice (or perhaps, strand?) of the web. This is my digital diary. My respite from the chaos. Feel free to look around, get lost even. Oh, and btw‚Ä¶ I make music! That‚Äôs on here if you wanna check it out!! Safe travels :p</p>

      <hr />
      <h2>Status</h2>
      <div class="status-box">
        <p style="white-space:pre-line; margin:0">
<span class="pink">Currently:</span> rewatching Charmed and working on music : )
<span class="pink">Now listening to:</span> Britney ‚Äî ‚ÄúPhonography‚Äù (on repeat)
<span class="pink">Mood:</span> excited and nervous :D
        </p>
      </div>

      <hr />
      <h2>Now Playing</h2>
      <div class="winamp" role="group" aria-label="Now Playing">
        <div class="display">01. bj case ‚Äî Performance (demo)</div>
        <div class="row">
          <div class="btn" title="Prev" aria-label="Previous">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M7 5v14H5V5h2zm2 7 10 7V5L9 12z"/></svg>
          </div>
          <div class="btn" title="Play" aria-label="Play">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M8 5v14l11-7z"/></svg>
          </div>
          <div class="btn" title="Pause" aria-label="Pause">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
          </div>
          <div class="btn" title="Next" aria-label="Next">
            <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M17 5v14h2V5h-2zM7 5l10 7-10 7V5z"/></svg>
          </div>
          <div class="scrubber"></div>
          <div>02:47</div>
        </div>
      </div>

      <hr />
      <h2>Featured Links</h2>
      <p>A little something I‚Äôve learned from my short time on Earth so far is the importance of placing an extreme emphasis on LOVE. ;)</p>

      <hr />
      <h2>Roadmap</h2>
      <pre style="margin:0; white-space:pre-wrap; font-family:inherit;">
‚Ä¢ Keep working on the blog
‚Ä¢ Clean my room
‚Ä¢ Keep building ‚ÄúFlip Phone‚Äù
      </pre>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Release Timeline</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
 ‚Ä¢Spring 2026: ??
 ‚Ä¢Summer 2026: ???
 ‚Ä¢ Autumn 2026: ???? 
      </pre>
      <hr />
      <h2>Studio Log</h2>
      <pre style="margin:0 0 10px 0; white-space:pre-wrap; font-family:inherit;">
‚Ä¢ November 3rd: Build synth stack for ‚ÄúFlip Phone‚Äù and figure out drum pattern
‚Ä¢ October 3rd, 2025: Figure out what the bridge of ‚ÄúPerformance‚Äù should be like
      </pre>
      <hr />
      <h2>Poll</h2>
      <div class="pollbox">
        <p class="desc">Pick the song that most interests you‚Ä¶</p>
        <div class="poll">
          <label><input type="radio" name="poll" value="performance"> ‚ÄúPerformance‚Äù</label>
          <label><input type="radio" name="poll" value="flip"> ‚ÄúFlip Phone‚Äù</label>
          <label><input type="radio" name="poll" value="look"> ‚ÄúLook But Don‚Äôt Touch‚Äù</label>
          <button id="voteBtnHome" class="voteBtn">Cast Vote</button>
        </div>
        <div class="poll-results" id="pollResultsHome" style="display:none;">
          <div>Performance: <span id="pPerfHome">0%</span></div>
          <div class="bar" id="bPerfHome" style="width:0%"></div>
          <div style="height:6px"></div>
          <div>Flip Phone: <span id="pFlipHome">0%</span></div>
          <div class="bar" id="bFlipHome" style="width:0%; background:#49c9ff"></div>
          <div style="height:6px"></div>
          <div>Look BDT: <span id="pLookHome">0%</span></div>
          <div class="bar" id="bLookHome" style="width:0%; background:#ffb35e"></div>
        </div>
      </div>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#journal">Journal</a><a href="#about">About</a><a href="#contact">Contact</a><a href="#music">Music</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts2">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=2.0.0" alt="webcam feed placeholder"></div>
      </div>
    `
  },

  /* ===== Arcade ===== */
  arcade: {
    leftTitle: "‚ô• Arcade",
    leftHTML: `
      <p>Welcome to the secret arcade ‚Äî neon chrome, pixel glitter. Pick a game:</p>
      <div class="arcade-landing">
        <a class="arc-card" href="#arcade-pong">
          <h3>PONG ‚Äî ‚ÄúPerformance‚Äù Rally</h3>
          <p>First to <strong>11</strong> wins (album easter egg). Arrows or touch pads. P/Pause, R/Reset.</p>
        </a>
        <a class="arc-card" href="#arcade-gloss">
          <h3>Lip Gloss Flight</h3>
          <p>Tap/Click to float the lipstick through mascara tubes. P/Pause, R/Reset.</p>
        </a>
        <a class="arc-card" href="#arcade-brick">
          <h3>Brick Breaker</h3>
          <p>Break the neon wall. Mouse or drag to move paddle. P/Pause, R/Reset.</p>
        </a>
      </div>
    `,
    rightEnabled: false
  },
  "arcade-pong": {
    leftTitle: "Pong ‚Äî First to 11",
    leftHTML: `
      <div class="game-wrap">
        <canvas id="pong" class="game-canvas"></canvas>
        <div class="touch-pads" id="pongPads">
          <div class="tpad">
            <div class="tbtn" data-dir="up">‚ñ≤</div>
            <div class="tbtn" data-dir="down">‚ñº</div>
          </div>
          <div class="tpad" style="align-items:flex-end; gap:8px; justify-content:center;">
            <div class="tbtn" data-act="pause" style="height:46%">‚è∏</div>
            <div class="tbtn" data-act="reset" style="height:46%">‚ü≤</div>
          </div>
        </div>
      </div>
      <div class="game-bar">
        <button class="gbtn" id="pongPause">Pause</button>
        <button class="gbtn" id="pongReset">Reset</button>
        <div class="ghud">Score: <span id="scoreL">0</span> ‚Äî <span id="scoreR">0</span></div>
      </div>
    `,
    rightEnabled: false
  },
  "arcade-gloss": {
    leftTitle: "Lip Gloss Flight",
    leftHTML: `
      <div class="game-wrap">
        <canvas id="gloss" class="game-canvas"></canvas>
      </div>
      <div class="game-bar">
        <button class="gbtn" id="glossPause">Pause</button>
        <button class="gbtn" id="glossReset">Reset</button>
        <div class="ghud">Score: <span id="glossScore">0</span></div>
      </div>
    `,
    rightEnabled: false
  },
  "arcade-brick": {
    leftTitle: "Brick Breaker",
    leftHTML: `
      <div class="game-wrap">
        <canvas id="brick" class="game-canvas"></canvas>
      </div>
      <div class="game-bar">
        <button class="gbtn" id="brickPause">Pause</button>
        <button class="gbtn" id="brickReset">Reset</button>
        <div class="ghud">Lives: <span id="bbLives">3</span> &nbsp; Score: <span id="bbScore">0</span></div>
      </div>
    `,
    rightEnabled: false
  },

  /* ===== Journal ===== */
  journal: {
    leftTitle: "Journal",
    leftHTML: `
      <div class="journal-shell">
        <!-- Animated diary cover -->
        <div class="j-cover" id="jCover">
          <div class="j-latch"></div>
          <div class="j-heart">‚ô•</div>
        </div>

        <!-- Inside spread -->
        <div class="journal-grid" style="position:relative; z-index:2; padding:8px;">
          <section class="j-blog" id="jBlog">
            <h2 style="margin-top:0">My Blog</h2>
            <p>Diaries, daydreams, and glitter notes. (Entries will appear here later.)</p>
            <div id="jList"></div>
          </section>

          <aside class="j-owner">
            <h3>Owner Mode</h3>
            <small>Enter passcode to unlock local editor (private to this device).</small>
            <div style="display:flex; gap:6px; margin:8px 0;">
              <input id="jPass" placeholder="enter passcode" style="flex:1; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:6px; font:12px Verdana;">
              <button id="jUnlock" class="gbtn">Unlock</button>
            </div>

            <div id="jEditor" style="display:none">
              <div style="display:flex; gap:6px; margin:8px 0;">
                <input id="jTitle" placeholder="title" style="flex:1; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:6px; font:12px Verdana;">
              </div>
              <textarea id="jBody" rows="5" placeholder="write an entry‚Ä¶" style="width:100%; background:#26002c; color:#ffeaff; border:1px solid #ff7ef6; border-radius:4px; padding:6px; font:12px Verdana;"></textarea>
              <div style="display:flex; gap:6px; margin-top:8px;">
                <button id="jPost" class="gbtn">Save (local)</button>
                <button id="jClear" class="gbtn">Clear local</button>
              </div>
            </div>
          </aside>
        </div>
      </div>
    `,
    rightEnabled: false
  },

  /* ===== Normal routes ===== */
  music: {
    leftTitle: "Music",
    leftHTML: `
      <p>Hey ‚Äî you‚Äôve found the music section. Let me provide an update on that front.</p>
      <p>Right now, I‚Äôm still in the early stages of learning production. However, my demo for my first song, ‚ÄúPerformance‚Äù is pretty well developed and is close to being ready for vocals which I‚Äôm excited for!! Also, I‚Äôve started to build my song ‚ÄúFlip Phone‚Äù too. I‚Äôm so excited!!! ‚Äî BJ</p>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Mix Notes</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li>Sidechain longer 4/4 bass vs syncopated stabs</li>
        <li>Delay throw on ‚Äú-ance‚Äù tail in ‚ÄúPerformance‚Äù</li>
        <li>Mono core; stereo for color only</li>
      </ul>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#journal">Studio Diary</a>
        <a href="#visuals">Cover Art</a>
        <a href="#contact">Bookings</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts3">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=2.0.0" alt="webcam feed placeholder"></div>
      </div>
    `
  },
  visuals: {
    leftTitle: "Visuals",
    leftHTML: `
      <p>Here‚Äôs where I‚Äôll post concepts for the visual aspects of my music, as well as some other stuff too. My little pixel picture piece of the blog, if you will.</p>
    `,
    rightEnabled: true,
    rightHTML: `
      <h2>Moodboard</h2>
      <ul style="margin:0 0 10px 18px; padding:0;">
        <li>Velvet theatre + chrome gloss</li>
        <li>Pink glitter + neon blue edge</li>
        <li>2007‚Äì2009 pop futurism</li>
      </ul>
      <hr />
      <h2>Quick Links</h2>
      <div class="badges">
        <a href="#music">Music</a><a href="#journal">Journal</a><a href="#contact">Contact</a>
      </div>
      <div class="webcam">
        <div class="bar"><div class="rec"><span class="dot"></span> REC</div><div class="ts" id="ts4">00:00:00</div></div>
        <div class="screen"><img src="/assets/webcam.gif?v=2.0.0" alt="webcam feed placeholder"></div>
      </div>
    `
  },
  about: {
    leftTitle: "About",
    leftHTML: `
      <p>Okay here‚Äôs like the serious section I guess. So I‚Äôm BJ. I make music, my favorite food is sushi, and I‚Äôm a cat person. You can find me here, IRL if I materialize, and to find me on other corners of the digital world, refer to the ‚ÄúContact‚Äù section.</p>
    `,
    rightEnabled: false
  },
  contact: {
    leftTitle: "Contact",
    leftHTML: `
      <p>These are my other pages:</p>
      <p>‚Ä¢ Instagram: @itsbjcase<br>
      ‚Ä¢ Tiktok: @wannabj<br>
      ‚Ä¢ I‚Äôm not on Twitter rn cuz it‚Äôs called ‚ÄòX‚Äô now, among other reasons :(</p>
      <p>Also, I‚Äôll be on streaming platforms soon! I‚Äôll put them here when the time comes.</p>
      <p>Ohhh and my email is <br><strong>itsbjcase@gmail.com</strong><br>for any inquiries (business only please!)</p>
    `,
    rightEnabled: false
  }
};

const rootEl = document.getElementById("pageRoot");
const leftPane = document.getElementById("leftPane");
const rightPane = document.getElementById("rightPane");

function setLayout(single){ single ? rootEl.classList.add("single") : rootEl.classList.remove("single"); }
function syncColumns(){
  const rightVisible = rightPane.style.display !== "none";
  if(!rightVisible){ leftPane.style.minHeight=""; return; }
  const L = leftPane.offsetHeight;
  const R = rightPane.offsetHeight;
  const H = Math.max(L,R);
  leftPane.style.minHeight = H + "px";
  rightPane.style.minHeight = H + "px";
}
let syncRAF; function scheduleSync(){ cancelAnimationFrame(syncRAF); syncRAF = requestAnimationFrame(syncColumns); }

function mountRight(html){
  if(!html){ rightPane.style.display="none"; setLayout(true); scheduleSync(); return; }
  rightPane.style.display=""; setLayout(false);
  rightPane.innerHTML = html;

  const btn = rightPane.querySelector('#voteBtnHome');
  if(btn){
    wirePoll('#voteBtnHome','#pollResultsHome','#pPerfHome','#pFlipHome','#pLookHome',
             '#bPerfHome','#bFlipHome','#bLookHome','bj_poll_home');
  }
  rightPane.querySelectorAll('img').forEach(img=>{
    if(img.complete) scheduleSync(); else img.addEventListener('load', scheduleSync, {once:true});
  });
  scheduleSync();
}

function render(route){
  const key = route && pages[route] ? route : "home";
  document.getElementById("leftTitle").textContent = pages[key].leftTitle;
  document.getElementById("leftContent").innerHTML = pages[key].leftHTML;
  mountRight(pages[key].rightEnabled ? pages[key].rightHTML : null);

  // Boot page-specific features
  if(key === 'arcade-pong') bootPong();
  if(key === 'arcade-gloss') bootGloss();
  if(key === 'arcade-brick') bootBrick();
  if(key === 'journal') bootJournal();
}
function onHash(){ render(location.hash.replace("#","").toLowerCase()); }
window.addEventListener("hashchange", onHash);
onHash();
window.addEventListener('resize', scheduleSync);

/* Clicking logo returns Home */
document.getElementById('logo').addEventListener('click', ()=> location.hash = '#home');

/* ===== POLL (localStorage) ===== */
function wirePoll(btnSel,resSel,pPerfSel,pFlipSel,pLookSel,bPerfSel,bFlipSel,bLookSel,KEY){
  const els = {
    btn: document.querySelector(btnSel),
    results: document.querySelector(resSel),
    pPerf: document.querySelector(pPerfSel),
    pFlip: document.querySelector(pFlipSel),
    pLook: document.querySelector(pLookSel),
    bPerf: document.querySelector(bPerfSel),
    bFlip: document.querySelector(bFlipSel),
    bLook: document.querySelector(bLookSel)
  };
  if(!els.btn) return;

  function read(){ try{ return JSON.parse(localStorage.getItem(KEY))||{performance:0,flip:0,look:0}; }catch(e){ return {performance:0,flip:0,look:0}; } }
  function save(d){ localStorage.setItem(KEY, JSON.stringify(d)); }
  function per(v,t){ return Math.round((v||0)/(t||1)*100); }
  function draw(d){
    const t=(d.performance||0)+(d.flip||0)+(d.look||0)||1;
    els.pPerf.textContent=per(d.performance,t)+"%";
    els.pFlip.textContent=per(d.flip,t)+"%";
    els.pLook.textContent=per(d.look,t)+"%";
    els.bPerf.style.width=per(d.performance,t)+"%";
    els.bFlip.style.width=per(d.flip,t)+"%";
    els.bLook.style.width=per(d.look,t)+"%";
    els.results.style.display='block';
  }

  els.btn.addEventListener('click',()=>{
    const chosen = document.querySelector('input[name="poll"]:checked'); if(!chosen) return;
    const voted = localStorage.getItem(KEY+"_voted"); const data=read();
    if(voted){ draw(data); return; }
    if(chosen.value==="performance") data.performance++;
    if(chosen.value==="flip") data.flip++;
    if(chosen.value==="look") data.look++;
    save(data); localStorage.setItem(KEY+"_voted","1"); draw(data);
  });

  if(localStorage.getItem(KEY+"_voted")) draw(read());
}
wirePoll('#voteBtn','#pollResults','#pPerf','#pFlip','#pLook','#bPerf','#bFlip','#bLook','bj_poll_right');

/* ===== Shoutbox (private posts) ===== */
(() => {
  const SB_KEY="bj_shout_private";
  const chat = document.getElementById('chat');
  const nameInput = document.getElementById('nameInput');
  const msgInput = document.getElementById('msgInput');
  const sendBtn  = document.getElementById('sendBtn');
  const privTgl  = document.getElementById('privateToggle');
  const clearBtn = document.getElementById('clearLocal');

  function load(){ try{ return JSON.parse(localStorage.getItem(SB_KEY))||[] }catch(e){ return [] } }
  function save(arr){ localStorage.setItem(SB_KEY, JSON.stringify(arr)) }

  function renderPrivate(){
    chat.innerHTML = ''; // display nothing by default (public empty)
    if(!privTgl.checked) return;
    const arr = load();
    arr.forEach(s=>{
      const div = document.createElement('div');
      div.className = 'bubble private me';
      div.innerHTML = `<strong>${s.name||'me'}:</strong> ${s.text}<div class="meta">${s.time}</div>`;
      chat.appendChild(div);
    });
    chat.scrollTop = chat.scrollHeight;
  }

  document.querySelectorAll('#emotes button').forEach(b=>{
    b.addEventListener('click',()=>{ msgInput.value += (msgInput.value ? ' ' : '') + b.textContent; msgInput.focus(); });
  });

  sendBtn.addEventListener('click', ()=>{
    const text = msgInput.value.trim(); if(!text) return;
    const name = (nameInput.value.trim() || 'me');
    const time = new Date().toLocaleString();
    const arr = load(); arr.push({name, text, time}); save(arr);
    msgInput.value='';
    renderPrivate();
  });

  privTgl.addEventListener('change', renderPrivate);
  clearBtn.addEventListener('click', ()=>{ localStorage.removeItem(SB_KEY); renderPrivate(); });

  renderPrivate();
})();

/* ===== Cursor glitter ===== */
(()=> {
  const colors = ["#ff9ef6","#49c9ff","#ffb35e","#ff4d4d","#ffffff"];
  let lastT = 0;
  document.addEventListener("mousemove", (e)=>{
    const now = performance.now();
    if (now - lastT < 12) return;
    lastT = now;
    const star = document.createElement("span");
    star.className = "cursor-star";
    star.style.left = (window.scrollX + e.clientX - 3) + "px";
    star.style.top  = (window.scrollY + e.clientY - 3) + "px";
    const c = colors[(Math.random()*colors.length)|0];
    star.style.color = c;
    star.style.background = `radial-gradient(circle, ${c} 0%, transparent 70%)`;
    document.body.appendChild(star);
    setTimeout(()=>{ star.remove(); }, 550);
  }, {passive:true});
})();

/* ===== REC timers ===== */
(function recTimers(){
  const update = (id)=> {
    const el = document.getElementById(id);
    if(!el) return;
    const t = new Date();
    const h = String(t.getHours()).padStart(2,'0');
    const m = String(t.getMinutes()).padStart(2,'0');
    const s = String(t.getSeconds()).padStart(2,'0');
    el.textContent = `${h}:${m}:${s}`;
  };
  setInterval(()=>{ ['ts','ts2','ts3','ts4'].forEach(update); }, 1000);
})();

/* ===========================================================
   JOURNAL scripts (local-only Owner Mode)
   =========================================================== */
function bootJournal(){
  // diary cover auto-animates via CSS. Nothing else needed for the cover.
  const PASS_KEY='bj_journal_owner';
  const LIST_KEY='bj_journal_entries';

  const unlockBtn = document.getElementById('jUnlock');
  const pass = document.getElementById('jPass');
  const editor = document.getElementById('jEditor');
  const postBtn = document.getElementById('jPost');
  const clearBtn = document.getElementById('jClear');
  const titleEl = document.getElementById('jTitle');
  const bodyEl = document.getElementById('jBody');
  const jList = document.getElementById('jList');

  const showEditor = (on)=>{ editor.style.display = on ? '' : 'none'; };

  function loadEntries(){ try{ return JSON.parse(localStorage.getItem(LIST_KEY))||[] }catch(e){ return [] } }
  function saveEntries(arr){ localStorage.setItem(LIST_KEY, JSON.stringify(arr)) }
  function draw(){
    jList.innerHTML = ''; // keep empty by default per your request (no seed entries)
    if(localStorage.getItem(PASS_KEY)!=='1') return; // owner can preview posts locally
    loadEntries().forEach(e=>{
      const div=document.createElement('div');
      div.className='j-entry';
      div.innerHTML = `<h3 style="margin:0 0 6px">${e.title||'(untitled)'} <span style="font:11px Verdana; opacity:.6">${e.ts}</span></h3><p style="white-space:pre-wrap">${e.body||''}</p>`;
      jList.prepend(div);
    });
  }

  unlockBtn.addEventListener('click', ()=>{
    const EXPECTED = (pass.value||'').trim();
    if(EXPECTED.length>=1){
      localStorage.setItem(PASS_KEY,'1'); showEditor(true); draw();
    } else {
      alert('Enter a passcode to unlock (local-only).');
    }
  });

  postBtn.addEventListener('click', ()=>{
    const t=titleEl.value.trim(), b=bodyEl.value.trim();
    if(!b){ alert('Write something first'); return; }
    const arr=loadEntries(); arr.push({title:t, body:b, ts:new Date().toLocaleString()}); saveEntries(arr);
    titleEl.value=''; bodyEl.value=''; draw();
  });

  clearBtn.addEventListener('click', ()=>{
    if(confirm('Clear local journal entries on this device?')){ localStorage.removeItem(LIST_KEY); draw(); }
  });

  if(localStorage.getItem(PASS_KEY)==='1') showEditor(true);
  draw();
}

/* ===========================================================
   ARCADE: PONG (to 11, mobile pads, pause/reset)
   =========================================================== */
function bootPong(){
  const canvas = document.getElementById('pong'); if(!canvas) return;
  const ctx = canvas.getContext('2d');
  const pads = document.getElementById('pongPads');
  const pauseBtn = document.getElementById('pongPause');
  const resetBtn = document.getElementById('pongReset');
  const scoreL = document.getElementById('scoreL');
  const scoreR = document.getElementById('scoreR');

  let W=0,H=0;
  function sizeCanvas(){
    const parent=canvas.parentElement||canvas;
    const w=Math.min(parent.clientWidth||560, 860);
    const h=Math.round(w*9/14);
    canvas.width=w; canvas.height=h; W=w; H=h;
  }
  sizeCanvas();
  window.addEventListener('resize', sizeCanvas, {passive:true});

  const WIN=11;
  let paused=false, gameOver=false;
  let sL=0,sR=0;

  const P={ x:16, y:0, w:10, h:Math.max(60,Math.round(H*0.14)), s:5.0 };
  const C={ x:0, y:0, w:10, h:Math.max(60,Math.round(H*0.14)), s:4.0 };
  function resetPaddles(){ P.y=H/2-P.h/2; C.x=W-26; C.y=H/2-C.h/2; }
  resetPaddles();

  const B={ x:W/2, y:H/2, r:6, vx:4, vy:2.6 };
  function resetBall(dir){
    B.x=W/2; B.y=H/2;
    const sX=4.0+Math.random()*0.8, sY=2.2+Math.random()*1.0;
    B.vx=(dir|| (Math.random()<.5?1:-1))*sX; B.vy=(Math.random()<.5?1:-1)*sY;
  }
  resetBall(1);

  let up=false,down=false;
  const kd=(e)=>{ if(e.key==='ArrowUp'){up=true; e.preventDefault()} if(e.key==='ArrowDown'){down=true; e.preventDefault()} if(e.key.toLowerCase()==='p'){paused=!paused} if(e.key.toLowerCase()==='r'){doReset()} };
  const ku=(e)=>{ if(e.key==='ArrowUp'){up=false; e.preventDefault()} if(e.key==='ArrowDown'){down=false; e.preventDefault()} };
  window.addEventListener('keydown', kd, {passive:false});
  window.addEventListener('keyup', ku, {passive:false});

  // Touch pads
  if(pads){
    pads.querySelectorAll('.tbtn').forEach(btn=>{
      const dir=btn.getAttribute('data-dir'), act=btn.getAttribute('data-act');
      if(dir){
        const press=()=>{ if(dir==='up') up=true; else down=true; };
        const lift =()=>{ if(dir==='up') up=false; else down=false; };
        btn.addEventListener('touchstart', e=>{e.preventDefault(); press();},{passive:false});
        btn.addEventListener('touchend',   e=>{e.preventDefault(); lift();},{passive:false});
        btn.addEventListener('mousedown', press);
        btn.addEventListener('mouseup', lift);
        btn.addEventListener('mouseleave', lift);
      }
      if(act==='pause'){
        btn.addEventListener('click', ()=> paused=!paused);
        btn.addEventListener('touchstart', e=>{e.preventDefault(); paused=!paused;},{passive:false});
      }
      if(act==='reset'){
        btn.addEventListener('click', ()=> doReset());
        btn.addEventListener('touchstart', e=>{e.preventDefault(); doReset();},{passive:false});
      }
    });
  }
  pauseBtn?.addEventListener('click', ()=> paused=!paused);
  resetBtn?.addEventListener('click', ()=> doReset());

  function doReset(){
    sL=0; sR=0; gameOver=false; paused=false; resetPaddles(); resetBall( (Math.random()<.5?1:-1) ); drawScore();
  }
  function drawScore(){ if(scoreL) scoreL.textContent=sL; if(scoreR) scoreR.textContent=sR; }

  function clamp(v,min,max){ return v<min?min:(v>max?max:v); }

  function draw(){
    const g=ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#140018'); g.addColorStop(1,'#0b0010');
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
    // center dash
    ctx.setLineDash([8,8]); ctx.strokeStyle='rgba(255,255,255,.2)';
    ctx.beginPath(); ctx.moveTo(W/2,0); ctx.lineTo(W/2,H); ctx.stroke(); ctx.setLineDash([]);
    // score
    ctx.fillStyle='#ffdfff'; ctx.font='bold 20px Verdana';
    ctx.fillText(`${sL}`, W/2-36, 26); ctx.fillText(`${sR}`, W/2+24, 26);
    // paddles
    ctx.fillStyle='#ff9ef6'; ctx.fillRect(P.x,P.y,P.w,P.h);
    ctx.fillStyle='#49c9ff'; ctx.fillRect(C.x,C.y,C.w,C.h);
    // ball
    ctx.beginPath(); ctx.fillStyle='#fff'; ctx.arc(B.x,B.y,B.r,0,Math.PI*2); ctx.fill();

    if(paused || gameOver){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 22px Verdana'; ctx.textAlign='center';
      if(gameOver){ ctx.fillText(sL>=WIN?'YOU WIN':'YOU LOSE', W/2,H/2-6); ctx.font='bold 14px Verdana'; ctx.fillText('Press R to restart', W/2, H/2+16); }
      else{ ctx.fillText('PAUSED', W/2, H/2); }
      ctx.textAlign='start';
    }
  }

  function step(){
    if(W!==canvas.width||H!==canvas.height){ sizeCanvas(); resetPaddles(); }
    if(paused||gameOver){ draw(); requestAnimationFrame(step); return; }

    if(up) P.y-=P.s; if(down) P.y+=P.s; P.y=clamp(P.y,0,H-P.h);

    // cpu follows with easing
    const target=B.y - C.h/2; C.y += (target - C.y)*0.09; C.y=clamp(C.y,0,H-C.h);

    // ball physics
    B.x+=B.vx; B.y+=B.vy;
    if(B.y-B.r<0){ B.y=B.r; B.vy*=-1; }
    if(B.y+B.r>H){ B.y=H-B.r; B.vy*=-1; }

    // score on walls
    if(B.x+B.r<0){ sR++; drawScore(); if(sR>=WIN){gameOver=true;} resetBall(1); }
    if(B.x-B.r>W){ sL++; drawScore(); if(sL>=WIN){gameOver=true;} resetBall(-1); }

    // collisions
    function hit(p){
      if(B.x+B.r>p.x && B.x-B.r<p.x+p.w && B.y>p.y && B.y<p.y+p.h){
        B.vx*=-1.06;
        const rel=(B.y-(p.y+p.h/2))/(p.h/2);
        B.vy=clamp(B.vy+rel*2.4,-5.2,5.2);
      }
    }
    hit(P); hit(C);

    draw();
    requestAnimationFrame(step);
  }
  drawScore(); draw(); requestAnimationFrame(step);
}

/* ===========================================================
   ARCADE: LIP GLOSS FLIGHT (lipstick + mascara tubes)
   =========================================================== */
function bootGloss(){
  const canvas=document.getElementById('gloss'); if(!canvas) return;
  const ctx=canvas.getContext('2d');
  const pauseBtn=document.getElementById('glossPause');
  const resetBtn=document.getElementById('glossReset');
  const scoreEl=document.getElementById('glossScore');

  let W=0,H=0;
  function size(){ const p=canvas.parentElement||canvas; const w=Math.min(p.clientWidth||560,860); const h=Math.round(w*9/16); canvas.width=w; canvas.height=h; W=w; H=h; }
  size(); window.addEventListener('resize', size, {passive:true});

  let paused=false, over=false, score=0;
  const G=1.0, FLAP=-10.5;
  const player={ x:W*0.28, y:H*0.4, vy:0, w:24, h:24 };
  const pipes=[];
  let t=0;

  function reset(){
    paused=false; over=false; score=0;
    player.y=H*0.4; player.vy=0; pipes.length=0; t=0; draw(); updateScore();
  }
  function updateScore(){ if(scoreEl) scoreEl.textContent=score; }
  function flap(){ if(over) return; player.vy=FLAP; }

  canvas.addEventListener('mousedown', flap);
  canvas.addEventListener('touchstart', (e)=>{e.preventDefault(); flap();},{passive:false});
  window.addEventListener('keydown', (e)=>{ if(e.key===' '){ flap(); e.preventDefault(); } if(e.key.toLowerCase()==='p') paused=!paused; if(e.key.toLowerCase()==='r') reset(); }, {passive:false});
  pauseBtn?.addEventListener('click', ()=> paused=!paused);
  resetBtn?.addEventListener('click', reset);

  function spawnPipe(){
    const gap=Math.max(120, H*0.26);
    const top= (Math.random()*(H-gap-60))+30;
    pipes.push({ x:W+10, top:top, gap:gap, w:38, scored:false });
  }

  function drawLipstick(x,y){
    // pixel-ish lipstick: body + silver band + colored tip
    ctx.save();
    ctx.translate(x,y);
    ctx.fillStyle='#111'; ctx.fillRect(-10,-10,20,28);             // black case
    ctx.fillStyle='#777'; ctx.fillRect(-10,4,20,4);                 // silver band
    ctx.fillStyle='#ff6aa0'; ctx.beginPath();                       // pink tip triangle
    ctx.moveTo(0,-16); ctx.lineTo(-8,-4); ctx.lineTo(8,-4); ctx.closePath(); ctx.fill();
    ctx.restore();
  }
  function drawMascara(x,y,h){
    // vertical tube obstacle
    ctx.save();
    ctx.translate(x,y);
    ctx.fillStyle='#222'; ctx.fillRect(-14,0,28,h);                 // tube
    ctx.fillStyle='#999'; ctx.fillRect(-14,0,28,6);                 // cap ring
    ctx.restore();
  }

  function drawBG(){
    const g=ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#1a0220'); g.addColorStop(1,'#0b0011');
    ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
  }

  function draw(){
    drawBG();
    // pipes
    pipes.forEach(p=>{
      drawMascara(p.x, 0, p.top);                       // top tube
      drawMascara(p.x, p.top+p.gap, H-(p.top+p.gap));   // bottom tube
    });
    // player
    drawLipstick(player.x, player.y);
    if(over || paused){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 22px Verdana'; ctx.textAlign='center';
      ctx.fillText(over?'GAME OVER':'PAUSED', W/2, H/2);
      ctx.textAlign='start';
    }
  }

  function step(){
    if(paused){ draw(); requestAnimationFrame(step); return; }
    if(over){ draw(); requestAnimationFrame(step); return; }

    t++;
    if(t%70===0) spawnPipe();

    // physics
    player.vy += G*0.6;
    player.y  += player.vy;
    if(player.y>H-10){ over=true; }
    if(player.y<-20){ player.y=-20; }

    // pipes move
    for(let i=pipes.length-1;i>=0;i--){
      const p=pipes[i]; p.x -= 2.8;
      // score
      if(!p.scored && p.x+ p.w < player.x){ score++; p.scored=true; updateScore(); }
      // remove
      if(p.x < -60){ pipes.splice(i,1); }
      // collision
      const px=player.x, py=player.y, pw=20, ph=24;
      const inX = (px+pw>p.x-14) && (px<p.x-14+28);
      const hitsTop = inX && (py-10 < p.top);
      const hitsBot = inX && (py+ph > p.top + p.gap);
      if(hitsTop || hitsBot){ over=true; }
    }

    draw();
    requestAnimationFrame(step);
  }

  reset(); requestAnimationFrame(step);
}

/* ===========================================================
   ARCADE: BRICK BREAKER (neon bricks, touch drag)
   =========================================================== */
function bootBrick(){
  const canvas=document.getElementById('brick'); if(!canvas) return;
  const ctx=canvas.getContext('2d');
  const pauseBtn=document.getElementById('brickPause');
  const resetBtn=document.getElementById('brickReset');
  const livesEl=document.getElementById('bbLives');
  const scoreEl=document.getElementById('bbScore');

  let W=0,H=0;
  function size(){ const p=canvas.parentElement||canvas; const w=Math.min(p.clientWidth||560,860); const h=Math.round(w*3/5); canvas.width=w; canvas.height=h; W=w; H=h; }
  size(); window.addEventListener('resize', size, {passive:true});

  let paused=false, over=false, lives=3, score=0;

  const paddle={ w:Math.max(60,Math.round(W*0.16)), h:12, x:W/2, y:H-26, s:8 };
  const ball={ x:W/2, y:H/2, r:6, vx:3.2, vy:-3.2 };

  const rows=5, cols=10, gap=6, topOff=40, leftOff=16;
  let bricks=[];
  function makeBricks(){
    bricks=[];
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        bricks.push({x:leftOff + c*((W-leftOff*2 - (cols-1)*gap)/cols + gap),
                     y:topOff + r*(18+gap),
                     w:(W-leftOff*2 - (cols-1)*gap)/cols, h:18, alive:true,
                     hue: (c*20 + r*30)%360});
      }
    }
  }
  function reset(){
    paused=false; over=false; lives=3; score=0;
    paddle.x=W/2; paddle.y=H-26;
    ball.x=W/2; ball.y=H-60; ball.vx=3.0; ball.vy=-3.3;
    makeBricks(); drawHUD(); draw();
  }
  function drawHUD(){ if(livesEl) livesEl.textContent=lives; if(scoreEl) scoreEl.textContent=score; }

  function drawBG(){ const g=ctx.createLinearGradient(0,0,0,H); g.addColorStop(0,'#130017'); g.addColorStop(1,'#09000f'); ctx.fillStyle=g; ctx.fillRect(0,0,W,H); }

  function draw(){
    drawBG();
    // bricks
    bricks.forEach(b=>{
      if(!b.alive) return;
      ctx.fillStyle=`hsl(${b.hue} 100% 60% / .85)`;
      ctx.fillRect(b.x,b.y,b.w,b.h);
      ctx.strokeStyle='#000'; ctx.strokeRect(b.x,b.y,b.w,b.h);
    });
    // paddle
    ctx.fillStyle='#ff9ef6'; ctx.fillRect(paddle.x - paddle.w/2, paddle.y, paddle.w, paddle.h);
    // ball
    ctx.beginPath(); ctx.fillStyle='#fff'; ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fill();
    if(paused || over){
      ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='#ffdfff'; ctx.font='bold 22px Verdana'; ctx.textAlign='center';
      ctx.fillText(over?'GAME OVER':'PAUSED', W/2, H/2);
      ctx.textAlign='start';
    }
  }

  // Mouse and touch drag
  function setPaddleFromClientX(cx){
    const rect=canvas.getBoundingClientRect();
    const x = cx - rect.left;
    paddle.x = Math.max(paddle.w/2, Math.min(W - paddle.w/2, x));
  }
  canvas.addEventListener('mousemove', e=> setPaddleFromClientX(e.clientX));
  canvas.addEventListener('touchmove', e=>{ e.preventDefault(); if(e.touches[0]) setPaddleFromClientX(e.touches[0].clientX); }, {passive:false});
  window.addEventListener('keydown', (e)=>{ if(e.key.toLowerCase()==='p') paused=!paused; if(e.key.toLowerCase()==='r') reset(); });

  pauseBtn?.addEventListener('click', ()=> paused=!paused);
  resetBtn?.addEventListener('click', reset);

  function step(){
    if(paused){ draw(); requestAnimationFrame(step); return; }
    if(over){ draw(); requestAnimationFrame(step); return; }

    // move ball
    ball.x+=ball.vx; ball.y+=ball.vy;
    if(ball.x-ball.r<0){ ball.x=ball.r; ball.vx*=-1; }
    if(ball.x+ball.r>W){ ball.x=W-ball.r; ball.vx*=-1; }
    if(ball.y-ball.r<0){ ball.y=ball.r; ball.vy*=-1; }

    // paddle collision
    if(ball.y+ball.r>paddle.y && ball.y+ball.r<paddle.y+paddle.h &&
       ball.x>paddle.x-paddle.w/2 && ball.x<paddle.x+paddle.w/2){
      ball.y=paddle.y-ball.r;
      const rel=(ball.x - paddle.x)/(paddle.w/2);
      ball.vy = -Math.abs(ball.vy);
      ball.vx += rel*1.8;
    }

    // brick collisions
    bricks.forEach(b=>{
      if(!b.alive) return;
      if(ball.x>b.x && ball.x<b.x+b.w && ball.y>b.y && ball.y<b.y+b.h){
        b.alive=false; score+=10; drawHUD();
        // simple bounce: invert vertical
        ball.vy*=-1;
      }
    });

    // lose life
    if(ball.y-ball.r>H){
      lives--; drawHUD();
      if(lives<=0){ over=true; }
      else{
        ball.x=W/2; ball.y=H-60; ball.vx=3.0*(Math.random()<.5?1:-1); ball.vy=-3.3;
      }
    }

    // win when all dead
    if(bricks.every(b=>!b.alive)){ over=true; }

    draw();
    requestAnimationFrame(step);
  }

  reset(); requestAnimationFrame(step);
}

/* ===========================================================
   Mount static right poll too
   =========================================================== */
wirePoll('#voteBtn','#pollResults','#pPerf','#pFlip','#pLook','#bPerf','#bFlip','#bLook','bj_poll_right');
</script>
</body>
</html>